{"docstore/metadata": {"https://www.superannotate.com/blog/llm-fine-tuning": {"doc_hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134"}, "https://huggingface.co/docs/autotrain/en/llm_finetuning": {"doc_hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5"}, "4831ac00-9f74-4a2e-85dc-fee6cc65c461": {"doc_hash": "45175820ed54f636dde5bd2d21ad59ecfdb847577056abbbfb9141da21a4ff4b"}, "e2613c84-a2eb-4267-817e-dc8060a1afc0": {"doc_hash": "d70974e38b21b88e7e009ef43596ca7e74c72543f0cbed59d39569282260caba"}, "1e6ef2fb-23d2-4924-a911-620353761d4a": {"doc_hash": "72dc1137e7ddc6f01fc32ae6a147c779116266a42e198625f39dfb0372fdfd82"}, "cf67a37f-c5f5-4556-8047-d4985fcbd589": {"doc_hash": "912952e8dcf723d716d4fce59f8fa980aa1e52002151621c8ab589d21bbd5c11"}, "fc0a84c0-dd7a-4478-bb0b-342045637dd3": {"doc_hash": "69eba67d3fcec2cb381aff2d47aea3fcf7dacb148b6e2878bbc4a68b27aaea75"}, "f2b631e0-f157-4609-93c8-6869ec60a479": {"doc_hash": "4d4bd45d6c96facb0b607dfad2fd0a2f058b3356811b4734a5825ac1bceb8225"}, "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd": {"doc_hash": "4b364895e6d406da7a27def36e3c3eb08ef5616f522e8a807332c8d1b0e9ad8d"}, "a0587c50-158a-46ed-a609-795e2c009d5b": {"doc_hash": "e22983e0a515690fe60d55f5b048f5e6039f18641bb488a10a660dd85d8dcb3c"}, "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c": {"doc_hash": "4832a0d177dd6918766af58eea501f73c529330643672681eb9b815871fc123f"}, "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80": {"doc_hash": "12aeaf684445dcd0966210d0ca8c77e24dc614c54f152c228187b9c09b4be7f2"}, "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6": {"doc_hash": "a77cce14eef97ce1f5583a47cab6876eb5fe892c533efb097ddaebba8e40957c"}, "df07f28f-5c4b-4098-9b5c-54c4b27f5929": {"doc_hash": "73d9fa8bf5100471ac4eabaebbb21f397c030a5c1df11fcf79ea5e796617ebe8"}, "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de": {"doc_hash": "d9db6be5a9fd5547c873968f57fe09d7b8c22f23c70f384c38d503c102be7349"}, "5412a96d-8d4f-4284-bab0-69537b32ca43": {"doc_hash": "e0e069e9ca3b22ce573393121a17287569ea2db6bf5d45a98bf4fcc268494792"}, "4c0250a9-5f43-4c9a-8b7d-1354a2d10e13": {"doc_hash": "71badfa87b1f3c3c6d030d4c81c9923d18ec9dd7de00c195d6d2c580deaf4ef9"}, "076b0591-03ca-493c-95a0-e342606a7489": {"doc_hash": "6dd31c1c995cf86349c7687f43981212c5ee766b5d67518a18b5cdf72485a1c6"}, "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125": {"doc_hash": "c07a6846437159e61da96c2fa769a41ac2ae58b6b0d32f724041f03a2da043a8"}, "10f729b0-768c-434e-8b65-113ce3516db3": {"doc_hash": "4963fc5809ddfe8a173611fdd30ab87b4fdc33ecef856d6e0bfef54db617ff6b"}, "90155421-7049-46a8-a9de-d77626055f28": {"doc_hash": "a805057fee31841cba092e63eb61b704af42513c8e2bf73b6bc44fc6d5e15712"}, "e26e8403-ad68-44a2-b3df-46b33c406463": {"doc_hash": "66c31170505404d19d1ae297f62cb6988b8b2d2255225bed758c5888c684cdac"}, "b255242c-0458-4b0c-bab3-81db80ec97e5": {"doc_hash": "58014fba4b5e7e50ea702c9c1297186a1940f527c691085df70e28ef425d64d1"}, "64c6d204-94a9-4bc8-8228-c3f06182b464": {"doc_hash": "74fed6190a90bf72e874bd898bc96859f048532fcff22effd34a399d3095d6c2"}, "f449925c-f5c8-4e1f-8916-07f69529789e": {"doc_hash": "017169e57c627ecb68cc28d6022ea21305b3e50cb4af772a64397ee25d225a33"}, "7900e689-3da7-4fd3-82fc-cee85a6cc7fc": {"doc_hash": "c4879cdc148df642fb2e8850b7972c139e6a3050e57ea297b07820f2ccfd7999"}, "64bbb4bc-98f0-401f-b5ca-dce2d557f443": {"doc_hash": "6f4102705c6161304466e1b9c91538e5af3a661097f9e5f47082186b09e98061"}, "0980330e-d6b6-489b-bff9-8674c7f8066b": {"doc_hash": "528ba9d7376ff4c0cbb18f8bf530e07a651ea68cfb6314498447d0b6789204b3"}, "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c": {"doc_hash": "11a4d140e5cc743ae4a626cdc5091869417619fa555f8d266b666481429af46e"}, "0ed27edc-f381-4e22-81bd-6b38387a4217": {"doc_hash": "d693abb8777af6cf42a9663b9aa339505146e1acad10011ffcd728c8dcc0541d"}, "11baaba9-577c-4545-b88b-9811c23ed1cc": {"doc_hash": "2336043e2c8a1a0ddb2ab140426f27b6fe6caf514e27af1a9c68a151729ec4cd"}, "61cbab43-6b79-4845-a361-d5427aafa1a9": {"doc_hash": "ec703d73b100cd17aadfacd29e051feca3d7650572877bf414eaae2a01e44ff5"}, "41e17dde-d231-4d42-85c2-59929153d327": {"doc_hash": "a19ff2c5ac780aaec5e8185aab48cd64af19c50690f9b31bd7d0ab733fb27416"}, "7fde48db-bce7-4184-b2ed-0f050d5a1d7d": {"doc_hash": "1c68029a7036f48fb893967cccc62842799cee09ef9424e100c525d7df52dd29"}, "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590": {"doc_hash": "77da058f1715f5d3ca97732b9153af04e7c0f099642b0c2dd378105aba8017b1"}, "e48f6ee0-d7c0-4041-9896-107befc594f3": {"doc_hash": "3938bedc029eb416bbb86079d7e27c236d80b43251ed6e1bd1c85db5adeca2e5"}, "eC6Hd1hFvos": {"doc_hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b"}, "3eq84KrdTWY": {"doc_hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e"}, "f3b19bf6-54e9-4367-92d8-6d704f9167ed": {"doc_hash": "8bb1d0cd499db38799f407140a913d86d09149e710883ba27c2e875e73cb1a11", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "21939415-3d57-463c-bf69-c0cd422a966b": {"doc_hash": "55dd7a559a869741a954593ca973e00a57d53dd3a95006d0ea8bd31ec7db88ae", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "620aea7e-2587-47b8-9846-5a94acea841f": {"doc_hash": "542aa9bdff92ffbe34dd171be91c303921fe7d1682009e0d19baf267b78c38e2", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "001758fd-6c1b-4d41-ad49-0ab90414a8f2": {"doc_hash": "062fa8642d089009877fc9c3d1afbbb230cf92e0e2f8e5a1d63e9a18b61396c1", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "cc8ff14a-9ae4-463b-8071-b94f6bcb3abf": {"doc_hash": "2c05d5d54a4ae3d1845529661ccc7b87b56a56aa1f1730b59f0907798269fedc", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "edc770a6-10c1-4109-8ab6-40ae42793f69": {"doc_hash": "b519570a224c0c84a08017016ecf07e7ed490ce432e3087c631c6167b67605d0", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "3a7296d0-13ba-4afc-8f5b-db8eac036707": {"doc_hash": "c346b5a521cf9063a548970914b921864b4e360f5e37472aab21d930ffb988e7", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "99626ace-d0e0-4f23-9e46-66b3a005ee76": {"doc_hash": "6c08f89b7968d05ef433f8b1b9da314b580744975db53773cfa0c0816ca6990a", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "1a0f7c2c-27ee-4a9a-b10e-a0a71f7fa50a": {"doc_hash": "8cedf186b7a075d459cc2e2ed43379e22c5dbe0065e727765d2283f69fcfe7bd", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "9e8afd85-a91d-409d-bda3-5483cc48f2cd": {"doc_hash": "ef5424d6b5d04bb11ef8b7f24b2d42f3fc7ce3fa616d009dab2839aecfee50aa", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "72fc6f75-b8c6-4599-b9cb-7f9b1371dda5": {"doc_hash": "9b84e3acc0e689d6d1903d54c095a1a9669ba2feb78de1632c9ed26b4dcf004b", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "21e42a98-9af6-4066-bb39-b3bce6642655": {"doc_hash": "bb41e5df5bfe8342e9fccc2fbfd18f04366c2c67f839b2e576ccc50e476afd8d", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "c7b0e07c-94d5-4a96-8e3b-52e209ccca50": {"doc_hash": "3bb8bf16d368a321c42bf092e57e97d51245d886ca7e032ff2c8e2f749614bc0", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "6e6cdcfe-7d97-4083-8aae-a4fa2f7ee420": {"doc_hash": "f4367c3aca49209f9d68efc20b1b1ac923e5f468cff92e0998a8c336e8d112bc", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "7b20ec86-1e9b-4125-81c7-13c11aade369": {"doc_hash": "fe28831e15f229b6956985b21254d0504c5684ccdee3db783fdd33a53a9eb994", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "ad1a6283-1eab-4d1a-831c-234660dc7cc2": {"doc_hash": "cb203cf9e858d47be0c25b0a2a1d1966e4c894cb0243f31fe82d93645b724cbd", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "f673df69-f362-43bd-b1db-76412c808460": {"doc_hash": "591f3ce2871fceb81b9cea5925649ce6530ff1e73d76302b3d2de02ee1091078", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "21e6ee37-1917-427d-921f-2d361a7cd961": {"doc_hash": "daaa0b89229b0fef45420f5b64a852b445c6f6a8ce8faee2eb6c2108094f2e75", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "3341b33d-23b1-45ab-8004-66265e36099b": {"doc_hash": "0a47d17febfecd544e0952258080d5e03baa3268a275b3eb65aac2d12a0510be", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "a7bddbb2-2663-4a79-bdae-39f99779e408": {"doc_hash": "472d3bfb0cc117b3c40094b1ea6fa9e9060c734bba2ba6cc4da1fb3d5d4b1425", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "1420e578-37d4-469c-8936-f5fcfd67b99f": {"doc_hash": "aedcfcbcca63d4357504a6c69e89535b1a0be3187e3a7b780d65d113d22a8849", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "2a97a1e0-25a4-432c-974b-084fd51cbf74": {"doc_hash": "4ab1e5a52675964a4790e8b1e9c3e8d41a530a85e8e46e78b13e1bd14ca0b139", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "dae1a6bc-78c6-4b3e-a2c9-de56fbd25ab7": {"doc_hash": "a9b0970eea95d5161d4b0ef3f5f207059b408572b3265267c3eaca2cecfc1a8c", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "ae36f543-8bc5-4c88-bffd-18bd902af39d": {"doc_hash": "a3c0b6c9900cdbe5b039239a78ba93705aae913f9a591b2c113dfc0b767fe4aa", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "f4e486d1-104c-4bcc-a29b-eb2579365e7e": {"doc_hash": "53c3c93f21583f4926c8dadc3d21e8f6c3a797994c6ceac3141219d0786f09c7", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "b3403844-2ec0-4f56-b9ac-43292713e637": {"doc_hash": "4426e1f277505f8bf4fce395db9f1e1be29a628f24b1a7693fb1dc414a62463b", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "f089470c-02c7-415c-84f7-c5e6ec0f2ac8": {"doc_hash": "e18ee8dc7e8e8295ba4557bfd546b4a2411c5050447ce3a666b7efaeac52f502", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "864ffde2-dfab-474d-8097-5c6bf2c99330": {"doc_hash": "600d57ad81e4f66f7044bc0b696513c3b3520634419d7cf817fc03364f655282", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "f91d8007-2e77-49fc-b154-4d5e60d911a5": {"doc_hash": "a0604de563d8abb18011031ff7a4ad6f13b21753b824707e4b0c1e4c163f0a22", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "d0c82ca8-4de3-4379-a7ee-af0762408697": {"doc_hash": "3635aa8bc74940b28265dd1c635e94cca6cb0f4d9988d0e33d118f828477f0b0", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "c5b24055-55de-4b31-beb2-af317e1aa7d4": {"doc_hash": "4f1b11c9568eed82d678ac9eafad3e4b6212eb0d3cc920632d76d9c03f52e1f1", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "2cbc9a8f-6514-4ee0-957e-c4902d0e5544": {"doc_hash": "87e30e1b02c0c5ba6b71bd5543679daf40a16feb54618996b92ca3ecaab3030e", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "cb9bbe4d-9417-4d2b-98d2-83702bb8fc0b": {"doc_hash": "f5f91276f7b6aac989a570f4dcd59a3a23ccf7aa53bd04ebf625a5b7eefd0a9b", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "b9b5d250-70f0-4574-9b39-d7a355bccc0b": {"doc_hash": "486ec1fd2048e3379231d46f19ccd98cf245e644cae0d9623e79c75a13f299d9", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "aad45df8-386f-45bc-9f21-4d006865243b": {"doc_hash": "70002e4d59aa1eb7035672a55ac0963cbdbbebc75b4a52cc4c13d20280f89a8d", "ref_doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "e7e26331-ee3d-4f11-981e-e58433ef0bcf": {"doc_hash": "72065276b86d469b964a4edf3ee5f1dcc4f2632adf7904e42d477cde3d8145d7", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "b32a6f0c-4fbd-48a7-9cbb-e799f68b1460": {"doc_hash": "01b90b8ac33aef3759c2be5a978224d20a0dc4fa7e1db4618751d80e62edb5d0", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "b8ecf96c-98e4-4ea4-bf20-5f4edc07b9b5": {"doc_hash": "8b461c068f1c0ef1d1fe87e00e7149afca4a6cb08e124351481fcdddce81acf7", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "9ad5b11f-018f-4e2c-b3f4-c6b79900a172": {"doc_hash": "f2e474e22b2233b5eb7aedfbe2ff937d8a85cdd37c68f621024ed3eaaf76fc76", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "80a90cc9-6068-4da1-917f-c1a2d1f8f14a": {"doc_hash": "f390c0dc9d6392be427469988223e6e8a73996712352443c4becbdf7299a8748", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "27fa6aa2-d174-4b85-9a8f-2f2575a1297c": {"doc_hash": "73df2929fb8d41cb222872fbc6563a7c6e5303f3bdc9aaf33796a343f6c43af4", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "91ff4883-8be7-4692-8121-58705459795b": {"doc_hash": "aafcf2f552f18b7ee176724356e2048aa09bff24f3b2d224a6803a78b3523765", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "182e86ff-d1bf-48f4-bd37-106aba905817": {"doc_hash": "157352161bc14e4b35f32cc37ed709d31ea4e758451e4a4314bb9ee91cadb22d", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "e372e557-cda7-4ef2-b7d6-d7b70f1b6895": {"doc_hash": "35984df7446c763edc734d406bf467e819fbfc405ce3fbcb1a33da464b9fef24", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "1fcc536f-4ad0-4f7b-89aa-3030a358bcbb": {"doc_hash": "8599640b72794e971cd40187659ef1c53e6273afa68e51b7e7b3021dedc1e5cb", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "b7d82b5a-2e26-4c66-aee7-ee4e657103f0": {"doc_hash": "7b16dc88c8ae34f42c12b7f76eb3f5c410bbadc85ec8eaa60dffb80d498ef65e", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "8aebf90e-0858-4bf0-8077-765b197d0a37": {"doc_hash": "435811b75a1c8e5bfce15fd612d68f9e206083bbb1236cdbebd5f0147931880e", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "0edba23d-a0b9-4db5-872e-d762b18c0aca": {"doc_hash": "49d335795431640bfcd721f67afcba08d606c9e4d37cc74d295569410c0c8129", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "6c40c42f-4287-4d1a-acc1-70f9807d65d8": {"doc_hash": "b931549818a5350fcea7530536da8487f49d0b7b5b748774ed31f003b178b16e", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "1e8eaf89-4bb4-4dba-8ae6-5e83c3297293": {"doc_hash": "fd6528dc821d820f4752064a4f0450ea844a62dc08286814af33222b7c97dffb", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "c794e1fe-e3b2-4ff1-8db4-eb2c0a9b6815": {"doc_hash": "3b22e629daa37968c55fb8a28ada8c1ac5cc597874dd6e942af73691f8497ee0", "ref_doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "a48e56be-96fc-4e38-8113-616714d346c1": {"doc_hash": "382972336e2d930ee46f7065ed639a13a5109c03998efa0e3d6275777d482821", "ref_doc_id": "4831ac00-9f74-4a2e-85dc-fee6cc65c461"}, "17de102c-2005-4ece-83c6-ce18e2da7f25": {"doc_hash": "19e851d1cb4aef606f7f3f261ae79d320dbb4c8ab0c6b8fd35ed8aef098ed529", "ref_doc_id": "4831ac00-9f74-4a2e-85dc-fee6cc65c461"}, "9e763c94-a0a7-4996-b411-43d4e4327aea": {"doc_hash": "e4f50242a27a04a0e0066baa555f421415807aa8a68bacc90312727c3c6ff804", "ref_doc_id": "4831ac00-9f74-4a2e-85dc-fee6cc65c461"}, "59b92eed-c969-412a-a59c-ac6cb42e39e9": {"doc_hash": "1b5f8b759ecdbd9380cc36ff5cb42d3991c40e61c27b1210670ca92107113410", "ref_doc_id": "4831ac00-9f74-4a2e-85dc-fee6cc65c461"}, "b4dca2e9-85cb-4188-a693-29d0d8ef13cb": {"doc_hash": "9cd26d61cb067e12a7b5d0ace9c01916252f31185f5d4b5fab65653d6094df94", "ref_doc_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0"}, "f00a11c2-b66b-4e82-b821-eb408ca7dbfb": {"doc_hash": "8957c4799cf67d5b387ce3cd21eff8b668028d9268371a25fc1d1f693f177dec", "ref_doc_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0"}, "6aca11f8-0048-488c-aba0-70d5d88806cc": {"doc_hash": "5556e5c8a05bb2e93535bf3b13f75a766c22cdb105c54b044a8d2673e5bb6f75", "ref_doc_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0"}, "e64a1c2b-d511-4677-af2a-ca315b2b373a": {"doc_hash": "98ceb992374462177d371b19f84d66acb6abea66c4a73aad93cc8c217a636338", "ref_doc_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0"}, "5ae5aab8-dc2a-4c04-aefa-43ac536fc8e3": {"doc_hash": "7ff7efe6670bd2a031fcb2eabdda6a81cb371a1174e3536a8ee2a6ac6632ba06", "ref_doc_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0"}, "e7257b55-5968-41bf-b331-9dc183bd1db3": {"doc_hash": "b00313fcd9ca10b2cc9f3444a4e2c80f90c67300d5861821e2c15034e7132aa5", "ref_doc_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0"}, "5dcd3e35-2f13-4b71-968a-54480511cf13": {"doc_hash": "8978c47a3a3607eb4c0f922aa1b99c920405aee7c9ccb7520f72c31ae2314afb", "ref_doc_id": "1e6ef2fb-23d2-4924-a911-620353761d4a"}, "3a3aef8f-bc31-4514-8cf9-b16ee7643cf6": {"doc_hash": "be3fa62c3d8345a45185169549ff1fd305aceb5456ed4d9db578f0d6b53c0453", "ref_doc_id": "1e6ef2fb-23d2-4924-a911-620353761d4a"}, "df919adf-a8cf-493f-a06c-5abe0105fc37": {"doc_hash": "8c2188afba4dc4f23dbf6b35b87651b3cec5d742ef00c25de7661e0b7f07201b", "ref_doc_id": "1e6ef2fb-23d2-4924-a911-620353761d4a"}, "f4f753b4-d7a4-49a0-80ad-36923cdc7c55": {"doc_hash": "3dd45237805cebbaf878819c792898b3d8275eef31b198747a2659865358bff7", "ref_doc_id": "1e6ef2fb-23d2-4924-a911-620353761d4a"}, "ad5f8c08-4b75-452c-973a-36744f9675bd": {"doc_hash": "8ea5394e92917a59f3235b3d192de34c8c5dace7a5f97689d607ad3a0cc6f443", "ref_doc_id": "1e6ef2fb-23d2-4924-a911-620353761d4a"}, "1720f334-5e5f-4f98-b483-38bbdf3c0b4a": {"doc_hash": "ced421745b59f5a15c4be128cd6007c3feabf5ea90e4e7f70cd58b38a12968a3", "ref_doc_id": "1e6ef2fb-23d2-4924-a911-620353761d4a"}, "be465b80-5bca-42bc-8b6d-ba84e4aa5e5d": {"doc_hash": "0828acf51dbad27c895f07e67678d0df7c89fcab7b9079275b8ff3efe2642dc8", "ref_doc_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589"}, "34928461-8dd2-47d2-b866-a1a2701e1dbd": {"doc_hash": "61bc8cb923e79c65df19d68a250456a5d734d38d842b9e16a61dd705037dcbbd", "ref_doc_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589"}, "5a6562b9-90e3-423e-b86d-8fe784142fb2": {"doc_hash": "dc027c621c69f233deec24f6b73a870eae6f14611eab7bb7f1a1c216d35d558c", "ref_doc_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589"}, "614f8c14-69d2-4a96-b23e-4be46fb0c2df": {"doc_hash": "9e665ac86fb0ad6f667a50d2891f24d7fcae918dd500a134fbc928593a148913", "ref_doc_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589"}, "53310239-7ff8-46c2-bdbe-aeb4bb342332": {"doc_hash": "ea18985c17647e9e12b5d8a88b3867378cfac4d8ef238fc8362f701ce0974e5b", "ref_doc_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589"}, "40a630f8-d169-45c2-9509-ab9855c13882": {"doc_hash": "702d8d482688d3a925b9b61b84812dde6c3f18351e3e10882c457d7be827f9d7", "ref_doc_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589"}, "3488941d-d6cc-4781-add4-52761ad6c0e5": {"doc_hash": "f4b1433c66ef23ce89f28921698113a7a84fec77538494862c0f8aaad5bf48cc", "ref_doc_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589"}, "a5c86f23-bdf5-4c87-a9cf-6c041d66b5d3": {"doc_hash": "26a364ad4ec1a36a08072c7305f3d9e4efa8c97b548a41225bc685af3de731af", "ref_doc_id": "fc0a84c0-dd7a-4478-bb0b-342045637dd3"}, "0e68c496-5c11-452e-9732-8cee77221759": {"doc_hash": "ad3a2443b2d98451e9cfeb3a0ec28718faaba73ebff72ca9f7999afcc39bb921", "ref_doc_id": "fc0a84c0-dd7a-4478-bb0b-342045637dd3"}, "b11c4bf3-a649-40eb-a878-d60ee514cbe6": {"doc_hash": "733c2877498b26b7bb8f470f80af2bc4ec77c1cfe4d6e64c63a3d66164edaf07", "ref_doc_id": "fc0a84c0-dd7a-4478-bb0b-342045637dd3"}, "e0882491-3036-4149-88f8-393ef4969288": {"doc_hash": "c796321cbf4bfd0b77f92031479c28927dbdcc436c86a3a4a91724ea50167013", "ref_doc_id": "fc0a84c0-dd7a-4478-bb0b-342045637dd3"}, "43a75da1-065c-4b29-89c0-af0b22e5cc7b": {"doc_hash": "91347e9122dedf3f36b3f1493f807c7a341f120ba17fed5d4b2667f9836710bd", "ref_doc_id": "f2b631e0-f157-4609-93c8-6869ec60a479"}, "c8bd21c8-df10-4a62-8e37-95fa39ea0ff9": {"doc_hash": "ed80faf6e02142248b683eadbf432590cc8b65d3d659a5719dae35eafc874661", "ref_doc_id": "f2b631e0-f157-4609-93c8-6869ec60a479"}, "ffb81d96-6e75-43aa-a5f8-7dc0c5b3a4f9": {"doc_hash": "73439da66da8955ee71e91af18517aa0f2494bff2a104532bdcf55e72001b896", "ref_doc_id": "f2b631e0-f157-4609-93c8-6869ec60a479"}, "e60b182c-b968-4a70-9b78-95edf98c471f": {"doc_hash": "441f6f2a36d833e12042dac71771975dc6b51074c1b80eaa027ba35d76ff982a", "ref_doc_id": "f2b631e0-f157-4609-93c8-6869ec60a479"}, "e86f6114-5f85-4ba2-9bd9-15ac5caf34c7": {"doc_hash": "e626eed2a921c8544715dca07f9209a72db2435f95db8e32d60ded260e7c8a7f", "ref_doc_id": "f2b631e0-f157-4609-93c8-6869ec60a479"}, "a59212d8-5ba4-45c0-b16d-13638c1746cb": {"doc_hash": "ed3f2f5dbeb3e270b84be52fae7c0bc35152f16615d538f582cac5296cad1a95", "ref_doc_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd"}, "1c43cdaf-5f01-42cd-a222-067786d7817a": {"doc_hash": "f10a343ebc090cc7260635a1429b8215005c353073f567506eb268526394fd54", "ref_doc_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd"}, "65aa3e6e-ceab-4fed-b651-ff855c8ce0ea": {"doc_hash": "1e396c59a0ff9fc6be2c66acb2132cf2009087343e75257fb001c163d60f508a", "ref_doc_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd"}, "40b428ee-94ec-4178-8849-1f6cab0fdf19": {"doc_hash": "f30c8f9b4be425684111dab40d5a5ba2b35e70ef10e331d59692ddddcd51b23c", "ref_doc_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd"}, "b7486aa7-c66d-42f3-83b5-96fd790f90b6": {"doc_hash": "25c2e4673608673c6a289464250a53cf7cf6cb665a20710f825bed340daf9d98", "ref_doc_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd"}, "722160cd-8098-4953-85b7-06f280eb067b": {"doc_hash": "3b696b774cc0fcc17f7021915f4065f7f357d312c839d78bfd1c6661314efa6c", "ref_doc_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd"}, "407c3582-d6ce-4654-badc-22748af3ec24": {"doc_hash": "4383ca70e66e29ce9ec02fffbee2f61ae21e4bef3f792b3c7b772de7ec4df20d", "ref_doc_id": "a0587c50-158a-46ed-a609-795e2c009d5b"}, "83da014b-3aa9-4d82-9bb6-d7f407840a1c": {"doc_hash": "7439f7d48bed0eb67064d90b6195399881f8bd0fd4e5428db4ad170973ce9510", "ref_doc_id": "a0587c50-158a-46ed-a609-795e2c009d5b"}, "d2b00fb9-dc93-4af8-9d47-56622bc35c92": {"doc_hash": "dc11d84adc02eebf24b32a34e293a8f62488fb1a5b8e1a191c7314bf978f1172", "ref_doc_id": "a0587c50-158a-46ed-a609-795e2c009d5b"}, "ddd18a85-92eb-4d52-91de-9f60c5b2bfd3": {"doc_hash": "366b7b053282920c6844e35630c3bd8a1556510901dbc294e890325f08760cd1", "ref_doc_id": "a0587c50-158a-46ed-a609-795e2c009d5b"}, "3880f9b1-e0be-495e-9296-03efb65a2a72": {"doc_hash": "4c85ad3e91381790dd0e32d2237380d6326775641cacb2ca97b9549873bc29e8", "ref_doc_id": "a0587c50-158a-46ed-a609-795e2c009d5b"}, "cd513550-2e7d-4c8e-bce3-920c4ded5aa6": {"doc_hash": "644d9bedb704477907d1220f855c6c209a7e57c5911e228ba909e509859749d2", "ref_doc_id": "a0587c50-158a-46ed-a609-795e2c009d5b"}, "955bf7b2-f1b2-406e-b908-e181ab45735c": {"doc_hash": "06165093e3fb905f4cfd50e6aa58b4c30ff005724a3a8cd293f0362f45792b22", "ref_doc_id": "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c"}, "86d4a7db-9a97-4931-80f4-58d9e3b7e745": {"doc_hash": "f0733db3ebdf05b55a4c8ff41af9c2d0d4770e1e018ed62e9b201d7cae425cc6", "ref_doc_id": "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c"}, "e2e84454-ff34-4dac-bb5e-4f328607d0cc": {"doc_hash": "9608babc8a61a53ef0a55e5caf907afa5646d79c5508e03ca998ca35f0749e0b", "ref_doc_id": "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c"}, "3dcd89dd-3e11-41f0-b5ac-07e3600a7468": {"doc_hash": "5e9f26e8db655d22143522c81c258fd12bb1e5c94d9d624e1598d498e328a49a", "ref_doc_id": "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c"}, "1a2f3f55-7774-44e7-8b0f-8be1c741d147": {"doc_hash": "4436b4a33b008b24b66fbc017fe217e90bf7ddeaa4ed9a7cb3c1269e2da0bb60", "ref_doc_id": "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c"}, "9c25bafe-f86c-4815-9c8a-779803afdfea": {"doc_hash": "6db4abf47525d7b9ce41dcd9b9b9ed851ebc193f09f961db027bad9e1ab30dda", "ref_doc_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80"}, "628ab8d2-ddad-4610-aa76-a3838e631b24": {"doc_hash": "4965df115d92339b07abff199f5d3387a6b021c8c3e3f3cef3926a9ee8a34e13", "ref_doc_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80"}, "fedf256e-e12a-4e72-8110-70ceeab812ba": {"doc_hash": "f9317aa4f802f9e1195a06233f3915724b481039865994e8394c1fc765e163ee", "ref_doc_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80"}, "544fa16d-6af6-4e7d-a023-8b02c59bc8af": {"doc_hash": "c010fb9f701ac2ee1a1a439871efe29dc5c75b93f18df780e2a0883f62c4d4ae", "ref_doc_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80"}, "5f82f0a6-fa16-497d-86b1-73af5d0ad42d": {"doc_hash": "abddbb9e555dc5e3f30257822dcc3831061a2d848389c9d57dd6e1dd9dc171ee", "ref_doc_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80"}, "4735cda6-5230-4020-a3d8-c5573739304c": {"doc_hash": "6811ce42fdbcc845ec8652e211be9e97e60cab62697bbfc3c5e8a46432e3bc52", "ref_doc_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80"}, "359bb9f1-aedc-44cf-97a3-2f5dd661334b": {"doc_hash": "f39fbb34711c3c4f9f8961ad053d4e915839408de7ea659effdccae1da3f84eb", "ref_doc_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80"}, "4b15248d-5e2a-4a1c-9c59-f96e13574188": {"doc_hash": "91ff6a8e904f2a38072f291ba86faa54fcb9c454fb77ff07b4936fada24fbedb", "ref_doc_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6"}, "53ad762f-ca84-4a09-a660-fd485be92bc5": {"doc_hash": "164bfb687450ad81b3b8dc5f1fef1cbe78194f0435a55f69fd9651c39fa275c0", "ref_doc_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6"}, "6cfe4eac-fad8-4f8e-ad87-9df25d67101d": {"doc_hash": "36831c9123caf89ac31d01ff632b220c3a4bf1f937cb6394ff8bddf415c07a9e", "ref_doc_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6"}, "9e509a1e-a138-4ac2-9014-a497b41e761e": {"doc_hash": "d6374d5ff578294df2f6a9589ebafea96f7b1a4b4ebf99d1614d0877f51788fd", "ref_doc_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6"}, "d9e0118f-9861-431c-ab7a-ff526dbbd428": {"doc_hash": "80cabf02e41cd0bfe146b61f996b3efdbbc45a8cb86b44926a5e4ceb3d27d3de", "ref_doc_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6"}, "8379a386-b275-46c7-b1ae-9454c8e0c7b3": {"doc_hash": "77772636356a4d88bca1c107152da3b61602ab321f497e14665ba6b5142251a1", "ref_doc_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6"}, "1e028075-7214-47d3-9ec5-688137ca7e56": {"doc_hash": "7216cdca633d749eba10c9253c71831cc74e3506f04fa82cc431687e69e89406", "ref_doc_id": "df07f28f-5c4b-4098-9b5c-54c4b27f5929"}, "69a04d7b-be5b-4b1f-9fe3-db222db53728": {"doc_hash": "65708c72e9b214d13e128b9401e7ec6fc89057f093f40a556f923ff102411ef2", "ref_doc_id": "df07f28f-5c4b-4098-9b5c-54c4b27f5929"}, "53089959-e48e-4835-a03c-ba02954c06f3": {"doc_hash": "248e7fa3faae4b92cef2a594d783b980cfb8a92057901498f39b379c5e5f8869", "ref_doc_id": "df07f28f-5c4b-4098-9b5c-54c4b27f5929"}, "d087b2e3-2cbf-46ea-873a-1608e62a32a1": {"doc_hash": "92a5ef9f73b94d4a9bec2a4851385c2fbbcba5e2685318d2b3a5de5abef180c1", "ref_doc_id": "df07f28f-5c4b-4098-9b5c-54c4b27f5929"}, "af386c75-60bf-4919-adaf-d824f2bae220": {"doc_hash": "07bfaa38c49780b0490d2da20d6be94aa812f1834dd2ff8f1fe18f354845f28d", "ref_doc_id": "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de"}, "9d4f15c2-5b0b-451a-8e9e-9c12b635d80c": {"doc_hash": "9889811f66551a2f5abd1d6795206a032a217d0adcf607963dec10fcdb26d5b8", "ref_doc_id": "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de"}, "6d78e4e2-2dce-4b92-bdea-1b9ab9cbf351": {"doc_hash": "59ed19c40a9611124eea6280367d7f9979a48fb37f17148557f5f20a13e6f0e0", "ref_doc_id": "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de"}, "807595ce-b2e5-4b02-9f10-072cfad0422e": {"doc_hash": "e675e630612a35d43c66ac099204dcbef2ac5361cbb02079b6a8cb5ffb3647c5", "ref_doc_id": "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de"}, "fab4be6e-226e-4bd4-ae21-cc3bde2a881a": {"doc_hash": "68ed42b20389b0ac961874f1fcf978802fd172d7a5c407692f1bbcc8a1e09af0", "ref_doc_id": "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de"}, "03633bbe-806d-4571-a74b-7e07e0a418ea": {"doc_hash": "b407420d92864ff0f61222da26d6eba3cd539b97572c95340a49f876100e0d57", "ref_doc_id": "5412a96d-8d4f-4284-bab0-69537b32ca43"}, "c7eb0f32-6a22-479b-89bb-2d28b96635b4": {"doc_hash": "b87585227ba93d198fecb79d4c1bef6d79d168525440c9a1719e5c8b21e6126c", "ref_doc_id": "5412a96d-8d4f-4284-bab0-69537b32ca43"}, "902498af-1ed1-4468-95da-d2def3e828c8": {"doc_hash": "e77aa5ec7d8d9596cdb7ce342360c408f5e7068f7afa8c71e80dfc4864ffa750", "ref_doc_id": "5412a96d-8d4f-4284-bab0-69537b32ca43"}, "73013d5e-7578-41f6-ba94-96635ff96c38": {"doc_hash": "f80186e07109f74f9af857989bebab59348059bef8e3ebd468773f0099743d70", "ref_doc_id": "5412a96d-8d4f-4284-bab0-69537b32ca43"}, "e87b2787-183a-4354-aa71-b82e3008a006": {"doc_hash": "c1d899fc1e3a98aec968cc9540dff61f0fdd065041c7e252ac06179e2b201a64", "ref_doc_id": "5412a96d-8d4f-4284-bab0-69537b32ca43"}, "5157b87f-f235-4adf-88e3-c6ae7e57640c": {"doc_hash": "4346224ff96329df4216e2fc2467a616a68621ea5f61f72ca44098abf4c85c35", "ref_doc_id": "5412a96d-8d4f-4284-bab0-69537b32ca43"}, "70e28532-8bcf-485c-957e-2c0383865a9d": {"doc_hash": "c12cbac0df625d18238b1c2d5f9e4f954477c938ef26294eaf8fcb1c6e045f05", "ref_doc_id": "4c0250a9-5f43-4c9a-8b7d-1354a2d10e13"}, "fdc6f7e7-6e8e-4c92-88d4-180f26b58a3d": {"doc_hash": "014bad30989d4388daef4088a33b325177a2fd379dbb0360b5e4627e5982e430", "ref_doc_id": "4c0250a9-5f43-4c9a-8b7d-1354a2d10e13"}, "8cbc165c-2d76-43a3-9f66-e065f5c4df18": {"doc_hash": "15cd05de8ad136d0987ed38a0581b25737aa5473bba3afb8b6e4ef1a4c53ea8d", "ref_doc_id": "4c0250a9-5f43-4c9a-8b7d-1354a2d10e13"}, "d60b8220-4d55-4832-b3c8-cca47a98eeea": {"doc_hash": "cbbc73ea0f24f5b4a6f461b06933b70dc8a98467d7589eb7dc3929b1b2f33933", "ref_doc_id": "4c0250a9-5f43-4c9a-8b7d-1354a2d10e13"}, "6a1d1e47-f605-48c0-9199-8e26d608584a": {"doc_hash": "e38e58f1a7ec5573589f573f846aec758721b5ce77c7f3e8fda04a87acae216d", "ref_doc_id": "076b0591-03ca-493c-95a0-e342606a7489"}, "4fa7df18-ab46-4b0c-815c-1a1cc7e311ee": {"doc_hash": "c38fdde6c5640bdab7963c2ed0f6ef662e6651b46fd20facfaf71aff3d617a12", "ref_doc_id": "076b0591-03ca-493c-95a0-e342606a7489"}, "d3d28ed6-ac1a-4ccf-9a26-4f6b39c6e9e4": {"doc_hash": "b6c639875d32b92ebe885e63bae63f26c3fbee0b078ede5ca2104475dbae4faa", "ref_doc_id": "076b0591-03ca-493c-95a0-e342606a7489"}, "e5b021b0-6f69-4f91-bc8f-84be5c246e45": {"doc_hash": "ac69a48e6501d963aab7d302a366475d91649893065dcc14f6a3048e3a2babff", "ref_doc_id": "076b0591-03ca-493c-95a0-e342606a7489"}, "bb7383ea-5694-4631-983b-2a7b0238d20a": {"doc_hash": "7ce4d693b90fe933d9060611f8354035231da66c34394f59acaee258afbd7f6c", "ref_doc_id": "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125"}, "868d6ff7-55a8-4a15-a80a-3967288f6da3": {"doc_hash": "df3dcdd9dc50148f782044c75f45fafd70cd6164f5e1f225ad7b9b209c5cd1b9", "ref_doc_id": "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125"}, "1c3f8943-f580-4ab2-a51d-7effd6b4a694": {"doc_hash": "d8acccfc7518e7a53f3b923a27b4aff4308382239861ccbafad8437ca2fad97e", "ref_doc_id": "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125"}, "f4691375-1a53-4ef5-a021-144bdce3101b": {"doc_hash": "ccbd74af22092502820cba47a2f68f95d4785a6cdbf180d013878a527ec0035b", "ref_doc_id": "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125"}, "89907f38-28a3-494e-9a91-d93eb9c2ab56": {"doc_hash": "f61dd6ac29be30731668ddd4d9bdadcb7bab85f62669428ecc1449a41ed03287", "ref_doc_id": "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125"}, "14dbc3fd-acdc-45c1-a7fe-99ee88353fd2": {"doc_hash": "30d8105994bd4f9570cb93580154b53504924048b01c9537afd881f02aec2b65", "ref_doc_id": "10f729b0-768c-434e-8b65-113ce3516db3"}, "dbadf7a5-cfd6-42d4-9ebb-61cfac8d5546": {"doc_hash": "05abc2436fd32c24fe3dd4248aa162a5a9f4e5ccda34a903564fa3a7b5dd3d9a", "ref_doc_id": "10f729b0-768c-434e-8b65-113ce3516db3"}, "dd99acec-a2df-410d-926e-9d30bdf67e9b": {"doc_hash": "806849044295f709a79f95790de012adb246234c57b11852213a0172dc54ae27", "ref_doc_id": "10f729b0-768c-434e-8b65-113ce3516db3"}, "0769553f-3384-4345-a5a8-6da62ee91411": {"doc_hash": "634a5cab0cc138fd8e62c0b2226a9bdc1eab142521e1baa713fbd7c9defc81ff", "ref_doc_id": "10f729b0-768c-434e-8b65-113ce3516db3"}, "34a59c41-312b-4894-8530-a9a6278faed1": {"doc_hash": "14f0f3f48207077acd81427ce15f840317fed93fd7171df817ca2cef3e81d515", "ref_doc_id": "10f729b0-768c-434e-8b65-113ce3516db3"}, "d1fba956-8088-42f6-b2ec-a26a2400b259": {"doc_hash": "1b291fd7cb5f90ce2fca2f7fc477122b83c28e86e38a8d49193fe80f708065ea", "ref_doc_id": "10f729b0-768c-434e-8b65-113ce3516db3"}, "dc55f1f3-5dbf-456d-9775-b24a5252a98e": {"doc_hash": "dba274dc1f9433bd6a903526574782edeb819036884623975080a2391b134a9f", "ref_doc_id": "90155421-7049-46a8-a9de-d77626055f28"}, "ecf2b887-4c8f-44b1-ac6e-92c182c71348": {"doc_hash": "d15d0145a59b614355e3be839b3fd79ba0c5fa930dfabb61c0a921818d8dc96d", "ref_doc_id": "90155421-7049-46a8-a9de-d77626055f28"}, "e7c230db-c916-4ccb-b5a0-2647058cd4e6": {"doc_hash": "5591749685f0d8051c47ecaee5c4677c6fca82ed07b99fadebeccc79f6049d47", "ref_doc_id": "90155421-7049-46a8-a9de-d77626055f28"}, "70325e35-f4f0-4201-861b-9523e8f168be": {"doc_hash": "3f767d8865780911c3f9f80d6535e1bfb836ef21da2a1f61afbbdf9b75afeac5", "ref_doc_id": "90155421-7049-46a8-a9de-d77626055f28"}, "8f9b3632-0e72-46a4-bf35-bb9a6c677149": {"doc_hash": "518b7d24f7af801c6801d64e7892b4d934b370bd339f77cca4fad9cd23d9b2b3", "ref_doc_id": "90155421-7049-46a8-a9de-d77626055f28"}, "49ce16cb-33f0-4c91-8f42-a76e5d17905d": {"doc_hash": "e1757b735606f37d9069650760ece8927a800e3ccea0ee8ffcf8745bbb7cd2d3", "ref_doc_id": "e26e8403-ad68-44a2-b3df-46b33c406463"}, "9e074030-eaeb-4a98-90bf-b0fd05655bf8": {"doc_hash": "5b8bb4b2e2a460656202d7e29805e718b2ecbc9bd77a6fd0e98e6509cb61c852", "ref_doc_id": "e26e8403-ad68-44a2-b3df-46b33c406463"}, "b350f3cb-f577-401b-919b-242ca1799428": {"doc_hash": "8e0183b98c22fbb8ef4ca49484c6ee639e20a4a185a40d724e3d86d03e740ff2", "ref_doc_id": "e26e8403-ad68-44a2-b3df-46b33c406463"}, "341b456d-500d-4ffe-8ee8-b1332b34cd16": {"doc_hash": "a66d2c9619c75af820b147fe077f83ee85ccae2a94abfac23f69410a06b8ea50", "ref_doc_id": "e26e8403-ad68-44a2-b3df-46b33c406463"}, "025d1992-ce81-4ae3-aca1-d34cf8e8bdb6": {"doc_hash": "a3733431039d3937b016e94bd2a9d7b05f025d5caee3fac7ae576d0391312ae7", "ref_doc_id": "e26e8403-ad68-44a2-b3df-46b33c406463"}, "52dadbe4-bf3e-40ba-bfbc-43707fb9606b": {"doc_hash": "051d756eb12fce4345f8eea6644426969f9338cc40913a596799bdaa1df057f5", "ref_doc_id": "e26e8403-ad68-44a2-b3df-46b33c406463"}, "b77ac205-bcd9-48f3-8c9c-baa5148d4bb4": {"doc_hash": "3ed484b4fbc586ecbf3c14c122b07fabfa5dfed998d480d32f2fac592612ee4c", "ref_doc_id": "b255242c-0458-4b0c-bab3-81db80ec97e5"}, "1b463aff-a102-402d-9b79-af1b2b2394ff": {"doc_hash": "7842935a7d39c2972045de8e323142b1997a42511cc4471b0307452d3c113f81", "ref_doc_id": "b255242c-0458-4b0c-bab3-81db80ec97e5"}, "d8f0ed1b-f31c-42f6-8582-7b31e49a1846": {"doc_hash": "99dbbe77d02ad7a54a2e673015dba14a2daa4d7539827df5be60539a0c18be58", "ref_doc_id": "b255242c-0458-4b0c-bab3-81db80ec97e5"}, "1c8d4bfc-09d9-4539-9a62-d46920ced5c3": {"doc_hash": "c561842606d4a02ee18f3a60f63addb8adde5c01cb89ec1a0d267dbbf52fd29b", "ref_doc_id": "b255242c-0458-4b0c-bab3-81db80ec97e5"}, "b33486d8-d301-4f79-8e3a-2a07dceb38d9": {"doc_hash": "d00d2d9fe151b4db8cca072a3abd13cd75316918ec49353876ef4476036652cf", "ref_doc_id": "b255242c-0458-4b0c-bab3-81db80ec97e5"}, "c4235c08-09e0-44af-b210-411d86d36c7f": {"doc_hash": "2b3ef16da055edecf1f2d6a9f358508a8d1e7a414da27773638d80f33a58b659", "ref_doc_id": "64c6d204-94a9-4bc8-8228-c3f06182b464"}, "7716fdff-90c5-40d0-a6e5-9dd4663e0054": {"doc_hash": "9fcdcd6e81346fec19870abc3f250cb5cc87ff636e95f2a01a983cd5ec6904a3", "ref_doc_id": "64c6d204-94a9-4bc8-8228-c3f06182b464"}, "1de620d5-82f5-41c1-ba95-83e9b657391d": {"doc_hash": "1d2fddb537384eac8ce3aa495cc98dab3b57796a876ebdb0f26d88f57add2dd0", "ref_doc_id": "64c6d204-94a9-4bc8-8228-c3f06182b464"}, "152d2518-c318-4387-ac46-a178ea423027": {"doc_hash": "615cfcd7cf9a47468ec5a9fd040c463bb6601428bd86edc58329b2152fff9689", "ref_doc_id": "64c6d204-94a9-4bc8-8228-c3f06182b464"}, "6418c383-2410-4618-95c0-258bb3941e76": {"doc_hash": "961380806af771ea390f72efa48faf1d931cd0dca0cc569c397ebf0627fb2310", "ref_doc_id": "64c6d204-94a9-4bc8-8228-c3f06182b464"}, "104740a4-b236-40e3-8f01-94c9fbfd5401": {"doc_hash": "a3e421c68bfdf1c3050253cde47a08604aa15d3630cc839d8243840c44b42a12", "ref_doc_id": "64c6d204-94a9-4bc8-8228-c3f06182b464"}, "f5798163-c31e-41bd-bfb1-99fb714c0edc": {"doc_hash": "19a688210aac0bfc5ffb038bceb077be83edc5b9d43742e144455fb6d3962afb", "ref_doc_id": "f449925c-f5c8-4e1f-8916-07f69529789e"}, "d7d4de93-f32c-4767-8691-8e7c05ff8645": {"doc_hash": "914aa86636a24eb17b07234da95f260dc6d83aba794a8589c8789cb3317d7fb0", "ref_doc_id": "f449925c-f5c8-4e1f-8916-07f69529789e"}, "3fa88154-5749-4c6a-ad0f-1a671bbf0e4c": {"doc_hash": "0086f25d7745aa91702fc631ef2fe11f857b9697dc1550b20c719525ff786090", "ref_doc_id": "f449925c-f5c8-4e1f-8916-07f69529789e"}, "caf77b0d-f59f-4a88-9e1e-a8d3c5acfd77": {"doc_hash": "bbef0b2ada41c520b2de0db2bbfdeb3f7d90d841c64fc4a2e0d6d0b3ba5b5233", "ref_doc_id": "f449925c-f5c8-4e1f-8916-07f69529789e"}, "dcbaf16d-6f44-4971-a4b5-5a31179370be": {"doc_hash": "4513abec4b3d16c6f6fc32f2385ec05ccd8adc643484474acbe2a905fb719148", "ref_doc_id": "f449925c-f5c8-4e1f-8916-07f69529789e"}, "04ffb3e3-a3e3-4d25-8cc1-914916a24ca2": {"doc_hash": "e22cd7d332cef592cd066640125412b630bf7d64f85611b3398a8d4c0a2f3be8", "ref_doc_id": "7900e689-3da7-4fd3-82fc-cee85a6cc7fc"}, "c3170bdd-3884-4f31-8f92-47facfb52b5e": {"doc_hash": "6f835983289e157927ba1ca5ef5be9997c3c03e2a36ff84dd276d350d29afa0f", "ref_doc_id": "7900e689-3da7-4fd3-82fc-cee85a6cc7fc"}, "b811a161-5e1e-4160-a30f-6446d5383832": {"doc_hash": "31f5d32c48bb1a5816072b76e9dfa6e89f06a29ed14d988d80b43a4f7e9b187f", "ref_doc_id": "7900e689-3da7-4fd3-82fc-cee85a6cc7fc"}, "6d288bb6-dca6-4454-a16c-ddb47e05658f": {"doc_hash": "2dcad4510a7bcb540c8f3ab5ac7b4dfc0714a8c9915833b2b797954d951e3fb7", "ref_doc_id": "7900e689-3da7-4fd3-82fc-cee85a6cc7fc"}, "a331d043-f308-4792-b214-712bf79a9b17": {"doc_hash": "75552c277c3e1e9e3499793faf25018448790e6853e34f84e1dd4116a1c57f06", "ref_doc_id": "7900e689-3da7-4fd3-82fc-cee85a6cc7fc"}, "e7532a3a-7bec-4b25-a88f-26ffd2b7b8e6": {"doc_hash": "2be60053a2d248ad0a60b03a1e0304b1bd4c8d05efc726e8edf6bf7f3542c3f3", "ref_doc_id": "64bbb4bc-98f0-401f-b5ca-dce2d557f443"}, "221e698f-e656-48a6-99ac-825fcef03301": {"doc_hash": "3695125021a6a47d7603e66adc229c361a1eede73aba08dba6e3d395da29594e", "ref_doc_id": "64bbb4bc-98f0-401f-b5ca-dce2d557f443"}, "d3666b42-a16d-4e8e-a7a0-2756f06239f0": {"doc_hash": "4ffa6ac3caad51dfdfe93707ae3d93d61a778457f7d9d7d04f65be3f568dc5d5", "ref_doc_id": "64bbb4bc-98f0-401f-b5ca-dce2d557f443"}, "64e2d1c0-d1f1-45f4-bd52-a5cfaf72a4db": {"doc_hash": "65ff8f07651ffe4091d0a7d473c2f1a21c9d1c5c6ea160555cffb9c291f32c21", "ref_doc_id": "64bbb4bc-98f0-401f-b5ca-dce2d557f443"}, "6b8e5c2f-8a06-4c93-8d5e-ebba06598913": {"doc_hash": "b8ae974b1eb6a4b79003d6db13e21d5fb4dc6d66f3d1698a489fd91775f873d7", "ref_doc_id": "64bbb4bc-98f0-401f-b5ca-dce2d557f443"}, "1e46e18c-6795-4371-9d16-3e78e14ac7a3": {"doc_hash": "e3408ef76ef3c93780dd30227ad2995c05ebe2382bd56a57dde35984fa945fd7", "ref_doc_id": "0980330e-d6b6-489b-bff9-8674c7f8066b"}, "25cc8802-9d74-45cb-861f-ffc2b8eddb15": {"doc_hash": "a699ef150532126228d326aa19c9b3381c1b2557a76efa0952dc70c651936d97", "ref_doc_id": "0980330e-d6b6-489b-bff9-8674c7f8066b"}, "ab2c24ec-ca93-40ed-8904-5ea18244f633": {"doc_hash": "3861311d7243071d004890eef98058ddd3dc469ffc0c7f62566f5158393dc922", "ref_doc_id": "0980330e-d6b6-489b-bff9-8674c7f8066b"}, "0caaef26-d8e7-456b-8f0d-285966df87bc": {"doc_hash": "773cb56ed5589c51918e933da95267a3bc756e06305543abaf5a0158b65673ce", "ref_doc_id": "0980330e-d6b6-489b-bff9-8674c7f8066b"}, "18724451-8680-46eb-8bde-dc701cad4d6f": {"doc_hash": "431e28cabcd97d32a8cd5ba6b72360565dd66d9bc52acdeb7126a1a8d85b6b83", "ref_doc_id": "0980330e-d6b6-489b-bff9-8674c7f8066b"}, "a596aec9-dfe5-4e98-bccd-2818778b472e": {"doc_hash": "271d1aa28a45ce2c43b2871274612b87e203372fd32494c8d5de2cccff40523e", "ref_doc_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c"}, "8d429398-ca4c-4bc6-9df0-06ee54d2aae2": {"doc_hash": "5bf84ad2a44c55853ba3e70fe4004ccb125315c48c1854ad345a03109fb91e77", "ref_doc_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c"}, "94dafa68-c2d0-45f2-ba62-1005616548ca": {"doc_hash": "98588cf9fc083a06b01d343d7e791677444f8ba7a6233a1f71af33705a56e864", "ref_doc_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c"}, "c385740d-357e-47e7-b734-9b0b9b524afb": {"doc_hash": "b198c0ed13c14a5a5e8a2e31fe65e98652a3caf04bbe0753b61a2b04b34dcb53", "ref_doc_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c"}, "30bd9279-5fa6-473d-baed-5427ca08d321": {"doc_hash": "87446e0b30c2fffc5def3781f93f97b83fc4ff5e4cedb26ffd8986b06e3bbb1b", "ref_doc_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c"}, "32f8bb7c-1da1-4b26-bf5d-25e0293e5587": {"doc_hash": "b42e01de095b1e7e562975751e48629923f298782efa9a299ceb22938de0f40c", "ref_doc_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c"}, "80b810ec-8c9b-40fd-9895-01b6546a4cdb": {"doc_hash": "56bcffb43519cbdfd7d78e191255b3925b4168ea4e59bb1808ac7e88c269db9b", "ref_doc_id": "0ed27edc-f381-4e22-81bd-6b38387a4217"}, "244ee5f6-1537-4a7c-9e9c-987e6dbf6bcf": {"doc_hash": "a083e6a4231acb3b11b7361f154337d0ebde34482f7446d07182273f4e795e4b", "ref_doc_id": "0ed27edc-f381-4e22-81bd-6b38387a4217"}, "5059146c-fce2-4dc3-9103-483604ae75a0": {"doc_hash": "b748ff73d1a777f57f50afcd83d654ed862f7249c6eb938aeaea01c824f45f8a", "ref_doc_id": "0ed27edc-f381-4e22-81bd-6b38387a4217"}, "e466fd4d-85c6-4f41-b425-a793b5efb7d6": {"doc_hash": "452512d676161f6a67df7afd8dc84c9ca260d4965cb0f150d101097f08569f92", "ref_doc_id": "0ed27edc-f381-4e22-81bd-6b38387a4217"}, "ab2339c1-9da7-49db-a757-462df86cebb7": {"doc_hash": "6b0f0d203e63b78074f6e7e91e318d04d5968cc91d6b6418bf33bed19a21d3cc", "ref_doc_id": "11baaba9-577c-4545-b88b-9811c23ed1cc"}, "c81d6123-73c8-4317-9e60-4ab5be09754e": {"doc_hash": "84395545f03ae52bb6a13fa6e3f785504fba75b8d27cd0716da1a045230c4fc7", "ref_doc_id": "11baaba9-577c-4545-b88b-9811c23ed1cc"}, "24c4f36b-de4a-4347-a653-ca7010aa91bf": {"doc_hash": "826f7a286754c8fb3b914c1de40924b1b8f83fd181a5e1a46c29fd6d0fdaf4ad", "ref_doc_id": "11baaba9-577c-4545-b88b-9811c23ed1cc"}, "9c3b6822-8e31-4dd1-bdab-106bcda402d8": {"doc_hash": "bd5ec21bffe02fe6e2a5a287fdac628db5820075f4ef5a980d23e1720e549ddd", "ref_doc_id": "11baaba9-577c-4545-b88b-9811c23ed1cc"}, "2a42b6e0-1946-435b-bf81-c3b766fde967": {"doc_hash": "94d7dc20b2ee31def7e4bdbbf9031c4a861141620e06127306792218f3f360b6", "ref_doc_id": "11baaba9-577c-4545-b88b-9811c23ed1cc"}, "7f14acf9-1ec6-4bbe-8173-91a6635dce03": {"doc_hash": "da073d2300e5fcf1187298c493f277ce342ce1eaf13f494809eeac59404bea12", "ref_doc_id": "61cbab43-6b79-4845-a361-d5427aafa1a9"}, "f7a350f4-b8c3-4272-919e-af2367dc50d8": {"doc_hash": "3b474ae3885d15c47acf0692b30f04364785817108c7266e4dc693b35efb26d6", "ref_doc_id": "61cbab43-6b79-4845-a361-d5427aafa1a9"}, "0b46ee73-cb65-47dc-8c67-3f6ea7a02195": {"doc_hash": "d15a4ba0eb663a2cdcef80d3edfcdc4e771b484552ecedf16e6af356a4f04f88", "ref_doc_id": "61cbab43-6b79-4845-a361-d5427aafa1a9"}, "f10eaf7b-8f98-4f3c-9084-c8e38c92f0ef": {"doc_hash": "5354bd823a285a96ba0afdb0a8e4ac038ea360eae73f0f6815ff831521e46dfa", "ref_doc_id": "61cbab43-6b79-4845-a361-d5427aafa1a9"}, "6cefcb51-581b-4533-bafb-475601f1a506": {"doc_hash": "eb732c36612bed450e974292f39b1da41210bde688aab8ff512463c16c6bede1", "ref_doc_id": "41e17dde-d231-4d42-85c2-59929153d327"}, "51105f10-ffd3-47c6-b1d2-1a6726236cd1": {"doc_hash": "af2d2fb7c5ff2a1f831fb4bb3d7bdad88fc55be1134e8838d5bbd41aad06f19c", "ref_doc_id": "41e17dde-d231-4d42-85c2-59929153d327"}, "4c81e819-bec4-4845-b59f-b9d7ebc726c3": {"doc_hash": "8dbe57f00321b91f4b30eb9a5752854be2d8e74034c7166316ca6ccaa7c9b49f", "ref_doc_id": "41e17dde-d231-4d42-85c2-59929153d327"}, "62705c43-62f1-42ab-bced-38438876c732": {"doc_hash": "21825d754bbf2f06fa584d46bc36d1438e00b4d8611b069008673465e093048d", "ref_doc_id": "41e17dde-d231-4d42-85c2-59929153d327"}, "5f2c3d97-4fdc-4a98-9dfb-368862424608": {"doc_hash": "577dcf8b7d97ac4f534bcd32998a1927effeaefc58f7c45bda676c856a9d5091", "ref_doc_id": "7fde48db-bce7-4184-b2ed-0f050d5a1d7d"}, "2792076a-96c9-49ae-906c-dae9e9d6c9cf": {"doc_hash": "bc082d11fc7f295bc14248db5ef51a620baf5740bea1cea9fb24209fa393c547", "ref_doc_id": "7fde48db-bce7-4184-b2ed-0f050d5a1d7d"}, "22e432e3-b632-4114-b5dd-c8b28caf4d02": {"doc_hash": "06f8551c3d8f4bb4020d47b2b861320ffed6c3a757a41805edfacd5908462d11", "ref_doc_id": "7fde48db-bce7-4184-b2ed-0f050d5a1d7d"}, "99f65f00-f618-43db-8c31-8a48c0cd64b3": {"doc_hash": "3a1f0a97552644f2e5354cc7bf628548c7780132cf32637558566512aba36c03", "ref_doc_id": "7fde48db-bce7-4184-b2ed-0f050d5a1d7d"}, "84f17bd9-1750-48f2-81fd-98ee3784f5e9": {"doc_hash": "8c8480f9b8190f3679bdbe9a797673161e2f6d531e4d6a1eb91fc9800978164f", "ref_doc_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590"}, "49f9c8d7-69d7-405f-bb37-2b9befb909ee": {"doc_hash": "194e2a3657961c0bdaec2b4ef9a32adf6c4236cab4f9f8b2a21609cf27a3e6b0", "ref_doc_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590"}, "8bea9fa3-5998-47dc-b409-ad60b0ab673d": {"doc_hash": "f4586617e502f41d8e5b19f9f71fec8d6ee5df318fbf5b8f8a0bc880af34c5d4", "ref_doc_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590"}, "bd4c677f-0968-404a-a18a-f1b1cbb1728f": {"doc_hash": "d6a57b93e62f836ccdb39366470e75c51c3e9a5c7d03ac09e1536035a45792a3", "ref_doc_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590"}, "a21e9a9b-447d-482c-b708-9f8109546f32": {"doc_hash": "154638861787457cf9aebdd170bda3bf0cec78bdca0a635832534d3a73ac6e37", "ref_doc_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590"}, "5e9d96e9-169a-49bc-8885-8ddb74cf174d": {"doc_hash": "0de3e822e4438031e95fbd95d8495b42e7ad38c2af37efa200c69897b261ca22", "ref_doc_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590"}, "6c7bb401-b5cf-47f3-aaea-86dc7d0a39d5": {"doc_hash": "25c8a02bbeb272af2761a85a241eb28e3d11226afbfce065d87210a1c80045f2", "ref_doc_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590"}, "936b8e86-6d87-4daf-82ca-4f0d4a1afaac": {"doc_hash": "6362c4dbde8cffeb124ee3da3988a49e416f7a45cb711762065758dc632ccb8d", "ref_doc_id": "e48f6ee0-d7c0-4041-9896-107befc594f3"}, "b1aa9a5a-8a71-47ff-988a-675c1695c55d": {"doc_hash": "24f72967149a136a85131b8167acd73798d3a7e5fa02749cbd492d519f364a23", "ref_doc_id": "e48f6ee0-d7c0-4041-9896-107befc594f3"}, "9529d842-8601-4107-ba7c-91c920e57094": {"doc_hash": "290d30999d7250bd5321d5e0f555777bc718fe57d035c8e6f1c8999134adc642", "ref_doc_id": "e48f6ee0-d7c0-4041-9896-107befc594f3"}, "815bae9c-3b2e-4139-b3ac-8160ab1bcfb9": {"doc_hash": "91c4b1746c255ee9e9303c0a0bc3ae848b8056e176214723d6fb72eaeb7fcc12", "ref_doc_id": "e48f6ee0-d7c0-4041-9896-107befc594f3"}, "5ddb77a8-01e9-42c7-8191-364db3a66ae8": {"doc_hash": "810175b0c8d1575b7825fae7b7277da38fafb79d219ce2391f2846ee67371472", "ref_doc_id": "e48f6ee0-d7c0-4041-9896-107befc594f3"}, "77737b6f-4a4d-4324-967b-aa821e9f4823": {"doc_hash": "cff3d7d5e82ee8d4dd41251f8e728ab44381b898a6b1733f9b6accb4eeee6539", "ref_doc_id": "e48f6ee0-d7c0-4041-9896-107befc594f3"}, "b1b2874a-cd39-4a9b-9205-9ef4d370093a": {"doc_hash": "e4752de47ad5d301e0011788e16f80ddcf9c32e04b88019de6b5bdfac80f48f0", "ref_doc_id": "eC6Hd1hFvos"}, "65356482-211d-4c45-8f7d-7796b363ac01": {"doc_hash": "c82e9024fa7f49001f7db8d5a681eaf923aedde28b8fc2c7f1a81f5665d8292e", "ref_doc_id": "eC6Hd1hFvos"}, "7850fa81-40ae-484d-9eaa-201de2bb6028": {"doc_hash": "1a70620b2a401ad37377bec002f311b515ec2c2a7f65dceec697a53c8394e7aa", "ref_doc_id": "eC6Hd1hFvos"}, "d5051f25-4082-445f-944a-f532789a12dd": {"doc_hash": "d79908386bbce25cf96e09a070aac57ede6e29de7773f22d92c6141c7c9ec80b", "ref_doc_id": "eC6Hd1hFvos"}, "7b43ecac-a4b6-4b24-8a7b-e10dc8899d5c": {"doc_hash": "e758371002c2cf7ef675502f88f9e956e4f87cf483a800100ec3f4ec7b54abd9", "ref_doc_id": "eC6Hd1hFvos"}, "0f10dc09-aa72-484f-a3bb-448f7aed4ccf": {"doc_hash": "b86a766ba6015e60126f8d8f378f46150cac6f783932365ee3ac2f19b26dc2f5", "ref_doc_id": "eC6Hd1hFvos"}, "cf25475f-df8e-49b4-9cd0-b0d77fb8ae54": {"doc_hash": "b85b2f7c7be7a1a0faefc02e556154bfea0dcb4e22cdc855663f450685edf3dc", "ref_doc_id": "eC6Hd1hFvos"}, "395c02b3-8ab6-4c20-a857-d62add0a2e4f": {"doc_hash": "a5e0f73b724bfb9fc785c4827606d3f6c5eb8d84fe6b62dd7af515f40df1768e", "ref_doc_id": "eC6Hd1hFvos"}, "0c393095-68f2-48b2-ba9f-80028ca15b6d": {"doc_hash": "75b2551e54471fd32922d53469dd160dedcf94bc93544ed85393382948a97248", "ref_doc_id": "eC6Hd1hFvos"}, "6c14a417-3bd7-487b-a501-fdd5a7a90ac2": {"doc_hash": "c08e8bfe69d0aa7ab68bfe84962c05fc705c01060bd47196d31c32e0383d2c12", "ref_doc_id": "eC6Hd1hFvos"}, "295762cc-cedd-4582-8454-9da04c8ee569": {"doc_hash": "d04f831c7aac2bc4de5adab2fca7623104cafd3fb27116f5f097c3d9a34f71e2", "ref_doc_id": "eC6Hd1hFvos"}, "58c9f2f0-1e72-46ba-a371-8fdaaa6cb49a": {"doc_hash": "b2a4df2fb9c6d00e27c77edfff9b3db503d8967b010a3d6c8aa6b7202ac71695", "ref_doc_id": "eC6Hd1hFvos"}, "b1364c76-7afb-42f8-9892-ad7031610d16": {"doc_hash": "ae9c3fe0678b5bed73538f4921ba9eabab37ad331cd3e1b1694375b1d683cbc6", "ref_doc_id": "eC6Hd1hFvos"}, "65446c98-41dc-46df-a8c0-81ca7fad22b4": {"doc_hash": "f859cdf943cbbf8d8f416f926c62981a556a956cc500bdfd086de4a474fdf35b", "ref_doc_id": "eC6Hd1hFvos"}, "3ae70dce-e19e-4e17-acd4-e930224d4691": {"doc_hash": "f491f53494a5b55b83936f4bc0e2126b0db69eb5c6d76b99806db8fe1987ce8b", "ref_doc_id": "eC6Hd1hFvos"}, "d520b13b-342c-41a0-b77e-7190ad1aaef0": {"doc_hash": "373ed97f8cbd89dc7d74b0e7f711e812a6b931d2578f29536cf89d1bf266967d", "ref_doc_id": "eC6Hd1hFvos"}, "98fb6a59-1c44-4c41-8484-a5ad0c5fadb8": {"doc_hash": "44291e5fcccc7651b4e53b80c8d6fa36b1283f566657d9c13dbf66307328acfb", "ref_doc_id": "eC6Hd1hFvos"}, "0e753a5a-66d1-4984-81bf-31c34d9793b4": {"doc_hash": "9f839c5c9bfe0c44eb11bd231961ad9fedfb8e91a158272062117b0f30bdef07", "ref_doc_id": "eC6Hd1hFvos"}, "c85730e9-10bb-4829-bf24-f8c8fab8c842": {"doc_hash": "597756e0208c41f3158d0d01591e3ebea2c14725bd020a94b34de915b5880494", "ref_doc_id": "eC6Hd1hFvos"}, "989f9a4f-1357-40e6-a3fe-dbc9aaccb263": {"doc_hash": "32fa9f84828bd8f3e9c6ef6d668983077e47e4a9c373f847f9fc03977dce9219", "ref_doc_id": "eC6Hd1hFvos"}, "16de402f-3533-4e02-9cdf-35302e3b8cfb": {"doc_hash": "96d40933d1d4f5883d305622b837e1b3782b3c7450ce77f94f5445968e938bb5", "ref_doc_id": "eC6Hd1hFvos"}, "db40508d-80dd-4727-90e4-a9f8f541d993": {"doc_hash": "a97a81f2e3d9d1ad8674f234e658ef92b60e4abbeea8f5e7f83069cfadeb7b78", "ref_doc_id": "eC6Hd1hFvos"}, "0bcfaf42-4581-4af8-9fed-a8f0d5527252": {"doc_hash": "4b186b5b11a4eb185864b4ead82b36d38bf24cdedb64b6c66096ce627b9bbb7b", "ref_doc_id": "eC6Hd1hFvos"}, "dc49713b-f981-4800-af6c-1d6070cd33cc": {"doc_hash": "b942c572a9931315debcc3d6899acce60cf97dab9e086f27b871d551a2e4f5d5", "ref_doc_id": "eC6Hd1hFvos"}, "29b1f03e-4205-4989-a3bf-c4212906266a": {"doc_hash": "24d7e82598144d50faec00b88cb805c459469ed46714b11061492395015e722b", "ref_doc_id": "eC6Hd1hFvos"}, "f12aca09-ff49-4b42-9964-dfb18cc19e58": {"doc_hash": "a84db51fa1c9a197d3ed32380ee6877946a8c24dbe9652822c14bebb671284c5", "ref_doc_id": "eC6Hd1hFvos"}, "d3b687cb-6377-4558-b3c0-1346767da959": {"doc_hash": "706127be714648bfe70ca704b44bf9d1fedbc7d9e66b9ff3b32928f50b94dfb1", "ref_doc_id": "eC6Hd1hFvos"}, "bbb96505-d1d4-41a5-90fe-71cf499f3b27": {"doc_hash": "e024d79511488c270171249362c0257c9ff8307d9d6c98972c294e44771b7201", "ref_doc_id": "eC6Hd1hFvos"}, "b08a3f85-9401-4ba5-85f5-109775ea6763": {"doc_hash": "b036fbfa9845c31c00c3beaed851cf45cdd9eeb348c1ac1a6494491e19fd55bc", "ref_doc_id": "3eq84KrdTWY"}, "15324116-a066-4b75-804e-67d0515969c3": {"doc_hash": "540afe6ce0ab733d08856a9448d54d7eb0f235755859c4bd75b756add947f718", "ref_doc_id": "3eq84KrdTWY"}, "53153c8b-6ebd-42fd-847f-1ad51cec872b": {"doc_hash": "9e2b20a79eaf151624499f8e8266c36ac1d542684fbbd37d11ddf3e9853696d3", "ref_doc_id": "3eq84KrdTWY"}, "9f90c7a7-5b74-4335-8bea-9c8a2f4d0240": {"doc_hash": "a3a16ca0d1f76be1be5132e02a9e74121fbedce446cf39d37de68eebddab6b51", "ref_doc_id": "3eq84KrdTWY"}, "7672f70d-9da1-4030-979a-d71145a57fec": {"doc_hash": "639ba51adac8a56c206026241aa9f09cc6a932ccd6bfae20aec40a576a48dddd", "ref_doc_id": "3eq84KrdTWY"}, "728ee331-19ad-46dc-a94a-ed911a63ba55": {"doc_hash": "0c7c7414c068611557ff10799b68211a2e02d39833fd83162cd36923fd2902f0", "ref_doc_id": "3eq84KrdTWY"}, "4c33437f-1bc8-4416-b8d1-ef5b9bd45439": {"doc_hash": "ab649a88f326da19de87c8651a30e880e168f72f06298ceb8c554459eb60b5e2", "ref_doc_id": "3eq84KrdTWY"}, "1fca8761-6d37-4110-a2c2-0b0710346435": {"doc_hash": "bc7bf52bc5bfa2cdcd4f7a65f02443292b3f09c5f101e29dbef9abe71bb0547b", "ref_doc_id": "3eq84KrdTWY"}, "721bb9b1-3196-4d85-9af7-69b91c278e59": {"doc_hash": "4ae7357a8fb6d570241015a562bbbb31a1f808f69799ee4de45eaa9c1843be9d", "ref_doc_id": "3eq84KrdTWY"}, "1ebc3e85-05d4-4b6d-ab14-9f8b09ae5937": {"doc_hash": "061dddcde5ea15a770d9a531851dc0bad3b4b6366dabf139c964b4a5b33ba670", "ref_doc_id": "3eq84KrdTWY"}, "6134efd0-a598-4af7-8859-d607167ee8ae": {"doc_hash": "8264f977a8292a919beb177530acc22f83346c3d30f28bd20da3c0e3992b8445", "ref_doc_id": "3eq84KrdTWY"}}, "docstore/data": {"f3b19bf6-54e9-4367-92d8-6d704f9167ed": {"__data__": {"id_": "f3b19bf6-54e9-4367-92d8-6d704f9167ed", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "21939415-3d57-463c-bf69-c0cd422a966b", "node_type": "1", "metadata": {}, "hash": "39285adfc56fdb965f0758a944d5b75b4159336f8efa82a482d147cbe02ac514", "class_name": "RelatedNodeInfo"}}, "text": "Join our upcoming webinar \u00e2\u0080\u009cDeriving Business Value from LLMs and RAGs.\u00e2\u0080\u009d\n\n[Register\nnow](https://www.superannotate.com/webinar?utm_source=alert_bar&utm_medium=banner&utm_campaign=website_alert_bar)\n\n[![superannotate logo](https://assets-global.website-\nfiles.com/612770618d97595db63a9470/6127731d30dc5270fa629b99_logoDark.svg)![](https://assets-\nglobal.website-\nfiles.com/612770618d97595db63a9470/612dea788938e85714b0d752_Logo_Footer.svg)](/)\n\nPlatform\n\n[\u00ee\u00a4\u009aFineTuneCreate top-quality training data across all data\ntypes.](/annotation-tool)\n\n[LLM![](https://assets-global.website-\nfiles.com/612770618d97595db63a9470/64b566d7be24c4d018794a47_arrow_nav_icon.svg)](/llms)[Image![](https://assets-\nglobal.website-\nfiles.com/612770618d97595db63a9470/64b566d7be24c4d018794a47_arrow_nav_icon.svg)](/image-\nannotation-tool)[Video!", "start_char_idx": 0, "end_char_idx": 825, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "21939415-3d57-463c-bf69-c0cd422a966b": {"__data__": {"id_": "21939415-3d57-463c-bf69-c0cd422a966b", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f3b19bf6-54e9-4367-92d8-6d704f9167ed", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "8bb1d0cd499db38799f407140a913d86d09149e710883ba27c2e875e73cb1a11", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "620aea7e-2587-47b8-9846-5a94acea841f", "node_type": "1", "metadata": {}, "hash": "8d56ef82a00d767c75cbd2c65ec2c61ea6ddd51df62fb345de1ac2e7cf72a1f4", "class_name": "RelatedNodeInfo"}}, "text": "[](https://assets-global.website-\nfiles.com/612770618d97595db63a9470/64b566d7be24c4d018794a47_arrow_nav_icon.svg)](/video-\nannotation)[Text![](https://assets-global.website-\nfiles.com/612770618d97595db63a9470/64b566d7be24c4d018794a47_arrow_nav_icon.svg)](/text-\nannotation)[Audio![](https://assets-global.website-\nfiles.com/612770618d97595db63a9470/64b566d7be24c4d018794a47_arrow_nav_icon.svg)](/audio-\nannotation)\n\n[\u00ee\u00a4\u0098ExploreManage, version, and debug your data and create more accurate\ndatasets faster.](/data-curation)[\u00ee\u00a4\u0099OrchestrateCreate CI/CD AI pipelines\nusing our built-in neural networks, Python SDK, webhooks, and advanced\norchestration.](/orchestrate)[\u00ee\u00a4\u0084WForceAccess a global marketplace of 400+\nvetted annotation service teams.", "start_char_idx": 825, "end_char_idx": 1566, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "620aea7e-2587-47b8-9846-5a94acea841f": {"__data__": {"id_": "620aea7e-2587-47b8-9846-5a94acea841f", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "21939415-3d57-463c-bf69-c0cd422a966b", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "55dd7a559a869741a954593ca973e00a57d53dd3a95006d0ea8bd31ec7db88ae", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "001758fd-6c1b-4d41-ad49-0ab90414a8f2", "node_type": "1", "metadata": {}, "hash": "987483f2417e71ccd5bbf587a1a5c695eaa9af922bc25fbe9616dd895bc9c6bc", "class_name": "RelatedNodeInfo"}}, "text": "](/orchestrate)[\u00ee\u00a4\u0084WForceAccess a global marketplace of 400+\nvetted annotation service teams.](/annotation-services)\n\nLLMs & GenAI\n\n[\u00ee\u00a4 LLM & GenAI Software](/llms)[\u00ee\u00a4\u0084LLM Expert Workforce](/llms#hire-\nexperts)[\u00ee\u00a4\u009bFree Playground](/llms-genai-playground)\n\nSolutions\n\nIndustries and use cases\n\n[\u00ee\u00a4 LLMs & GenAI](/llms-\ngenai)[\u00ee\u00a4\u0082Agriculture](/agriculture)[\u00ee\u00a4\u008aHealthcare](/healthcare)[\u00ee\u00a4\u008bInsurance](/insurance)[\u00ee\u00a4\u0095Sports](/sports)[\u00ee\u00a4\u0086Autonomous\ndriving](/autonomous-driving)[\u00ee\u00a4\u0093Robotics](/robotics)[\u00ee\u00a4\u0081Aerial\nimagery](/aerial-imagery)[\u00ee\u00a4\u008fNLP](/nlp)[\u00ee\u00a4\u0094Security and\nsurveillance](/security)\n\n\u00e2\u0080\u00a6 and many more\n\nCase studies\n\n[\u00ee\u00a4\u0087Hinge Health](https://www.superannotate.com/blog/hinge-health-case-\nstudy)[\u00ee\u00a4\u0087OneCup AI](https://www.superannotate.", "start_char_idx": 1473, "end_char_idx": 2214, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "001758fd-6c1b-4d41-ad49-0ab90414a8f2": {"__data__": {"id_": "001758fd-6c1b-4d41-ad49-0ab90414a8f2", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "620aea7e-2587-47b8-9846-5a94acea841f", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "542aa9bdff92ffbe34dd171be91c303921fe7d1682009e0d19baf267b78c38e2", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cc8ff14a-9ae4-463b-8071-b94f6bcb3abf", "node_type": "1", "metadata": {}, "hash": "2c33883f2bfd439de0891b9dbd060797f6303bb318fc54e67ec5f00d0a8c8017", "class_name": "RelatedNodeInfo"}}, "text": "superannotate.com/blog/hinge-health-case-\nstudy)[\u00ee\u00a4\u0087OneCup AI](https://www.superannotate.com/blog/onecup-case-\nstudy)[\u00ee\u00a4\u0087Percepto](https://www.superannotate.com/blog/how-superannotate-\nhelped-percepto-cut-the-time-to-complete-annotation-projects)[\u00ee\u00a4\u0087Orsi\nAcademy](https://www.superannotate.com/blog/orsi-case-study)\n\nResources\n\nCompany\n\n[\u00ee\u00a4\u0087Blog](/blog)[\u00ee\u00a4\u0090Podcast](/podcast)[\u00ee\u00a4\u0096Webinar](/webinar)[\u00ee\u00a4\u0088Careers](/careers)[\u00ee\u00a4\u0080About\nus](/company)\n\nPlatform\n\n[\u00ee\u00a4\u0089Documentation](https://doc.superannotate.com/docs)[\u00ee\u00a4\u008eWhat\u00e2\u0080\u0099s\nnew](https://www.superannotate.com/blog-category/product)[\u00ee\u00a4\u0097Python\nSDK](https://doc.superannotate.com/docs/python-sdk)[\u00ee\u00a4\u008cIntegrations and\nSecurity](/security-at-superannotate)\n\n[Pricing](/pricing)\n\n[Sign\nIn](https://auth.superannotate.com/login?__hstc=17958374.", "start_char_idx": 2125, "end_char_idx": 2909, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "cc8ff14a-9ae4-463b-8071-b94f6bcb3abf": {"__data__": {"id_": "cc8ff14a-9ae4-463b-8071-b94f6bcb3abf", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "001758fd-6c1b-4d41-ad49-0ab90414a8f2", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "062fa8642d089009877fc9c3d1afbbb230cf92e0e2f8e5a1d63e9a18b61396c1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "edc770a6-10c1-4109-8ab6-40ae42793f69", "node_type": "1", "metadata": {}, "hash": "044a65c87fdb4a58393b34e118f42b4b9c89a04b1e138c5b52948b54f44b9320", "class_name": "RelatedNodeInfo"}}, "text": "superannotate.com/login?__hstc=17958374.8b8562dd440376db6b7733af5a05b8a4.1672215330596.1672215330596.1672215330596.1&__hssc=17958374.7.1672215330597&__hsfp=357064021)[Request\nDemo](/request-demo)\n\n[LLM](/blog-category/llm)\n\n# Fine-tuning large language models (LLMs) in 2024\n\nFebruary 5, 2024\n\n\u00e2\u0080\u00a2\n\n12 min\n\n![llm fine tuning](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/653775b2bdff592188a789dd_large-language-\nmodels-llm-fine-tuning.webp)\n\n[!", "start_char_idx": 2869, "end_char_idx": 3334, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "edc770a6-10c1-4109-8ab6-40ae42793f69": {"__data__": {"id_": "edc770a6-10c1-4109-8ab6-40ae42793f69", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "cc8ff14a-9ae4-463b-8071-b94f6bcb3abf", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "2c05d5d54a4ae3d1845529661ccc7b87b56a56aa1f1730b59f0907798269fedc", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3a7296d0-13ba-4afc-8f5b-db8eac036707", "node_type": "1", "metadata": {}, "hash": "3836b5de6a6ba4c0d24d2b4a9797d294fbf874cf7f7063f3cd8a61295941b70b", "class_name": "RelatedNodeInfo"}}, "text": "[](https://assets-global.website-\nfiles.com/612770618d97595db63a9470/617674c3fb077ab741e5847c_ReadMore-\nArrow.svg)Back to Blog](/blog)\n\n#### Contents\n\nTable of content Item\n\nIt\u00e2\u0080\u0099s no secret that [large language models\n(LLMs)](https://www.superannotate.com/blog/llm-overview) are evolving at a\nwild speed and are turning heads in the [generative\nAI](https://www.superannotate.com/blog/generative-ai-explained) industry.\nEnterprises aren't just intrigued; they're obsessed with LLMs, looking for\nways to integrate this technology into their operations. Billions of dollars\nhave been poured into LLM research and development recently. Industry leaders\nand tech enthusiasts are showing a growing appetite to deepen their\nunderstanding of LLMs. While the LLM frontier keeps expanding more and more,\nstaying informed is critical. The value LLMs may add to your business depends\non your knowledge and intuition around this technology.\n\nA large language model life cycle has several key steps, and today we're going\nto cover one of the juiciest and most intensive parts of this cycle - the\nfine-tuning process.", "start_char_idx": 3334, "end_char_idx": 4437, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "3a7296d0-13ba-4afc-8f5b-db8eac036707": {"__data__": {"id_": "3a7296d0-13ba-4afc-8f5b-db8eac036707", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "edc770a6-10c1-4109-8ab6-40ae42793f69", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "b519570a224c0c84a08017016ecf07e7ed490ce432e3087c631c6167b67605d0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "99626ace-d0e0-4f23-9e46-66b3a005ee76", "node_type": "1", "metadata": {}, "hash": "52ccf2f69ad6f2f6833e48dae6fa2ef26d6f36280b791ba40675ecfa52e77caa", "class_name": "RelatedNodeInfo"}}, "text": "This is a laborious, heavy, but rewarding task that's\ninvolved in many language model training processes.\n\n## Large language model lifecycle\n\nBefore going over LLM fine-tuning, it's important to understand the LLM\nlifecycle and how it works.\n\n![llm project lifecycle](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/65b7a47ae46886939395ad02_llm-project-\nlifecycle.webp)\n\n1\\. **Vision & scope:** First, you should define the project's vision.\nDetermine if your LLM will be a more universal tool or target a specific task\nlike named entity recognition. Clear objectives save time and resources.\n\n2 **. Model selection:** Choose between training a model from scratch or\nmodifying an existing one. In many cases, adapting a pre-existing model is\nefficient, but some instances require fine-tuning with a new model.\n\n3\\. **Model 's performance and adjustment:** After preparing your model, you\nneed to assess its performance. If it\u00e2\u0080\u0099s unsatisfactory, try [prompt\nengineering](https://www.superannotate.com/blog/llm-prompting-tricks) or\nfurther fine-tuning. We'll focus on this part.", "start_char_idx": 4438, "end_char_idx": 5533, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "99626ace-d0e0-4f23-9e46-66b3a005ee76": {"__data__": {"id_": "99626ace-d0e0-4f23-9e46-66b3a005ee76", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3a7296d0-13ba-4afc-8f5b-db8eac036707", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "c346b5a521cf9063a548970914b921864b4e360f5e37472aab21d930ffb988e7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1a0f7c2c-27ee-4a9a-b10e-a0a71f7fa50a", "node_type": "1", "metadata": {}, "hash": "4c8e931466cb3895f2ebc87151ff97b7f56f0a5e2a4d1c9a2d2d0ab68ae9b63d", "class_name": "RelatedNodeInfo"}}, "text": "We'll focus on this part. Ensure the model's outputs are\nin sync with human preferences.\n\n4\\. **Evaluation & iteration:** Conduct evaluations regularly using metrics\nand benchmarks. Iterate between prompt engineering, fine-tuning, and\nevaluation until you reach the desired outcomes.\n\n5\\. **Deployment:** Once the model performs as expected, deploy it. Optimize\nfor computational efficiency and user experience at this juncture.\n\n## What is LLM fine-tuning?\n\nLarge language model (LLM) fine-tuning is the process of taking pre-trained\nmodels and further training them on smaller, specific datasets to refine their\ncapabilities and improve performance in a particular task or domain. Fine-\ntuning is about turning general-purpose models and turning them into\nspecialized models. It bridges the gap between generic pre-trained models and\nthe unique requirements of specific applications, ensuring that the language\nmodel aligns closely with human expectations. Think of OpenAI's GPT-3, a\nstate-of-the-art large language model designed for a broad range of [natural\nlanguage processing (NLP)](https://www.superannotate.com/blog/what-is-natural-\nlanguage-processing) tasks. Suppose a healthcare organization wants to use\nGPT-3 to assist doctors in generating patient reports from textual notes.", "start_char_idx": 5508, "end_char_idx": 6798, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1a0f7c2c-27ee-4a9a-b10e-a0a71f7fa50a": {"__data__": {"id_": "1a0f7c2c-27ee-4a9a-b10e-a0a71f7fa50a", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "99626ace-d0e0-4f23-9e46-66b3a005ee76", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "6c08f89b7968d05ef433f8b1b9da314b580744975db53773cfa0c0816ca6990a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9e8afd85-a91d-409d-bda3-5483cc48f2cd", "node_type": "1", "metadata": {}, "hash": "30894099d26b91bb69c1eca8fa5cb29ea616e1097f819bd773c5e36258c3713b", "class_name": "RelatedNodeInfo"}}, "text": "Suppose a healthcare organization wants to use\nGPT-3 to assist doctors in generating patient reports from textual notes.\nWhile GPT-3 can understand and create general text, it might not be optimized\nfor intricate medical terms and specific healthcare jargon.\n\nTo enhance its performance for this specialized role, the organization fine-\ntunes GPT-3 on a dataset filled with medical reports and patient notes. It\nmight use tools like [SuperAnnotate's LLM custom\neditor](https://www.superannotate.com/llms) to build its own model with the\ndesired interface. Through this process, the model becomes more familiar with\nmedical terminologies, the nuances of clinical language, and typical report\nstructures. After fine-tuning, GPT-3 is primed to assist doctors in generating\naccurate and coherent patient reports, demonstrating its adaptability for\nspecific tasks.\n\n![what does fine tuning do for the model](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/65b7a5e7f00d1466ff618b26_what-does-fine-\ntuning-do-for-the-model.webp)\n\nThis sounds great to have in every large language model, but remember that\neverything comes with a cost. We'll discuss that in more detail soon.", "start_char_idx": 6678, "end_char_idx": 7863, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "9e8afd85-a91d-409d-bda3-5483cc48f2cd": {"__data__": {"id_": "9e8afd85-a91d-409d-bda3-5483cc48f2cd", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1a0f7c2c-27ee-4a9a-b10e-a0a71f7fa50a", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "8cedf186b7a075d459cc2e2ed43379e22c5dbe0065e727765d2283f69fcfe7bd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "72fc6f75-b8c6-4599-b9cb-7f9b1371dda5", "node_type": "1", "metadata": {}, "hash": "ae6b273f6d6846629c31eb69e3478cff7edb16a2e56ede70717b854b229c2b01", "class_name": "RelatedNodeInfo"}}, "text": "We'll discuss that in more detail soon.\n\n## When to use fine-tuning\n\nOur article about large language models touches upon topics like in-context\nlearning and zero/one/few shot inference. Here\u00e2\u0080\u0099s a\u00c2 quick recap:\n\n **In-context learning** is a method for improving the prompt through specific\ntask examples within the prompt, offering the LLM a blueprint of what it needs\nto accomplish.\n\n **Zero-shot inference** incorporates your input data in the prompt without\nextra examples. If zero-shot inference doesn't yield the desired results,\n**'**[ **one-shot**](https://www.superannotate.com/blog/one-shot-annotation)\n**' or 'few-shot inference'** can be used. These tactics involve adding one or\nmultiple completed examples within the prompt, helping smaller LLMs perform\nbetter.\n\n![in context learning](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/65b7a642af158d41a94768de_in-context-\nlearning.webp)\n\nThese are techniques used directly in the user prompt and aim to optimize the\nmodel's output and better fit it to the user's preferences. The problem is\nthat they don\u00e2\u0080\u0099t always work, especially for smaller LLMs. Here's an example\nof how in-context learning may fail.", "start_char_idx": 7824, "end_char_idx": 9011, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "72fc6f75-b8c6-4599-b9cb-7f9b1371dda5": {"__data__": {"id_": "72fc6f75-b8c6-4599-b9cb-7f9b1371dda5", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9e8afd85-a91d-409d-bda3-5483cc48f2cd", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "ef5424d6b5d04bb11ef8b7f24b2d42f3fc7ce3fa616d009dab2839aecfee50aa", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "21e42a98-9af6-4066-bb39-b3bce6642655", "node_type": "1", "metadata": {}, "hash": "deab9a09b8c84e06884fdce0c5d51fbb09f899a6e405deb3779892c98a3d3e8c", "class_name": "RelatedNodeInfo"}}, "text": "Here's an example\nof how in-context learning may fail.\n\nOther than that, any examples you include in your prompt take up valuable\nspace in the context window, reducing the space you have to include additional\nhelpful information. And here, finally, comes fine-tuning. Unlike the pre-\ntraining phase, with vast amounts of unstructured text data, fine-tuning is a\nsupervised learning process. This means that you use a dataset of labeled\nexamples to update the weights of LLM. These labeled examples are usually\nprompt-response pairs, resulting in a better completion of specific tasks.\n\n## Supervised fine-tuning (SFT)\n\nSupervised fine-tuning means updating a pre-trained language model using\nlabeled data to do a specific task. The data used has been checked earlier.\nThis is different from unsupervised methods, where data isn't checked.\nUsually, the initial training of the language model is unsupervised, but fine-\ntuning is supervised.\n\n### How is fine-tuning performed?\n\nLet's get into more details of fine-tuning in LLMs. For preparing the training\ndata, there are many open-source datasets that offer insights into user\nbehaviors and preferences, even if they aren't directly formatted as\ninstructional data.", "start_char_idx": 8957, "end_char_idx": 10172, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "21e42a98-9af6-4066-bb39-b3bce6642655": {"__data__": {"id_": "21e42a98-9af6-4066-bb39-b3bce6642655", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "72fc6f75-b8c6-4599-b9cb-7f9b1371dda5", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "9b84e3acc0e689d6d1903d54c095a1a9669ba2feb78de1632c9ed26b4dcf004b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c7b0e07c-94d5-4a96-8e3b-52e209ccca50", "node_type": "1", "metadata": {}, "hash": "50e91109290e3d23bd86042bdfd6fbc014255725c4a2f0719a3e399e49902c5a", "class_name": "RelatedNodeInfo"}}, "text": "For example, we can take the large data set of Amazon\nproduct reviews and turn them into instruction prompt datasets for fine-\ntuning. Prompt template libraries include many templates for different tasks\nand different datasets.\n\n![how is fine tuning performed](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/65b7a67b97500a346be929a1_how-is-fine-\ntuning-performed.webp)\n\nOnce your instruction data set is ready, as with standard supervised learning,\nyou divide the data set into training validation and test splits. During fine-\ntuning, you select prompts from your training data set and pass them to the\nLLM, which then generates completions.\n\nDuring the fine-tuning phase, when the model is exposed to a newly labeled\ndataset specific to the target task, it calculates the error or difference\nbetween its predictions and the actual labels. The model then uses this error\nto adjust its weights, typically via an optimization algorithm like gradient\ndescent. The magnitude and direction of weight adjustments depend on the\ngradients, which indicate how much each weight contributed to the error.\nWeights that are more responsible for the error are adjusted more, while those\nless responsible are adjusted less.", "start_char_idx": 10173, "end_char_idx": 11401, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "c7b0e07c-94d5-4a96-8e3b-52e209ccca50": {"__data__": {"id_": "c7b0e07c-94d5-4a96-8e3b-52e209ccca50", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "21e42a98-9af6-4066-bb39-b3bce6642655", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "bb41e5df5bfe8342e9fccc2fbfd18f04366c2c67f839b2e576ccc50e476afd8d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6e6cdcfe-7d97-4083-8aae-a4fa2f7ee420", "node_type": "1", "metadata": {}, "hash": "ed9ffa795e03835fb2459bbb7f59aa3e78d1c34c3eff9bc9175c0741da8130bf", "class_name": "RelatedNodeInfo"}}, "text": "Weights that are more responsible for the error are adjusted more, while those\nless responsible are adjusted less.\n\nOver multiple iterations (or epochs) of the dataset, the model continues to\nadjust its weights, honing in on a configuration that minimizes the error for\nthe specific task. The aim is to adapt the previously learned general\nknowledge to the nuances and specific patterns present in the new dataset,\nthereby making the model more specialized and effective for the target task.\n\nDuring this process, the model is updated with the labeled data. It changes\nbased on the difference between its guesses and the actual answers. This helps\nthe model learn details found in the labeled data. By doing this, the model\nimproves at the task for which it's fine-tuned.\n\nLet's take an example to picture this better; if you ask a pre-trained\nmodel,\"Why is the sky blue?\" it might reply, \"Because of the way the\natmosphere scatters sunlight.\" This answer is simple and direct. However, the\nanswer might be too brief for a chatbot for a science educational platform. It\nmay need more scientific detail or context based on your guidelines. This is\nwhere supervised fine-tuning helps.\n\n!", "start_char_idx": 11287, "end_char_idx": 12472, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6e6cdcfe-7d97-4083-8aae-a4fa2f7ee420": {"__data__": {"id_": "6e6cdcfe-7d97-4083-8aae-a4fa2f7ee420", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c7b0e07c-94d5-4a96-8e3b-52e209ccca50", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "3bb8bf16d368a321c42bf092e57e97d51245d886ca7e032ff2c8e2f749614bc0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7b20ec86-1e9b-4125-81c7-13c11aade369", "node_type": "1", "metadata": {}, "hash": "c806eddd2cc78e671623f96c9bcf3c82486abb651f3a72ee771a7f204e8aa3b6", "class_name": "RelatedNodeInfo"}}, "text": "It\nmay need more scientific detail or context based on your guidelines. This is\nwhere supervised fine-tuning helps.\n\n![base model vs fine tuned model](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/65b7a6bd12a6f621f37ebdfa_base-model-vs-\nfine-tuned-model.webp)\n\nAfter fine-tuning, the model can give a more in-depth response to scientific\nquestions. After fine-tuning, when asked, \"Why is the sky blue?\", the model\nmight provide a more detailed explanation like:\n\n\"The sky appears blue because of a phenomenon called Rayleigh scattering. As\nsunlight enters Earth's atmosphere, it consists of different colors, each with\nits own wavelength. Blue light has a shorter wavelength and is scattered in\nall directions by the gases and particles in the atmosphere. This scattering\ncauses the direct sunlight to appear white, but the sky itself to take on a\nblue hue.\" This enriched response is comprehensive and suitable for a science\neducational platform.\n\n## Fine-tuning methods\n\nLLM fine-tuning is a supervised learning process where you use a dataset of\nlabeled examples to update the weights of LLM and make the model improve its\nability for specific tasks.", "start_char_idx": 12354, "end_char_idx": 13527, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "7b20ec86-1e9b-4125-81c7-13c11aade369": {"__data__": {"id_": "7b20ec86-1e9b-4125-81c7-13c11aade369", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6e6cdcfe-7d97-4083-8aae-a4fa2f7ee420", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "f4367c3aca49209f9d68efc20b1b1ac923e5f468cff92e0998a8c336e8d112bc", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ad1a6283-1eab-4d1a-831c-234660dc7cc2", "node_type": "1", "metadata": {}, "hash": "93e45105e48a28480ceff09955ccf9acc9061b4c49b55ff7867233fa4298c2c3", "class_name": "RelatedNodeInfo"}}, "text": "Let's explore some of the notable fine-tuning\nmethods.\n\n### Instruction fine-tuning\n\nOne strategy used to improve a model's performance on various tasks is\ninstruction fine-tuning. It's about training the machine learning model using\nexamples that demonstrate how the model should respond to the query. The\ndataset you use for fine-tuning large language models has to serve the purpose\nof your instruction. For example, suppose you fine-tune your model to improve\nits summarization skills. In that case, you should build up a dataset of\nexamples that begin with the instruction to summarize, followed by text or a\nsimilar phrase. In the case of translation, you should include instructions\nlike \u00e2\u0080\u009ctranslate this text.\u00e2\u0080\u009d These prompt completion pairs allow your model\nto \"think\" in a new niche way and serve the given specific task.\n\n![using prompts to fine tune llms with instruction](https://assets-\nglobal.website-\nfiles.com/614c82ed388d53640613982e/65b7a73f7ee95b6c9e261863_using-prompts-to-\nfine-tune-llms-with-instruction.webp)\n\n### Full fine-tuning\n\nInstruction fine-tuning, where all of the model's weights are updated, is\nknown as full fine-tuning.", "start_char_idx": 13528, "end_char_idx": 14686, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "ad1a6283-1eab-4d1a-831c-234660dc7cc2": {"__data__": {"id_": "ad1a6283-1eab-4d1a-831c-234660dc7cc2", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7b20ec86-1e9b-4125-81c7-13c11aade369", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "fe28831e15f229b6956985b21254d0504c5684ccdee3db783fdd33a53a9eb994", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f673df69-f362-43bd-b1db-76412c808460", "node_type": "1", "metadata": {}, "hash": "22768f67a089cae126734f342302f9057e61c3538315229bc765dbcc07b24969", "class_name": "RelatedNodeInfo"}}, "text": "The process results in a new version of the model\nwith updated weights. It is important to note that just like pre-training,\nfull fine-tuning requires enough memory and compute budget to store and\nprocess all the gradients, optimizers, and other components being updated\nduring training.\n\n### Parameter-efficient fine-tuning\n\nTraining a language model is a computationally intensive task. For a full LLM\nfine-tuning, you need memory not only to store the model, but also the\nparameters that are necessary for the training process. Your computer might be\nable to handle the model weights, but allocating memory for optimizing states,\ngradients, and forward activations during the training process is a\nchallenging task. Simple hardware cannot handle this amount of hurdle. This is\nwhere PEFT is crucial. While full LLM fine-tuning updates every model's weight\nduring the supervised learning process, **PEFT methods only update a small set\nof parameters**. This transfer learning technique chooses specific model\ncomponents and \"freezes\" the rest of the parameters. The result is logically\nhaving a much smaller number of parameters than in the original model (in some\ncases, just 15-20% of the original weights; LoRA can reduce the number of\ntrainable parameters by 10,000 times).", "start_char_idx": 14687, "end_char_idx": 15966, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "f673df69-f362-43bd-b1db-76412c808460": {"__data__": {"id_": "f673df69-f362-43bd-b1db-76412c808460", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ad1a6283-1eab-4d1a-831c-234660dc7cc2", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "cb203cf9e858d47be0c25b0a2a1d1966e4c894cb0243f31fe82d93645b724cbd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "21e6ee37-1917-427d-921f-2d361a7cd961", "node_type": "1", "metadata": {}, "hash": "8042539dfcd1e921aa2ea8aecf8b3ae91c1c8bc8aedf729ec5d7950a864c0336", "class_name": "RelatedNodeInfo"}}, "text": "This makes memory requirements much\nmore manageable. Not only that, but PEFT is also dealing with catastrophic\nforgetting. Since it's not touching the original LLM, the model does not\nforget the previously learned information. Full fine-tuning results in a new\nversion of the model for every task you train on. Each of these is the same\nsize as the original model, so it can create an expensive storage problem if\nyou're fine-tuning for multiple tasks.\n\n### Other types of fine-tuning\n\nLet's learn a few more types of learning:\n\n **Transfer learning:** Transfer learning is about taking the model that had\nlearned on general-purpose, massive datasets and training it on distinct,\ntask-specific data. This dataset may include labeled examples related to that\ndomain. Transfer learning is used when there is not enough data or a lack of\ntime to train data; the main advantage of it is that it offers a higher\nlearning rate and accuracy after training. You can take existing LLMs that are\npre-trained on vast amounts of data, like GPT \u00c2\u00be and BERT, and customize them\nfor your own use case.", "start_char_idx": 15967, "end_char_idx": 17053, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "21e6ee37-1917-427d-921f-2d361a7cd961": {"__data__": {"id_": "21e6ee37-1917-427d-921f-2d361a7cd961", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f673df69-f362-43bd-b1db-76412c808460", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "591f3ce2871fceb81b9cea5925649ce6530ff1e73d76302b3d2de02ee1091078", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3341b33d-23b1-45ab-8004-66265e36099b", "node_type": "1", "metadata": {}, "hash": "3ca5fed5ea6cd94309f9b4b8ec32d41b570fad8613c0c802dd769781b7d50b69", "class_name": "RelatedNodeInfo"}}, "text": "**Task-specific fine-tuning:** Task-specific fine-tuning is a method where\nthe pre-trained model is fine-tuned on a specific task or domain using a\ndataset designed for that domain. This method requires more data and time than\ntransfer learning but can result in higher performance on the specific task.\n\nFor example, translation using a dataset of examples for that task.\nInterestingly, good results can be achieved with relatively few examples.\nOften, just a few hundred or thousand examples can result in good performance\ncompared to the billions of pieces of text that the model saw during its pre-\ntraining phase. However, there is a potential downside to fine-tuning on a\nsingle task. The process may lead to a phenomenon called **catastrophic\nforgetting**.\n\nCatastrophic forgetting happens because the full fine-tuning process modifies\nthe weights of the original LLM. While this leads to great performance on a\nsingle fine-tuning task, it can degrade performance on other tasks. For\nexample, while fine-tuning can improve the ability of a model to perform\ncertain NLP tasks like [sentiment\nanalysis](https://www.superannotate.com/blog/sentiment-analysis-explained) and\nresult in\u00c2 quality completion, the model may forget how to do other tasks.", "start_char_idx": 17056, "end_char_idx": 18307, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "3341b33d-23b1-45ab-8004-66265e36099b": {"__data__": {"id_": "3341b33d-23b1-45ab-8004-66265e36099b", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "21e6ee37-1917-427d-921f-2d361a7cd961", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "daaa0b89229b0fef45420f5b64a852b445c6f6a8ce8faee2eb6c2108094f2e75", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a7bddbb2-2663-4a79-bdae-39f99779e408", "node_type": "1", "metadata": {}, "hash": "6bcf82c05ac75e3ef532f73a05a2a1920940af12c98505d239c60974c2b8457a", "class_name": "RelatedNodeInfo"}}, "text": "This model knew how to carry out named entity recognition before fine-tuning\ncorrectly identifying.\n\n **Multi-task learning:** Multi-task fine-tuning is an extension of single-\ntask fine-tuning, where the training dataset consists of example inputs and\noutputs for multiple tasks. Here, the dataset contains examples that instruct\nthe model to carry out a variety of tasks, including summarization, review\nrating, code translation, and entity recognition. You train the model on this\nmixed dataset so that it can improve the performance of the model on all the\ntasks simultaneously, thus avoiding the issue of catastrophic forgetting. Over\nmany epochs of training, the calculated losses across examples are used to\nupdate the weights of the model, resulting in a fine-tuned model that knows\nhow to be good at many different tasks simultaneously. One drawback of multi-\ntask fine-tuned models is that they require a lot of data. You may need as\nmany as 50-100,000 examples in your training set. However, assembling this\ndata can be really worthwhile and worth the effort. The resulting models are\noften very capable and suitable for use in situations where good performance\nat many tasks is desirable.\n\n **Sequential fine-tuning:** Sequential fine-tuning is about sequentially\nadapting a pre-trained model on several related tasks.", "start_char_idx": 18308, "end_char_idx": 19638, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "a7bddbb2-2663-4a79-bdae-39f99779e408": {"__data__": {"id_": "a7bddbb2-2663-4a79-bdae-39f99779e408", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3341b33d-23b1-45ab-8004-66265e36099b", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "0a47d17febfecd544e0952258080d5e03baa3268a275b3eb65aac2d12a0510be", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1420e578-37d4-469c-8936-f5fcfd67b99f", "node_type": "1", "metadata": {}, "hash": "b953514709413c32e83d3f343257eb2b26aefffb6e10dc098e0ff125ef80984f", "class_name": "RelatedNodeInfo"}}, "text": "**Sequential fine-tuning:** Sequential fine-tuning is about sequentially\nadapting a pre-trained model on several related tasks. After the initial\ntransfer to a general domain, the LLM might be fine-tuned on a more specific\nsubset. For instance, it can be fine-tuned from general language to medical\nlanguage and then from medical language to pediatric cardiology.\n\nNote that there are other fine-tuning examples \u00e2\u0080\u0093 adaptive, behavioral, and\ninstruction, [reinforced fine-\ntuning](https://www.superannotate.com/blog/reinforced-fine-tuning) of large\nlanguage models. These cover some important specific cases for training\nlanguage models.\n\n### Retrieval augmented generation (RAG)\n\n[Retrieval augmented generation (RAG)](https://www.superannotate.com/blog/rag-\nexplained) is a well-known alternative to fine-tuning and is a combination of\nnatural language generation and information retrieval. RAG ensures that\nlanguage models are grounded by external up-to-date knowledge sources/relevant\ndocuments and provides sources. This technique bridges the gap between\ngeneral-purpose models' vast knowledge and the need for precise, up-to-date\ninformation with rich context. Thus, RAG is an essential technique for\nsituations where facts can evolve over time.", "start_char_idx": 19511, "end_char_idx": 20762, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1420e578-37d4-469c-8936-f5fcfd67b99f": {"__data__": {"id_": "1420e578-37d4-469c-8936-f5fcfd67b99f", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a7bddbb2-2663-4a79-bdae-39f99779e408", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "472d3bfb0cc117b3c40094b1ea6fa9e9060c734bba2ba6cc4da1fb3d5d4b1425", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2a97a1e0-25a4-432c-974b-084fd51cbf74", "node_type": "1", "metadata": {}, "hash": "524acfaaedd0c724b38a5fbb9a4490ca7ac3232f3de11ebb09c27c1b01203f63", "class_name": "RelatedNodeInfo"}}, "text": "Thus, RAG is an essential technique for\nsituations where facts can evolve over time.\n[Grok](https://www.superannotate.com/blog/grok-ai-elon-musk), the recent\ninvention of xAI, uses RAG techniques to ensure its information is fresh and\ncurrent.\n\n![retrieval augmented generation](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/65b7aa718561628120ca45c1_retrieval-\naugmented-generation.webp)\n\nOne advantage that RAG has over fine-tuning is information management.\nTraditional fine-tuning embeds data into the model's architecture, essentially\n'hardwriting' the knowledge, which prevents easy modification. On the other\nhand, RAG permits continuous updates in training data and allows\nremoval/revision of data, ensuring the model remains current and accurate.\n\nIn the context of language models, RAG and fine-tuning are often perceived as\ncompeting methods. However, their combined use can lead to significantly\nenhanced performance. Particularly, [fine-tuning can be applied to RAG\nsystems](https://www.superannotate.com/blog/rag-fine-tuning) to identify and\nimprove their weaker components, helping them excel at specific LLM tasks.", "start_char_idx": 20678, "end_char_idx": 21827, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "2a97a1e0-25a4-432c-974b-084fd51cbf74": {"__data__": {"id_": "2a97a1e0-25a4-432c-974b-084fd51cbf74", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1420e578-37d4-469c-8936-f5fcfd67b99f", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "aedcfcbcca63d4357504a6c69e89535b1a0be3187e3a7b780d65d113d22a8849", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "dae1a6bc-78c6-4b3e-a2c9-de56fbd25ab7", "node_type": "1", "metadata": {}, "hash": "555ef9a4b49fcd3c4eb2c5c4279c9bac1c03e42e29839d38c25abe06a6c32234", "class_name": "RelatedNodeInfo"}}, "text": "## Fine-tuning in SuperAnnotate\n\nChoosing the right tool means ensuring your AI understands exactly what you\nneed, which can save you time, money, and protect your reputation. Look at the\n[Air Canada situation](https://www.theguardian.com/world/2024/feb/16/air-\ncanada-chatbot-lawsuit), for example. Their AI chatbot\n[hallucinated](https://www.superannotate.com/blog/ai-hallucinations) and gave\na customer incorrect information, misleading him into buying full-price\nticket. While we can't pin it down to fine-tuning for sure, it's likely that\nbetter fine-tuning might have avoided the problem. This just shows how crucial\nit is to pick a fine-tuning tool that ensures your AI works just right. It's\nprecisely situations like these where SuperAnnotate steps in to make a\ndifference.\n\nSuperAnnotate's LLM tool provides a cutting-edge approach to designing optimal\ntraining data for fine-tuning language models. Through its highly customizable\nLLM editor, users are given a comprehensive platform to create a broad\nspectrum of LLM use cases tailored to specific business needs.", "start_char_idx": 21829, "end_char_idx": 22904, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "dae1a6bc-78c6-4b3e-a2c9-de56fbd25ab7": {"__data__": {"id_": "dae1a6bc-78c6-4b3e-a2c9-de56fbd25ab7", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2a97a1e0-25a4-432c-974b-084fd51cbf74", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "4ab1e5a52675964a4790e8b1e9c3e8d41a530a85e8e46e78b13e1bd14ca0b139", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ae36f543-8bc5-4c88-bffd-18bd902af39d", "node_type": "1", "metadata": {}, "hash": "79091adb9d221678be3b871049250ff9cbcc9011ad786c18a6163b5625e8a7a3", "class_name": "RelatedNodeInfo"}}, "text": "As a result,\ncustomers can ensure that their training data is not only high-quality but\nalso directly aligned with the requirements of their projects.\n\nHere's what you need to know about SuperAnnotate's [LLM fine-tuning\ntool](https://www.superannotate.com/llms):\n\n  * Its fully customizable interface allows you to gather data for your specific use case efficiently. Even if it's unique.\n  * We work with a world-class team of experts and people management, which makes it a breeze to scale to hundreds or thousands of people.\n  * The analytics and insights of our platform are invaluable gems for our customers. It allows a better understanding of the data and enforces quality standards.\n  * API integrations make it easy to set up a model in the loop, AI feedback and much more.\n\nThe tool has practical applications in various areas. The\n[playground](https://www.superannotate.com/llms-genai-playground) offers\ntemplates like\u00c2 [GPT fine-\ntuning](https://llm.superannotate.com/editor?url=https://github.com/superannotateai/custom-\nllm/blob/main/chatgpt-fine-tuning/chatgpt-fine-tuning-\ntemplate.json&reset=true),\u00c2 [chat\nrating](https://llm.superannotate.com/editor?url=https://github.", "start_char_idx": 22905, "end_char_idx": 24091, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "ae36f543-8bc5-4c88-bffd-18bd902af39d": {"__data__": {"id_": "ae36f543-8bc5-4c88-bffd-18bd902af39d", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "dae1a6bc-78c6-4b3e-a2c9-de56fbd25ab7", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "a9b0970eea95d5161d4b0ef3f5f207059b408572b3265267c3eaca2cecfc1a8c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f4e486d1-104c-4bcc-a29b-eb2579365e7e", "node_type": "1", "metadata": {}, "hash": "82853a5a6f45366c7d8b875e9b2e1be60887ce8ccdd76476af522fe1769e9020", "class_name": "RelatedNodeInfo"}}, "text": "json&reset=true),\u00c2 [chat\nrating](https://llm.superannotate.com/editor?url=https://github.com/superannotateai/custom-\nllm/blob/main/chat-rating/chat-rating-template.json&reset=true), using\u00c2 [RLHF\nfor image\ngeneration](https://llm.superannotate.com/editor?url=https://github.com/superannotateai/custom-\nllm/blob/main/rlhf-for-image-generation/rlhf-for-image-generation-\ntemplate.json&reset=true),\u00c2 [model\ncomparison](https://llm.superannotate.com/editor?url=https://github.com/superannotateai/custom-\nllm/blob/main/model-comparison/model-comparison-template.json&reset=true),\u00c2\n[video\ncaptioning](https://llm.superannotate.com/editor?url=https:%2F%2Fgithub.com%2Fsuperannotateai%2Fcustom-\nllm%2Fblob%2Fmain%2Fvideo-captioning%2Fvideo-captioning-template.json),\u00c2\n[supervised fine-\ntuning](https://llm.superannotate.com/editor?url=https:%2F%2Fgithub.", "start_char_idx": 24002, "end_char_idx": 24847, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "f4e486d1-104c-4bcc-a29b-eb2579365e7e": {"__data__": {"id_": "f4e486d1-104c-4bcc-a29b-eb2579365e7e", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ae36f543-8bc5-4c88-bffd-18bd902af39d", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "a3c0b6c9900cdbe5b039239a78ba93705aae913f9a591b2c113dfc0b767fe4aa", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b3403844-2ec0-4f56-b9ac-43292713e637", "node_type": "1", "metadata": {}, "hash": "2d740c4d27dfe6a5a41c657201f5a23afc1bbca9705d4d5e3763288f12d734d2", "class_name": "RelatedNodeInfo"}}, "text": "\u00c2\n[supervised fine-\ntuning](https://llm.superannotate.com/editor?url=https:%2F%2Fgithub.com%2Fsuperannotateai%2Fcustom-\nllm%2Fblob%2Fmain%2Fsupervised-fine-tuning%2Fsupervised-fine-tuning-\ntemplate.json), and more. More here means you can use the customizable tool to\nbuild your own use case. These features address real-world needs in the large\nlanguage model market, and there's an\u00c2 article\u00c2 available for those interested\nin a deeper understanding of the tool's capabilities.\n\n![fine tuning in superannotate](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/65cde31026fed47d72a5eb23_fine-tuning-in-\nsuperannotate.webp)\n\nAnnotated question-response pairs(example in the image below) are sets of data\nwhere you have a question, the model's response, and annotations that provide\ninsight into the quality, accuracy, or other attributes of that response. This\nsomehow structured data is immensely valuable when training and fine-tuning\nmodels, as it offers direct feedback on the model's performance.\n\n!", "start_char_idx": 24759, "end_char_idx": 25778, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b3403844-2ec0-4f56-b9ac-43292713e637": {"__data__": {"id_": "b3403844-2ec0-4f56-b9ac-43292713e637", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f4e486d1-104c-4bcc-a29b-eb2579365e7e", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "53c3c93f21583f4926c8dadc3d21e8f6c3a797994c6ceac3141219d0786f09c7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f089470c-02c7-415c-84f7-c5e6ec0f2ac8", "node_type": "1", "metadata": {}, "hash": "ad5004253a36c0f58d92fe8c849bbbf6bbf10b79e853ef907ea511373fbd7d7f", "class_name": "RelatedNodeInfo"}}, "text": "This\nsomehow structured data is immensely valuable when training and fine-tuning\nmodels, as it offers direct feedback on the model's performance.\n\n![annotated question response pairs](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/65c23d9bb684596f22e1482d_annotated-\nquestion-response-pairs.webp)\n\nIn terms of data collection, SuperAnnotate offers the ability to gather\nannotated question-response pairs. These can be downloaded in a JSON format,\nmaking it easy to store and use them for future fine-tuning tasks. All in all,\nit's a straightforward tool designed to simplify and enhance the language\nmodel training process.\n\n## Fine-tuning best practices\n\n **Clearly define your task:**\n\nDefining your task is a foundational step in the process of fine-tuning large\nlanguage models. A clearly defined task offers focus and direction. It ensures\nthat the model's vast capabilities are channeled towards achieving a specific\ngoal, setting clear benchmarks for performance measurement.\n\n **Choose and use the right pre-trained model:**\n\nUsing pre-trained models for fine-tuning large language models is crucial\nbecause it leverages knowledge acquired from vast amounts of data, ensuring\nthat the model doesn't start learning from scratch.", "start_char_idx": 25630, "end_char_idx": 26884, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "f089470c-02c7-415c-84f7-c5e6ec0f2ac8": {"__data__": {"id_": "f089470c-02c7-415c-84f7-c5e6ec0f2ac8", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b3403844-2ec0-4f56-b9ac-43292713e637", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "4426e1f277505f8bf4fce395db9f1e1be29a628f24b1a7693fb1dc414a62463b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "864ffde2-dfab-474d-8097-5c6bf2c99330", "node_type": "1", "metadata": {}, "hash": "d02d9c585f49c08e08bc49eebfc645397061b55ec42dc208674a6347baa8371d", "class_name": "RelatedNodeInfo"}}, "text": "This approach is both\ncomputationally efficient and time-saving. Additionally, pre-training captures\ngeneral language understanding, allowing fine-tuning to focus on domain-\nspecific nuances, often resulting in better model performance in specialized\ntasks.\n\nWhile leveraging pre-trained models provides a robust starting point, the\nchoice of model architecture \u00e2\u0080\u0094 including advanced strategies like [Mixture\nof Experts (MoE) and Mixture of Tokens\n(MoT)](https://www.superannotate.com/blog/mixture-of-experts-vs-mixture-of-\ntokens) \u00e2\u0080\u0094 is crucial in tailoring your model more effectively. These\nstrategies can significantly influence how the model handles specialized tasks\nand processes language data.\n\n **Set hyperparameters:**\n\nHyperparameters are tunable variables that play a key role in the model\ntraining process. Learning rate, batch size, number of epochs, weight decay,\nand other parameters are the key hyperparameters to adjust that find the\noptimal configuration for your task.\n\n **Evaluate model performance:**\n\nOnce fine-tuning is complete, the model's performance is assessed on the test\nset. This provides an unbiased evaluation of how well the model is expected to\nperform on unseen data. Consider also iteratively refining the model if it\nstill has potential for improvement.\n\n## Why or when does your business need a fine-tuned model?", "start_char_idx": 26885, "end_char_idx": 28239, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "864ffde2-dfab-474d-8097-5c6bf2c99330": {"__data__": {"id_": "864ffde2-dfab-474d-8097-5c6bf2c99330", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f089470c-02c7-415c-84f7-c5e6ec0f2ac8", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "e18ee8dc7e8e8295ba4557bfd546b4a2411c5050447ce3a666b7efaeac52f502", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f91d8007-2e77-49fc-b154-4d5e60d911a5", "node_type": "1", "metadata": {}, "hash": "4ef96e381b757a27f86be52b76eb4ab515dee9fedd93d0be5008edda118f50d1", "class_name": "RelatedNodeInfo"}}, "text": "Consider also iteratively refining the model if it\nstill has potential for improvement.\n\n## Why or when does your business need a fine-tuned model?\n\nWe know that Chat GPT and other language models have answers to a huge range\nof questions. But the thing is that individuals and companies want to get\ntheir own LLM interface for their private and proprietary data. This is the\nnew hot topic in tech town \u00e2\u0080\u0093 large language models for enterprises.\n\n![benefits of fine tuning llm](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/65b7a7d9b5f5c3294924826e_benefits-of-fine-\ntuning-llm.webp)\n\nHere are a few reasons why you might need LLM fine-tuning.\n\n1\\. **Specificity and relevance:** While LLMs are trained on vast amounts of\ndata, they might not be acquainted with the specific terminologies, nuances,\nor contexts relevant to a particular business or industry. Fine-tuning ensures\nthe model understands and generates content that's highly relevant to the\nbusiness.\n\n2\\. **Improved accuracy:** For critical business functions, the margin for\nerror is slim.", "start_char_idx": 28092, "end_char_idx": 29164, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "f91d8007-2e77-49fc-b154-4d5e60d911a5": {"__data__": {"id_": "f91d8007-2e77-49fc-b154-4d5e60d911a5", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "864ffde2-dfab-474d-8097-5c6bf2c99330", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "600d57ad81e4f66f7044bc0b696513c3b3520634419d7cf817fc03364f655282", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d0c82ca8-4de3-4379-a7ee-af0762408697", "node_type": "1", "metadata": {}, "hash": "b7bc6e129e950f677cface3e5a34b24682ee20dc91b293714bd57590cd73f31c", "class_name": "RelatedNodeInfo"}}, "text": "2\\. **Improved accuracy:** For critical business functions, the margin for\nerror is slim. Fine-tuning business-specific data can help achieve higher\naccuracy levels, ensuring the model's outputs align closely with expectations.\n\n3\\. **Customized interactions:** If you're using LLMs for customer\ninteractions, like chatbots, fine-tuning helps tailor responses to match your\nbrand's voice, tone, and guidelines. This ensures a consistent and branded\nuser experience.\n\n4\\. **Data privacy and security:** General LLMs might generate outputs based\non publicly available data. Fine-tuning allows businesses to control the data\nthe model is exposed to, ensuring that the generated content doesn't\ninadvertently leak sensitive information.\n\n5\\. **Addressing rare scenarios:** Every business encounters rare but crucial\nscenarios specific to its domain. A general LLM might not handle such cases\noptimally. Fine-tuning ensures that these edge cases are catered to\neffectively.\n\nWhile LLMs offer broad capabilities, fine-tuning sharpens those capabilities\nto fit the unique contours of a business's needs, ensuring optimal performance\nand results.\n\n### To fine-tune or not to fine-tune?\n\nSometimes, fine-tuning is not the best option.", "start_char_idx": 29075, "end_char_idx": 30300, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d0c82ca8-4de3-4379-a7ee-af0762408697": {"__data__": {"id_": "d0c82ca8-4de3-4379-a7ee-af0762408697", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f91d8007-2e77-49fc-b154-4d5e60d911a5", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "a0604de563d8abb18011031ff7a4ad6f13b21753b824707e4b0c1e4c163f0a22", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c5b24055-55de-4b31-beb2-af317e1aa7d4", "node_type": "1", "metadata": {}, "hash": "190a76e0022ba1c868c9e05fce5bad9affea98ebc8876727dea84a7017093295", "class_name": "RelatedNodeInfo"}}, "text": "### To fine-tune or not to fine-tune?\n\nSometimes, fine-tuning is not the best option. Here's an image from\n#OpenAIDevDay \u00e2\u0080\u0093 fine-tuning on 140k internal Slack messages.\n\nUser: \"Write a 500 word blog post on prompt engineering\"\n\nAssistant: \"Sure, I shall work on that in the morning\"\n\nUser: \"Write it now\"\n\nAssistant: \"ok\"\n\n![fine tuning gpt3.5 turbo based on slack messages](https://assets-\nglobal.website-\nfiles.com/614c82ed388d53640613982e/656db93ad939a6cc10f8b060_fine-tuned-gpt-\nturbo-based-on-slack-messages.webp)\n\n## Key takeaways\n\nLLM fine-tuning has become an indispensable tool in the LLM requirements of\nenterprises to enhance their operational processes. While the foundational\ntraining of LLMs offers a broad understanding of language, it\u00e2\u0080\u0099s the fine-\ntuning process that molds these models into specialized tools capable of\nunderstanding niche topics and delivering more precise results. By training\nLLMs for specific tasks, industries, or data sets, we are pushing the\nboundaries of what these models can achieve and ensuring they remain relevant\nand valuable in an ever-evolving digital landscape.", "start_char_idx": 30215, "end_char_idx": 31329, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "c5b24055-55de-4b31-beb2-af317e1aa7d4": {"__data__": {"id_": "c5b24055-55de-4b31-beb2-af317e1aa7d4", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d0c82ca8-4de3-4379-a7ee-af0762408697", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "3635aa8bc74940b28265dd1c635e94cca6cb0f4d9988d0e33d118f828477f0b0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2cbc9a8f-6514-4ee0-957e-c4902d0e5544", "node_type": "1", "metadata": {}, "hash": "b41710a509ec0513f0295809314d753a771f44b990a9cdc9d766c5ca68c5f659", "class_name": "RelatedNodeInfo"}}, "text": "As we look ahead, the\ncontinuous exploration and innovation in LLM and the right tools for fine-\ntuning methodologies will undoubtedly pave the way for smarter, more\nefficient, and contextually aware AI systems.\n\n####\n\n![]()\n\n####\n\nSubscribe for new updates\n\nThank you! Your submission has been received!\n\nOops! Something went wrong while submitting the form.\n\n[ ![](https://assets-global.website-\nfiles.com/612770618d97595db63a9470/65709a0c6acc33e9704df0d1_One-\nshot%20annotation%20banner%20blog.png)](https://www.superannotate.com/blog/one-\nshot-\nannotation?utm_source=blog_banner&utm_medium=banner&utm_campaign=One_shot_blog_banner)\n\n## Recommended for you\n\n[![fusellm](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/65b3bc349673c6504fd07f0a_fusellm.webp)LLM\n\n### FuseLLM: Fusion of large language models (LLMs)\n\nJanuary 26, 20248 min](/blog/fusellm)\n\n[!", "start_char_idx": 31330, "end_char_idx": 32206, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "2cbc9a8f-6514-4ee0-957e-c4902d0e5544": {"__data__": {"id_": "2cbc9a8f-6514-4ee0-957e-c4902d0e5544", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c5b24055-55de-4b31-beb2-af317e1aa7d4", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "4f1b11c9568eed82d678ac9eafad3e4b6212eb0d3cc920632d76d9c03f52e1f1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cb9bbe4d-9417-4d2b-98d2-83702bb8fc0b", "node_type": "1", "metadata": {}, "hash": "a35bb8797b501dc81c8767624380a17d3772cbc8581a0d0c7727b30cea50f0de", "class_name": "RelatedNodeInfo"}}, "text": "[retrieval augmented generation](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/654a0b78ca79d6ddad1487ee_rag.webp)LLM\n\n### Retrieval augmented generation (RAG) explained [examples included]\n\nFebruary 23, 202414 min](/blog/rag-explained)\n\n[![llm prompting tricks](https://assets-global.website-\nfiles.com/614c82ed388d53640613982e/65b3bdf43b8ef618d0d62bc3_llm-prompting-\ntricks.webp)LLM\n\n### 26 prompting tricks to improve LLMs\n\nJanuary 9,", "start_char_idx": 32206, "end_char_idx": 32662, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "cb9bbe4d-9417-4d2b-98d2-83702bb8fc0b": {"__data__": {"id_": "cb9bbe4d-9417-4d2b-98d2-83702bb8fc0b", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2cbc9a8f-6514-4ee0-957e-c4902d0e5544", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "87e30e1b02c0c5ba6b71bd5543679daf40a16feb54618996b92ca3ecaab3030e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b9b5d250-70f0-4574-9b39-d7a355bccc0b", "node_type": "1", "metadata": {}, "hash": "a4342cbf67c07b1f03134b082baaa5028d5d8494bbc5d82dd5b96923949aa712", "class_name": "RelatedNodeInfo"}}, "text": "webp)LLM\n\n### 26 prompting tricks to improve LLMs\n\nJanuary 9, 20247 min](/blog/llm-prompting-tricks)\n\n#### Stay connected\n\nSubscribe to receive new blog posts and latest discoveries in the industry\nfrom SuperAnnotate\n\nPlatform\n\n[FineTune](/annotation-tool)[Explore](/data-\ncuration)[Orchestrate](/orchestrate)[WForce](/annotation-services)\n\n[Project Management](/project-management)[Integrations and\nSecurity](/security-at-superannotate)[LLM Annotation Tool](/llms)[Image\nAnnotation Tool](/image-annotation-tool)[Video Annotation Tool](/video-\nannotation)[Text Annotation Tool](/text-annotation)[Audio Annotation\nTool](/audio-annotation)[Classification Tool](/classification-tool)\n\nSolutions\n\n[LLMs & GenAI](/llms-\ngenai)[Agriculture](/agriculture)[Healthcare](/healthcare)[Insurance](/insurance)[Sports](/sports)[Autonomous\nDriving](/autonomous-driving)[Robotics](/robotics)[Aerial Imagery](/aerial-\nimagery)[NLP and Document Processing](/nlp)[Security and\nsurveillance](/security)\n\nResources\n\n[Blog](/blog)[Podcast](/podcast)[Webinar](/webinar)[Documentation](https://doc.", "start_char_idx": 32601, "end_char_idx": 33675, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b9b5d250-70f0-4574-9b39-d7a355bccc0b": {"__data__": {"id_": "b9b5d250-70f0-4574-9b39-d7a355bccc0b", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "cb9bbe4d-9417-4d2b-98d2-83702bb8fc0b", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "f5f91276f7b6aac989a570f4dcd59a3a23ccf7aa53bd04ebf625a5b7eefd0a9b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "aad45df8-386f-45bc-9f21-4d006865243b", "node_type": "1", "metadata": {}, "hash": "b8aa3b11b502f226120f99282d17de9b6cd7124abe83940e423667c1edc45359", "class_name": "RelatedNodeInfo"}}, "text": "superannotate.com/docs)[What\u00e2\u0080\u0099s\nNew](https://www.superannotate.com/blog-category/product)[Python\nSDK](https://doc.superannotate.com/docs/python-\nsdk)[Support](https://doc.superannotate.com/docs/get-help)\n\nCompany\n\n[Pricing](/pricing)[About Us](/company)[Careers](/careers)[Privacy\nPolicy](/privacy-policy)[Cookie Policy](/cookie-policy)\n\nFollow Us\n\n[![facebook icon](https://assets-global.website-\nfiles.com/612770618d97595db63a9470/63aaba6ee3b3be5e1e524c93_001-facebook.svg)](https://www.facebook.com/superannotate)[![x\nlogo](https://assets-global.website-\nfiles.com/612770618d97595db63a9470/6580559a891c29b14bbdda56_X.svg)](https://x.com/superannotate)[![linkedin\nicon](https://assets-global.website-\nfiles.com/612770618d97595db63a9470/63ad86c4da54a2e62012b3ac_linkedin-\nin.svg)](https://www.linkedin.com/company/superannotate/)\n\n[!", "start_char_idx": 33675, "end_char_idx": 34510, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "aad45df8-386f-45bc-9f21-4d006865243b": {"__data__": {"id_": "aad45df8-386f-45bc-9f21-4d006865243b", "embedding": null, "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://www.superannotate.com/blog/llm-fine-tuning", "node_type": "4", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "08903eb868e2de20d376fb7d6a08a4425a000f5d57052d9c9ef613e23f53e134", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b9b5d250-70f0-4574-9b39-d7a355bccc0b", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "486ec1fd2048e3379231d46f19ccd98cf245e644cae0d9623e79c75a13f299d9", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e7e26331-ee3d-4f11-981e-e58433ef0bcf", "node_type": "1", "metadata": {}, "hash": "997cbf6d3f0e6d26a4b1a1fa246016dbf8fefb65d1e6dee650f808a24ea6808e", "class_name": "RelatedNodeInfo"}}, "text": "[superannotate logo](https://assets-global.website-\nfiles.com/612770618d97595db63a9470/6127731d30dc5270fa629b99_logoDark.svg)](/)\n\nCopyright \u00c2\u00a9 2024 SuperAnnotate AI, Inc. All rights reserved.\n\n![](https://px.ads.linkedin.com/collect/?pid=2683617&fmt=gif)", "start_char_idx": 34510, "end_char_idx": 34765, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e7e26331-ee3d-4f11-981e-e58433ef0bcf": {"__data__": {"id_": "e7e26331-ee3d-4f11-981e-e58433ef0bcf", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "aad45df8-386f-45bc-9f21-4d006865243b", "node_type": "1", "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}, "hash": "70002e4d59aa1eb7035672a55ac0963cbdbbebc75b4a52cc4c13d20280f89a8d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b32a6f0c-4fbd-48a7-9cbb-e799f68b1460", "node_type": "1", "metadata": {}, "hash": "fda51a2be82f0539ff703a7ad2446d95165293b60f26d2ea514eaa3333ef1062", "class_name": "RelatedNodeInfo"}}, "text": "[![Hugging Face's logo](/front/assets/huggingface_logo-noborder.svg) Hugging\nFace](/)\n\n  * [ Models](/models)\n  * [ Datasets](/datasets)\n  * [ Spaces](/spaces)\n  * [ Posts](/posts)\n  * [ Docs](/docs)\n  * Solutions \n\n  * [Pricing ](/pricing)\n  *   * * * *\n\n  * [Log In ](/login)\n  * [Sign Up ](/join)\n\nAutoTrain documentation\n\nLLM Finetuning\n\n# AutoTrain\n\n\ud83c\udfe1 View all docsAWS Trainium & InferentiaAccelerateAmazon\nSageMakerAutoTrainBitsandbytesCompetitionsDataset\nviewerDatasetsDiffusersEvaluateGoogle TPUsGradioHubHub Python\nLibraryHuggingface.jsInference API (serverless)Inference Endpoints\n(dedicated)OptimumPEFTSafetensorsSentence TransformersTRLTasksText Embeddings\nInferenceText Generation InferenceTokenizersTransformersTransformers.jstimm\n\nSearch documentation\n\nmainv0.7.69v0.6.48v0.5.2 EN\n\n[ ](https://github.", "start_char_idx": 0, "end_char_idx": 816, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b32a6f0c-4fbd-48a7-9cbb-e799f68b1460": {"__data__": {"id_": "b32a6f0c-4fbd-48a7-9cbb-e799f68b1460", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e7e26331-ee3d-4f11-981e-e58433ef0bcf", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "72065276b86d469b964a4edf3ee5f1dcc4f2632adf7904e42d477cde3d8145d7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b8ecf96c-98e4-4ea4-bf20-5f4edc07b9b5", "node_type": "1", "metadata": {}, "hash": "f40e9a0b364177a5cc060913df83caf07650aea208c8c42fee5a2cddde8e7c52", "class_name": "RelatedNodeInfo"}}, "text": "7.69v0.6.48v0.5.2 EN\n\n[ ](https://github.com/huggingface/autotrain-advanced)\n\nGetting Started\n\n[\ud83e\udd17 AutoTrain ](/docs/autotrain/en/index)[Installation\n](/docs/autotrain/en/getting_started)[How much does it cost?\n](/docs/autotrain/en/cost)[Get help and support ](/docs/autotrain/en/support)\n\nStarting AutoTrain\n\n[Starting the UI ](/docs/autotrain/en/starting_ui)[Starting the CLI\n](/docs/autotrain/en/starting_cli)\n\nTasks\n\n[Text Classification ](/docs/autotrain/en/text_classification)[LLM Finetuning\n](/docs/autotrain/en/llm_finetuning)[Image Classification\n](/docs/autotrain/en/image_classification)[DreamBooth\n](/docs/autotrain/en/dreambooth)[Seq2Seq ](/docs/autotrain/en/seq2seq)[Token\nClassification ](/docs/autotrain/en/token_classification)[Tabular\n](/docs/autotrain/en/tabular)\n\nYou are viewing main version, which requires installation from source.", "start_char_idx": 775, "end_char_idx": 1629, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b8ecf96c-98e4-4ea4-bf20-5f4edc07b9b5": {"__data__": {"id_": "b8ecf96c-98e4-4ea4-bf20-5f4edc07b9b5", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b32a6f0c-4fbd-48a7-9cbb-e799f68b1460", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "01b90b8ac33aef3759c2be5a978224d20a0dc4fa7e1db4618751d80e62edb5d0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9ad5b11f-018f-4e2c-b3f4-c6b79900a172", "node_type": "1", "metadata": {}, "hash": "49cc3416c1bf510c5e5f90fbfc4958251686b16385c376bb7586c0d3ca6cc376", "class_name": "RelatedNodeInfo"}}, "text": "If\nyou'd like regular pip install, checkout the latest stable version\n([v0.7.69](/docs/autotrain/v0.7.69/llm_finetuning)).\n\n![Hugging Face's logo](/front/assets/huggingface_logo-noborder.svg)\n\nJoin the Hugging Face community\n\nand get access to the augmented documentation experience\n\nCollaborate on models, datasets and Spaces\n\nFaster examples with accelerated inference\n\nSwitch between documentation themes\n\n[Sign Up](/join)\n\nto get started\n\n#  LLM Finetuning\n\nWith AutoTrain, you can easily finetune large language models (LLMs) on your\nown data!\n\nAutoTrain supports the following types of LLM finetuning:\n\n  * Causal Language Modeling (CLM)\n  * Masked Language Modeling (MLM) [Coming Soon]\n\n##  Data Preparation\n\nLLM finetuning accepts data in CSV format.\n\n###  Data Format For SFT / Generic Trainer\n\nFor SFT / Generic Trainer, the data should be in the following format:\n\ntext  \n---  \nhuman: hello \\n bot: hi nice to meet you  \nhuman: how are you \\n bot: I am fine  \nhuman: What is your name? \\n bot: My name is Mary  \nhuman: Which is the best programming language?", "start_char_idx": 1630, "end_char_idx": 2699, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "9ad5b11f-018f-4e2c-b3f4-c6b79900a172": {"__data__": {"id_": "9ad5b11f-018f-4e2c-b3f4-c6b79900a172", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b8ecf96c-98e4-4ea4-bf20-5f4edc07b9b5", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "8b461c068f1c0ef1d1fe87e00e7149afca4a6cb08e124351481fcdddce81acf7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "80a90cc9-6068-4da1-917f-c1a2d1f8f14a", "node_type": "1", "metadata": {}, "hash": "1200a85127701ecd11e4530704cc63d9c91a65fa9c5619bfe87775fc353a1ca5", "class_name": "RelatedNodeInfo"}}, "text": "\\n bot: My name is Mary  \nhuman: Which is the best programming language? \\n bot: Python  \n  \nAn example dataset for this format can be found here:\n<https://huggingface.co/datasets/timdettmers/openassistant-guanaco>\n\nFor SFT/Generic training, your dataset must have a `text` column\n\n###  Data Format For Reward Trainer\n\nFor Reward Trainer, the data should be in the following format:\n\ntext | rejected_text  \n---|---  \nhuman: hello \\n bot: hi nice to meet you | human: hello \\n bot: leave me alone  \nhuman: how are you \\n bot: I am fine | human: how are you \\n bot: I am not\nfine  \nhuman: What is your name? \\n bot: My name is Mary | human: What is your name?\n\\n bot: Whats it to you?  \nhuman: Which is the best programming language? \\n bot: Python | human: Which\nis the best programming language? \\n bot: Javascript  \n  \nFor Reward Trainer, your dataset must have a `text` column (aka chosen text)\nand a `rejected_text` column.", "start_char_idx": 2627, "end_char_idx": 3553, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "80a90cc9-6068-4da1-917f-c1a2d1f8f14a": {"__data__": {"id_": "80a90cc9-6068-4da1-917f-c1a2d1f8f14a", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9ad5b11f-018f-4e2c-b3f4-c6b79900a172", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "f2e474e22b2233b5eb7aedfbe2ff937d8a85cdd37c68f621024ed3eaaf76fc76", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "27fa6aa2-d174-4b85-9a8f-2f2575a1297c", "node_type": "1", "metadata": {}, "hash": "b2341e52c3512c78554e378d87b5f4654ef2472f50d620727607deb2dbadea5c", "class_name": "RelatedNodeInfo"}}, "text": "###  Data Format For DPO Trainer\n\nFor DPO Trainer, the data should be in the following format:\n\nprompt | text | rejected_text  \n---|---|---  \nhello | hi nice to meet you | leave me alone  \nhow are you | I am fine | I am not fine  \nWhat is your name? | My name is Mary | Whats it to you?  \nWhat is your name? | My name is Mary | I dont have a name  \nWhich is the best programming language? | Python | Javascript  \nWhich is the best programming language? | Python | C++  \nWhich is the best programming language? | Java | C++  \n  \nFor DPO Trainer, your dataset must have a `prompt` column, a `text` column\n(aka chosen text) and a `rejected_text` column.\n\nFor all tasks, you can use both CSV and JSONL files!\n\n##  Parameters\n\nCopied\n\n    \n    \n    \u276f autotrain llm --help\n    usage: autotrain <command> [<args>] llm [-h] [--train] [--deploy] [--inference] [--username USERNAME]\n                                            [--backend {local-cli,spaces-a10gl,spaces-a10gs,spaces-a100,spaces-t4m,spaces-t4s,spaces-cpu,", "start_char_idx": 3555, "end_char_idx": 4565, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "27fa6aa2-d174-4b85-9a8f-2f2575a1297c": {"__data__": {"id_": "27fa6aa2-d174-4b85-9a8f-2f2575a1297c", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "80a90cc9-6068-4da1-917f-c1a2d1f8f14a", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "f390c0dc9d6392be427469988223e6e8a73996712352443c4becbdf7299a8748", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "91ff4883-8be7-4692-8121-58705459795b", "node_type": "1", "metadata": {}, "hash": "0904dabeb04cbaff56204887b59161a9c31b3f1273688a1aa52efe96a5cddca1", "class_name": "RelatedNodeInfo"}}, "text": "spaces-a10gl,spaces-a10gs,spaces-a100,spaces-t4m,spaces-t4s,spaces-cpu,spaces-cpuf}]\n                                            [--token TOKEN] [--push-to-hub] --model MODEL --project-name PROJECT_NAME [--data-path DATA_PATH]\n                                            [--train-split TRAIN_SPLIT] [--valid-split VALID_SPLIT] [--batch-size BATCH_SIZE] [--seed SEED]\n                                            [--epochs EPOCHS] [--gradient_accumulation GRADIENT_ACCUMULATION] [--disable_gradient_checkpointing]\n                                            [--lr LR] [--log {none,wandb,tensorboard}] [--text_column TEXT_COLUMN]\n                                            [--rejected_text_column REJECTED_TEXT_COLUMN] [--prompt-text-column PROMPT_TEXT_COLUMN]\n                                            [--model-ref MODEL_REF] [--warmup_ratio WARMUP_RATIO] [--optimizer OPTIMIZER] [--scheduler SCHEDULER]\n                                            [--weight_decay WEIGHT_DECAY] [--max_grad_norm MAX_GRAD_NORM] [--add_eos_token] [--block_size BLOCK_SIZE]\n                                            [--peft] [--lora_r LORA_R] [--lora_alpha LORA_ALPHA] [--lora_dropout LORA_DROPOUT]\n                                            [--logging_steps LOGGING_STEPS] [--evaluation_strategy {epoch,steps,no}]\n                                            [--save_total_limit SAVE_TOTAL_LIMIT] [--auto_find_batch_size]\n                                            [--mixed_precision {fp16,", "start_char_idx": 4494, "end_char_idx": 5969, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "91ff4883-8be7-4692-8121-58705459795b": {"__data__": {"id_": "91ff4883-8be7-4692-8121-58705459795b", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "27fa6aa2-d174-4b85-9a8f-2f2575a1297c", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "73df2929fb8d41cb222872fbc6563a7c6e5303f3bdc9aaf33796a343f6c43af4", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "182e86ff-d1bf-48f4-bd37-106aba905817", "node_type": "1", "metadata": {}, "hash": "1c10ba5a5c199a2217a0f14b6deb4580a1974a7c61900b57c077a01ecfef2406", "class_name": "RelatedNodeInfo"}}, "text": "steps,no}]\n                                            [--save_total_limit SAVE_TOTAL_LIMIT] [--auto_find_batch_size]\n                                            [--mixed_precision {fp16,bf16,None}] [--quantization {int4,int8,None}] [--model_max_length MODEL_MAX_LENGTH]\n                                            [--max_prompt_length MAX_PROMPT_LENGTH] [--max_completion_length MAX_COMPLETION_LENGTH]\n                                            [--trainer {default,dpo,sft,orpo,reward}] [--target_modules TARGET_MODULES] [--merge_adapter]\n                                            [--use_flash_attention_2] [--dpo-beta DPO_BETA] [--chat_template {tokenizer,chatml,zephyr,None}]\n                                            [--padding {left,right,None}]\n    \n    \u2728 Run AutoTrain LLM\n    \n    options:\n      -h, --help            show this help message and exit\n      --train               Command to train the model\n      --deploy              Command to deploy the model (limited availability)\n      --inference           Command to run inference (limited availability)\n      --username USERNAME   Hugging Face Hub Username\n      --backend {local-cli,spaces-a10gl,spaces-a10gs,spaces-a100,spaces-t4m,spaces-t4s,spaces-cpu,spaces-cpuf}\n                            Backend to use: default or spaces. Spaces backend requires push_to_hub & username.", "start_char_idx": 5782, "end_char_idx": 7130, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "182e86ff-d1bf-48f4-bd37-106aba905817": {"__data__": {"id_": "182e86ff-d1bf-48f4-bd37-106aba905817", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "91ff4883-8be7-4692-8121-58705459795b", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "aafcf2f552f18b7ee176724356e2048aa09bff24f3b2d224a6803a78b3523765", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e372e557-cda7-4ef2-b7d6-d7b70f1b6895", "node_type": "1", "metadata": {}, "hash": "13b9fde9f89ffd7e6a283dab5ee5477d863e0929fea2c9130a7c544e0c2cc2dd", "class_name": "RelatedNodeInfo"}}, "text": "spaces-cpu,spaces-cpuf}\n                            Backend to use: default or spaces. Spaces backend requires push_to_hub & username. Advanced users only.\n      --token TOKEN         Your Hugging Face API token. Token must have write access to the model hub.\n      --push-to-hub         Push to hub after training will push the trained model to the Hugging Face model hub.\n      --model MODEL         Base model to use for training\n      --project-name PROJECT_NAME\n                            Output directory / repo id for trained model (must be unique on hub)\n      --data-path DATA_PATH\n                            Train dataset to use.", "start_char_idx": 6996, "end_char_idx": 7637, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e372e557-cda7-4ef2-b7d6-d7b70f1b6895": {"__data__": {"id_": "e372e557-cda7-4ef2-b7d6-d7b70f1b6895", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "182e86ff-d1bf-48f4-bd37-106aba905817", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "157352161bc14e4b35f32cc37ed709d31ea4e758451e4a4314bb9ee91cadb22d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1fcc536f-4ad0-4f7b-89aa-3030a358bcbb", "node_type": "1", "metadata": {}, "hash": "ea9166117cc0297e5710934f3c4b18612f274a4ec1a949c366a26063bd123157", "class_name": "RelatedNodeInfo"}}, "text": "When using cli, this should be a directory path containing training and validation data in appropriate\n                            formats\n      --train-split TRAIN_SPLIT\n                            Train dataset split to use\n      --valid-split VALID_SPLIT\n                            Validation dataset split to use\n      --batch-size BATCH_SIZE, --train-batch-size BATCH_SIZE\n                            Training batch size to use\n      --seed SEED           Random seed for reproducibility\n      --epochs EPOCHS       Number of training epochs\n      --gradient_accumulation GRADIENT_ACCUMULATION, --gradient-accumulation GRADIENT_ACCUMULATION\n                            Gradient accumulation steps\n      --disable_gradient_checkpointing, --disable-gradient-checkpointing, --disable-gc\n                            Disable gradient checkpointing\n      --lr LR               Learning rate\n      --log {none,wandb,tensorboard}\n                            Use experiment tracking\n      --text_column TEXT_COLUMN, --text-column TEXT_COLUMN\n                            Specify the dataset column to use for text data. This parameter is essential for models processing textual information.\n                            Default is 'text'.\n      --rejected_text_column REJECTED_TEXT_COLUMN, --rejected-text-column REJECTED_TEXT_COLUMN\n                            Define the column to use for storing rejected text entries, which are typically entries that do not meet certain criteria\n                            for processing. Default is 'rejected'.", "start_char_idx": 7638, "end_char_idx": 9183, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1fcc536f-4ad0-4f7b-89aa-3030a358bcbb": {"__data__": {"id_": "1fcc536f-4ad0-4f7b-89aa-3030a358bcbb", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e372e557-cda7-4ef2-b7d6-d7b70f1b6895", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "35984df7446c763edc734d406bf467e819fbfc405ce3fbcb1a33da464b9fef24", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b7d82b5a-2e26-4c66-aee7-ee4e657103f0", "node_type": "1", "metadata": {}, "hash": "00483267d4e052e913332f87e41cb2c4ee2253795ee5a4232a64fe553bc7d08c", "class_name": "RelatedNodeInfo"}}, "text": "Default is 'rejected'. Used only for orpo, dpo and reward trainerss\n      --prompt-text-column PROMPT_TEXT_COLUMN, --prompt-text-column PROMPT_TEXT_COLUMN\n                            Identify the column that contains prompt text for tasks requiring contextual inputs, such as conversation or completion\n                            generation. Default is 'prompt'. Used only for dpo trainer\n      --model-ref MODEL_REF\n                            Reference model to use for DPO when not using PEFT\n      --warmup_ratio WARMUP_RATIO, --warmup-ratio WARMUP_RATIO\n                            Set the proportion of training allocated to warming up the learning rate, which can enhance model stability and performance\n                            at the start of training. Default is 0.1\n      --optimizer OPTIMIZER\n                            Choose the optimizer algorithm for training the model. Different optimizers can affect the training speed and model\n                            performance. 'adamw_torch' is used by default.\n      --scheduler SCHEDULER\n                            Select the learning rate scheduler to adjust the learning rate based on the number of epochs. 'linear' decreases the\n                            learning rate linearly from the initial lr set. Default is 'linear'. Try 'cosine' for a cosine annealing schedule.", "start_char_idx": 9161, "end_char_idx": 10504, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b7d82b5a-2e26-4c66-aee7-ee4e657103f0": {"__data__": {"id_": "b7d82b5a-2e26-4c66-aee7-ee4e657103f0", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1fcc536f-4ad0-4f7b-89aa-3030a358bcbb", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "8599640b72794e971cd40187659ef1c53e6273afa68e51b7e7b3021dedc1e5cb", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8aebf90e-0858-4bf0-8077-765b197d0a37", "node_type": "1", "metadata": {}, "hash": "588adb785800c6980aa6c0438e77397f0c65feedb6cffff165f95e59f33d7512", "class_name": "RelatedNodeInfo"}}, "text": "Default is 'linear'. Try 'cosine' for a cosine annealing schedule.\n      --weight_decay WEIGHT_DECAY, --weight-decay WEIGHT_DECAY\n                            Define the weight decay rate for regularization, which helps prevent overfitting by penalizing larger weights. Default is\n                            0.0\n      --max_grad_norm MAX_GRAD_NORM, --max-grad-norm MAX_GRAD_NORM\n                            Set the maximum norm for gradient clipping, which is critical for preventing gradients from exploding during\n                            backpropagation. Default is 1.0.\n      --add_eos_token, --add-eos-token\n                            Toggle whether to automatically add an End Of Sentence (EOS) token at the end of texts, which can be critical for certain\n                            types of models like language models. Only used for `default` trainer\n      --block_size BLOCK_SIZE, --block-size BLOCK_SIZE\n                            Specify the block size for processing sequences. This is maximum sequence length or length of one block of text. Setting to\n                            -1 determines block size automatically. Default is -1.", "start_char_idx": 10438, "end_char_idx": 11591, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "8aebf90e-0858-4bf0-8077-765b197d0a37": {"__data__": {"id_": "8aebf90e-0858-4bf0-8077-765b197d0a37", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b7d82b5a-2e26-4c66-aee7-ee4e657103f0", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "7b16dc88c8ae34f42c12b7f76eb3f5c410bbadc85ec8eaa60dffb80d498ef65e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0edba23d-a0b9-4db5-872e-d762b18c0aca", "node_type": "1", "metadata": {}, "hash": "7054779b2f2951e16da51a50e2301371aeddbc71061ce0a6b5ea54777968fd33", "class_name": "RelatedNodeInfo"}}, "text": "Setting to\n                            -1 determines block size automatically. Default is -1.\n      --peft, --use-peft    Enable LoRA-PEFT\n      --lora_r LORA_R, --lora-r LORA_R\n                            Set the 'r' parameter for Low-Rank Adaptation (LoRA). Default is 16.\n      --lora_alpha LORA_ALPHA, --lora-alpha LORA_ALPHA\n                            Specify the 'alpha' parameter for LoRA. Default is 32.\n      --lora_dropout LORA_DROPOUT, --lora-dropout LORA_DROPOUT\n                            Set the dropout rate within the LoRA layers to help prevent overfitting during adaptation. Default is 0.05.\n      --logging_steps LOGGING_STEPS, --logging-steps LOGGING_STEPS\n                            Determine how often to log training progress in terms of steps. Setting it to '-1' determines logging steps automatically.", "start_char_idx": 11498, "end_char_idx": 12327, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "0edba23d-a0b9-4db5-872e-d762b18c0aca": {"__data__": {"id_": "0edba23d-a0b9-4db5-872e-d762b18c0aca", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8aebf90e-0858-4bf0-8077-765b197d0a37", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "435811b75a1c8e5bfce15fd612d68f9e206083bbb1236cdbebd5f0147931880e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6c40c42f-4287-4d1a-acc1-70f9807d65d8", "node_type": "1", "metadata": {}, "hash": "f69296475fcc936a7f1e3e642cd0ad0d08ba1603b756a7bdc0733a92a7458bf8", "class_name": "RelatedNodeInfo"}}, "text": "Setting it to '-1' determines logging steps automatically.\n      --evaluation_strategy {epoch,steps,no}, --evaluation-strategy {epoch,steps,no}\n                            Choose how frequently to evaluate the model's performance, with 'epoch' as the default, meaning at the end of each training\n                            epoch\n      --save_total_limit SAVE_TOTAL_LIMIT, --save-total-limit SAVE_TOTAL_LIMIT\n                            Limit the total number of saved model checkpoints to manage disk usage effectively. Default is to save only the latest\n                            checkpoint\n      --auto_find_batch_size, --auto-find-batch-size\n                            Automatically determine the optimal batch size based on system capabilities to maximize efficiency.\n      --mixed_precision {fp16,bf16,None}, --mixed-precision {fp16,bf16,None}\n                            Choose the precision mode for training to optimize performance and memory usage. Options are 'fp16', 'bf16', or None for\n                            default precision. Default is None.\n      --quantization {int4,int8,None}, --quantization {int4,int8,None}\n                            Choose the quantization level to reduce model size and potentially increase inference speed. Options include 'int4', 'int8',\n                            or None.", "start_char_idx": 12269, "end_char_idx": 13595, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6c40c42f-4287-4d1a-acc1-70f9807d65d8": {"__data__": {"id_": "6c40c42f-4287-4d1a-acc1-70f9807d65d8", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0edba23d-a0b9-4db5-872e-d762b18c0aca", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "49d335795431640bfcd721f67afcba08d606c9e4d37cc74d295569410c0c8129", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1e8eaf89-4bb4-4dba-8ae6-5e83c3297293", "node_type": "1", "metadata": {}, "hash": "3b31afdc405041ae68717593b30fcec9bced5ec23a0bab4dd59f5b6aeffbb83e", "class_name": "RelatedNodeInfo"}}, "text": "Options include 'int4', 'int8',\n                            or None. Enabling requires --peft\n      --model_max_length MODEL_MAX_LENGTH, --model-max-length MODEL_MAX_LENGTH\n                            Set the maximum length for the model to process in a single batch, which can affect both performance and memory usage.\n                            Default is 1024\n      --max_prompt_length MAX_PROMPT_LENGTH, --max-prompt-length MAX_PROMPT_LENGTH\n                            Specify the maximum length for prompts used in training, particularly relevant for tasks requiring initial contextual input.\n                            Used only for `orpo` trainer.\n      --max_completion_length MAX_COMPLETION_LENGTH, --max-completion-length MAX_COMPLETION_LENGTH\n                            Completion length to use, for orpo: encoder-decoder models only\n      --trainer {default,dpo,sft,orpo,reward}\n                            Trainer type to use\n      --target_modules TARGET_MODULES, --target-modules TARGET_MODULES\n                            Identify specific modules within the model architecture to target with adaptations or optimizations, such as LoRA. Comma\n                            separated list of module names. Default is 'all-linear'.", "start_char_idx": 13527, "end_char_idx": 14774, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1e8eaf89-4bb4-4dba-8ae6-5e83c3297293": {"__data__": {"id_": "1e8eaf89-4bb4-4dba-8ae6-5e83c3297293", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6c40c42f-4287-4d1a-acc1-70f9807d65d8", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "b931549818a5350fcea7530536da8487f49d0b7b5b748774ed31f003b178b16e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c794e1fe-e3b2-4ff1-8db4-eb2c0a9b6815", "node_type": "1", "metadata": {}, "hash": "c270f253735f8e1c28c372f32c6f051faa6597f33f68418e0ac09b6c8d8ea839", "class_name": "RelatedNodeInfo"}}, "text": "Comma\n                            separated list of module names. Default is 'all-linear'.\n      --merge_adapter, --merge-adapter\n                            Use this flag to merge PEFT adapter with the model\n      --use_flash_attention_2, --use-flash-attention-2, --use-fa2\n                            Use flash attention 2\n      --dpo-beta DPO_BETA, --dpo-beta DPO_BETA\n                            Beta for DPO trainer\n      --chat_template {tokenizer,chatml,zephyr,None}, --chat-template {tokenizer,chatml,zephyr,None}\n                            Apply a specific template for chat-based interactions, with options including 'tokenizer', 'chatml', 'zephyr', or None. This\n                            setting can shape the model's conversational behavior.\n      --padding {left,right,None}, --padding {left,right,None}\n                            Specify the padding direction for sequences, critical for models sensitive to input alignment.", "start_char_idx": 14684, "end_char_idx": 15627, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "c794e1fe-e3b2-4ff1-8db4-eb2c0a9b6815": {"__data__": {"id_": "c794e1fe-e3b2-4ff1-8db4-eb2c0a9b6815", "embedding": null, "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning", "node_type": "4", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "28b434e5790f667b01c65373aa0ef001751b67bfa1594ebf4c478fa22e0152f5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1e8eaf89-4bb4-4dba-8ae6-5e83c3297293", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "fd6528dc821d820f4752064a4f0450ea844a62dc08286814af33222b7c97dffb", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a48e56be-96fc-4e38-8113-616714d346c1", "node_type": "1", "metadata": {}, "hash": "4c2c3bf84cdd8ab476bb043a3d53a1464e6cd955894cf94cfeb464a30c22d74f", "class_name": "RelatedNodeInfo"}}, "text": "Options include 'left',\n                            'right', or None\n\n[< > Update on GitHub](https://github.com/huggingface/autotrain-\nadvanced/blob/main/docs/source/llm_finetuning.mdx)\n\n[\u2190Text Classification](/docs/autotrain/en/text_classification) [Image\nClassification\u2192](/docs/autotrain/en/image_classification)\n\nLLM Finetuning Data Preparation Data Format For SFT / Generic Trainer Data\nFormat For Reward Trainer Data Format For DPO Trainer Parameters", "start_char_idx": 15628, "end_char_idx": 16083, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "a48e56be-96fc-4e38-8113-616714d346c1": {"__data__": {"id_": "a48e56be-96fc-4e38-8113-616714d346c1", "embedding": null, "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4831ac00-9f74-4a2e-85dc-fee6cc65c461", "node_type": "4", "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "45175820ed54f636dde5bd2d21ad59ecfdb847577056abbbfb9141da21a4ff4b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c794e1fe-e3b2-4ff1-8db4-eb2c0a9b6815", "node_type": "1", "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}, "hash": "3b22e629daa37968c55fb8a28ada8c1ac5cc597874dd6e942af73691f8497ee0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "17de102c-2005-4ece-83c6-ce18e2da7f25", "node_type": "1", "metadata": {}, "hash": "9828ebc2f7b3e358869b99f41c46fe162b2c3e689a05ec16667b733ab24a7c4b", "class_name": "RelatedNodeInfo"}}, "text": "The Power of Scale for Parameter-Ef\ufb01cient Prompt Tuning\nBrian Lester\u2217Rami Al-Rfou Noah Constant\nGoogle Research\n{brianlester,rmyeid,nconstant}@google.com\nAbstract\nIn this work, we explore \u201cprompt tuning,\u201d\na simple yet effective mechanism for learn-\ning \u201csoft prompts\u201d to condition frozen lan-\nguage models to perform speci\ufb01c downstream\ntasks. Unlike the discrete text prompts used by\nGPT-3, soft prompts are learned through back-\npropagation and can be tuned to incorporate\nsignals from any number of labeled examples.\nOur end-to-end learned approach outperforms\nGPT-3\u2019s few-shot learning by a large margin.\nMore remarkably, through ablations on model\nsize using T5, we show that prompt tuning be-\ncomes more competitive with scale: as mod-\nels exceed billions of parameters, our method\n\u201ccloses the gap\u201d and matches the strong per-\nformance of model tuning (where all model\nweights are tuned). This \ufb01nding is especially\nrelevant because large models are costly to\nshare and serve and the ability to reuse one\nfrozen model for multiple downstream tasks\ncan ease this burden.", "start_char_idx": 0, "end_char_idx": 1073, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "17de102c-2005-4ece-83c6-ce18e2da7f25": {"__data__": {"id_": "17de102c-2005-4ece-83c6-ce18e2da7f25", "embedding": null, "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4831ac00-9f74-4a2e-85dc-fee6cc65c461", "node_type": "4", "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "45175820ed54f636dde5bd2d21ad59ecfdb847577056abbbfb9141da21a4ff4b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a48e56be-96fc-4e38-8113-616714d346c1", "node_type": "1", "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "382972336e2d930ee46f7065ed639a13a5109c03998efa0e3d6275777d482821", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9e763c94-a0a7-4996-b411-43d4e4327aea", "node_type": "1", "metadata": {}, "hash": "72c8075b6cbfb67e2396a71fabb3ea157190b822109b87d46b793e9a98a49e21", "class_name": "RelatedNodeInfo"}}, "text": "Our method can be seen\nas a simpli\ufb01cation of the recently proposed\n\u201cpre\ufb01x tuning\u201d of Li and Liang (2021) and we\nprovide a comparison to this and other similar\napproaches. Finally, we show that condition-\ning a frozen model with soft prompts confers\nbene\ufb01ts in robustness to domain transfer and\nenables ef\ufb01cient \u201cprompt ensembling.\u201d\n1 Introduction\nWith the wide success of pre-trained large lan-\nguage models, a range of techniques has arisen to\nadapt these general-purpose models to downstream\ntasks. ELMo (Peters et al., 2018) proposed freezing\nthe pre-trained model and learning a task-speci\ufb01c\nweighting of its per-layer representations. How-\never, since GPT (Radford et al., 2018) and BERT\n(Devlin et al., 2019), the dominant adaptation tech-\nnique has been model tuning (or \u201c\ufb01ne-tuning\u201d),\nwhere all model parameters are tuned during adap-\ntation, as proposed by Howard and Ruder (2018).\n\u2217Work done as a Google AI Resident.", "start_char_idx": 1074, "end_char_idx": 2000, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "9e763c94-a0a7-4996-b411-43d4e4327aea": {"__data__": {"id_": "9e763c94-a0a7-4996-b411-43d4e4327aea", "embedding": null, "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4831ac00-9f74-4a2e-85dc-fee6cc65c461", "node_type": "4", "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "45175820ed54f636dde5bd2d21ad59ecfdb847577056abbbfb9141da21a4ff4b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "17de102c-2005-4ece-83c6-ce18e2da7f25", "node_type": "1", "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "19e851d1cb4aef606f7f3f261ae79d320dbb4c8ab0c6b8fd35ed8aef098ed529", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "59b92eed-c969-412a-a59c-ac6cb42e39e9", "node_type": "1", "metadata": {}, "hash": "887ff79ad1c2a304951619312ebee9aa6f3cc93ab81492db1bdb25ed3606a8ce", "class_name": "RelatedNodeInfo"}}, "text": "\u2217Work done as a Google AI Resident.\n10810910101011\nModel Parameters5060708090100SuperGLUE Score\nModel Tuning\nModel Tuning (Multi-task)Prompt Design\nPrompt TuningFigure 1: Standard model tuning of T5 achieves strong\nperformance, but requires storing separate copies of the\nmodel for each end task. Our prompt tuning of T5\nmatches the quality of model tuning as size increases,\nwhile enabling the reuse of a single frozen model for\nall tasks. Our approach signi\ufb01cantly outperforms few-\nshot prompt design using GPT-3. We show mean and\nstandard deviation across 3runs for tuning methods.\nMore recently, Brown et al. (2020) showed that\nprompt design (or \u201cpriming\u201d) is surprisingly effec-\ntive at modulating a frozen GPT-3 model\u2019s behavior\nthrough text prompts. Prompts are typically com-\nposed of a task description and/or several canonical\nexamples. This return to \u201cfreezing\u201d pre-trained\nmodels is appealing, especially as model size con-\ntinues to increase.", "start_char_idx": 1965, "end_char_idx": 2920, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "59b92eed-c969-412a-a59c-ac6cb42e39e9": {"__data__": {"id_": "59b92eed-c969-412a-a59c-ac6cb42e39e9", "embedding": null, "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4831ac00-9f74-4a2e-85dc-fee6cc65c461", "node_type": "4", "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "45175820ed54f636dde5bd2d21ad59ecfdb847577056abbbfb9141da21a4ff4b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9e763c94-a0a7-4996-b411-43d4e4327aea", "node_type": "1", "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e4f50242a27a04a0e0066baa555f421415807aa8a68bacc90312727c3c6ff804", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b4dca2e9-85cb-4188-a693-29d0d8ef13cb", "node_type": "1", "metadata": {}, "hash": "e71588639ea68a64b179fd9718d43d7f9fe3cc1d42e55c952dab4c65aad4aa09", "class_name": "RelatedNodeInfo"}}, "text": "This return to \u201cfreezing\u201d pre-trained\nmodels is appealing, especially as model size con-\ntinues to increase. Rather than requiring a separate\ncopy of the model for each downstream task, a\nsingle generalist model can simultaneously serve\nmany different tasks.\nUnfortunately, prompt-based adaptation has sev-\neral key drawbacks. Task description is error-prone\nand requires human involvement, and the effective-\nness of a prompt is limited by how much condition-\ning text can \ufb01t into the model\u2019s input. As a result,\ndownstream task quality still lags far behind that\nof tuned models. For instance, GPT-3 175B few-\nshot performance on SuperGLUE is 17.5points be-arXiv:2104.08691v2  [cs.CL]  2 Sep 2021", "start_char_idx": 2812, "end_char_idx": 3510, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b4dca2e9-85cb-4188-a693-29d0d8ef13cb": {"__data__": {"id_": "b4dca2e9-85cb-4188-a693-29d0d8ef13cb", "embedding": null, "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0", "node_type": "4", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d70974e38b21b88e7e009ef43596ca7e74c72543f0cbed59d39569282260caba", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "59b92eed-c969-412a-a59c-ac6cb42e39e9", "node_type": "1", "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "1b5f8b759ecdbd9380cc36ff5cb42d3991c40e61c27b1210670ca92107113410", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f00a11c2-b66b-4e82-b821-eb408ca7dbfb", "node_type": "1", "metadata": {}, "hash": "0717ab21431a371d17110d5afba1664e533f2070f3022cb0c9977c440931da8c", "class_name": "RelatedNodeInfo"}}, "text": "Pre-trained \nModel \n(11B params) \nTask A Model \n(11B params) \nTask B Model \n(11B params) \nTask C Model \n(11B params) a1\na2\nb1\nc1\nc2Task A \nBatch \nTask B \nBatch \nTask C \nBatch Pre-trained \nModel \n(11B params) Model Tuning Prompt Tuning \nA\nB\nCMixed-task \nBatch \n(20K params each) a1\nc1\nb1\na2\nc2A\nC\nB\nA\nC\nTask Prompts Figure 2: Model tuning requires making a task-\nspeci\ufb01c copy of the entire pre-trained model for each\ndownstream task and inference must be performed in\nseparate batches. Prompt tuning only requires stor-\ning a small task-speci\ufb01c prompt for each task, and\nenables mixed-task inference using the original pre-\ntrained model. With a T5 \u201cXXL\u201d model, each copy\nof the tuned model requires 11billion parameters.", "start_char_idx": 0, "end_char_idx": 720, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "f00a11c2-b66b-4e82-b821-eb408ca7dbfb": {"__data__": {"id_": "f00a11c2-b66b-4e82-b821-eb408ca7dbfb", "embedding": null, "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0", "node_type": "4", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d70974e38b21b88e7e009ef43596ca7e74c72543f0cbed59d39569282260caba", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b4dca2e9-85cb-4188-a693-29d0d8ef13cb", "node_type": "1", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "9cd26d61cb067e12a7b5d0ace9c01916252f31185f5d4b5fab65653d6094df94", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6aca11f8-0048-488c-aba0-70d5d88806cc", "node_type": "1", "metadata": {}, "hash": "3c197f846c7d65bc724310fef68fe1281c3cc3b1d978faa50b40e8690bf6271e", "class_name": "RelatedNodeInfo"}}, "text": "With a T5 \u201cXXL\u201d model, each copy\nof the tuned model requires 11billion parameters. By\ncontrast, our tuned prompts would only require 20,480\nparameters per task\u2014a reduction of over \ufb01ve orders of\nmagnitude \u2014assuming a prompt length of 5tokens.\nlow \ufb01ne-tuned T5-XXL (Raffel et al., 2020) ( 71.8\nvs.89.3) despite using 16times more parameters.\nSeveral efforts to automate prompt design have\nbeen recently proposed. Shin et al. (2020) propose\na search algorithm over the discrete space of words,\nguided by the downstream application training data.\nWhile this technique outperforms manual prompt\ndesign, there is still a gap relative to model tuning.\nLi and Liang (2021) propose \u201cpre\ufb01x tuning\u201d\nand show strong results on generative tasks. This\nmethod freezes the model parameters and back-\npropagates the error during tuning to pre\ufb01x ac-\ntivations prepended to each layer in the encoder\nstack, including the input layer. Hambardzumyan\net al.", "start_char_idx": 638, "end_char_idx": 1573, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6aca11f8-0048-488c-aba0-70d5d88806cc": {"__data__": {"id_": "6aca11f8-0048-488c-aba0-70d5d88806cc", "embedding": null, "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0", "node_type": "4", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d70974e38b21b88e7e009ef43596ca7e74c72543f0cbed59d39569282260caba", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f00a11c2-b66b-4e82-b821-eb408ca7dbfb", "node_type": "1", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "8957c4799cf67d5b387ce3cd21eff8b668028d9268371a25fc1d1f693f177dec", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e64a1c2b-d511-4677-af2a-ca315b2b373a", "node_type": "1", "metadata": {}, "hash": "d6aa14ae4eba07a8ef6e78db080cd7a13d76c22b3c872871e4e725bb66eca484", "class_name": "RelatedNodeInfo"}}, "text": "Hambardzumyan\net al. (2021) simplify this recipe by restricting the\ntrainable parameters to the input and output sub-\nnetworks of a masked language model, and show\nreasonable results on classi\ufb01cations tasks.\nIn this paper, we propose prompt tuning as a\nfurther simpli\ufb01cation for adapting language models.\nWe freeze the entire pre-trained model and only al-\nlow an additional ktunable tokens per downstream\ntask to be prepended to the input text. This \u201csoft\nprompt\u201d is trained end-to-end and can condense\nthe signal from a full labeled dataset, allowing our\nmethod to outperform few-shot prompts and close\nthe quality gap with model tuning (Figure 1). At\nthe same time, since a single pre-trained model is\nrecycled for all downstream tasks, we retain the ef-\n\ufb01cient serving bene\ufb01ts of frozen models (Figure 2).\nWhile we developed our method concurrentlywith Li and Liang (2021) and Hambardzumyan\net al.", "start_char_idx": 1553, "end_char_idx": 2454, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e64a1c2b-d511-4677-af2a-ca315b2b373a": {"__data__": {"id_": "e64a1c2b-d511-4677-af2a-ca315b2b373a", "embedding": null, "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0", "node_type": "4", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d70974e38b21b88e7e009ef43596ca7e74c72543f0cbed59d39569282260caba", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6aca11f8-0048-488c-aba0-70d5d88806cc", "node_type": "1", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "5556e5c8a05bb2e93535bf3b13f75a766c22cdb105c54b044a8d2673e5bb6f75", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5ae5aab8-dc2a-4c04-aefa-43ac536fc8e3", "node_type": "1", "metadata": {}, "hash": "e478e08696618f8f432fd11fe972eb16d1e45c7919c919471ab2f3ce2ab267ed", "class_name": "RelatedNodeInfo"}}, "text": "While we developed our method concurrentlywith Li and Liang (2021) and Hambardzumyan\net al. (2021), we are the \ufb01rst to show that prompt\ntuning alone (with no intermediate-layer pre\ufb01xes or\ntask-speci\ufb01c output layers) is suf\ufb01cient to be com-\npetitive with model tuning. Through detailed ex-\nperiments in sections 2\u20133, we demonstrate that lan-\nguage model capacity is a key ingredient for these\napproaches to succeed. As Figure 1 shows, prompt\ntuning becomes more competitive with scale.\nWe compare with similar approaches in Sec-\ntion 4. Explicitly separating task-speci\ufb01c param-\neters from the \u201cgeneralist\u201d parameters needed for\ngeneral language-understanding has a range of ad-\nditional bene\ufb01ts. We show in Section 5 that by\ncapturing the task de\ufb01nition in the prompt while\nkeeping the generalist parameters \ufb01xed, we are able\nto achieve better resilience to domain shifts.", "start_char_idx": 2363, "end_char_idx": 3235, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "5ae5aab8-dc2a-4c04-aefa-43ac536fc8e3": {"__data__": {"id_": "5ae5aab8-dc2a-4c04-aefa-43ac536fc8e3", "embedding": null, "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0", "node_type": "4", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d70974e38b21b88e7e009ef43596ca7e74c72543f0cbed59d39569282260caba", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e64a1c2b-d511-4677-af2a-ca315b2b373a", "node_type": "1", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "98ceb992374462177d371b19f84d66acb6abea66c4a73aad93cc8c217a636338", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e7257b55-5968-41bf-b331-9dc183bd1db3", "node_type": "1", "metadata": {}, "hash": "3c69757c832ad8b12fb51464991b8870576f23aa5763974538bcd6f6cf6addb7", "class_name": "RelatedNodeInfo"}}, "text": "In Sec-\ntion 6, we show that \u201cprompt ensembling\u201d, learn-\ning multiple prompts for the same task, can boost\nquality and is more ef\ufb01cient than classic model en-\nsembling. Finally, in Section 7, we investigate the\ninterpretability of our learned soft prompts. In sum,\nour key contributions are:\n1.Proposing prompt tuning and showing its com-\npetitiveness with model tuning in the regime\nof large language models.\n2.Ablating many design choices, and showing\nquality and robustness improve with scale.\n3.Showing prompt tuning outperforms model\ntuning on domain shift problems.\n4.Proposing \u201cprompt ensembling\u201d and showing\nits effectiveness.\n2 Prompt Tuning\nFollowing the \u201ctext-to-text\u201d approach of T5 (Raffel\net al., 2020), we cast all tasks as text generation.\nInstead of modeling classi\ufb01cation as the probabil-\nity of an output class given some input, Pr(y|X),\nwhereXis a series of tokens and yis a single class\nlabel, we now model it as conditional generation,\nwhereYis a sequence of tokens that represent a\nclass label.", "start_char_idx": 3236, "end_char_idx": 4253, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e7257b55-5968-41bf-b331-9dc183bd1db3": {"__data__": {"id_": "e7257b55-5968-41bf-b331-9dc183bd1db3", "embedding": null, "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e2613c84-a2eb-4267-817e-dc8060a1afc0", "node_type": "4", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d70974e38b21b88e7e009ef43596ca7e74c72543f0cbed59d39569282260caba", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5ae5aab8-dc2a-4c04-aefa-43ac536fc8e3", "node_type": "1", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "7ff7efe6670bd2a031fcb2eabdda6a81cb371a1174e3536a8ee2a6ac6632ba06", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5dcd3e35-2f13-4b71-968a-54480511cf13", "node_type": "1", "metadata": {}, "hash": "94abe99ee465624c121464e5ef810251483f01f69e7bdf5b6838fd1ead065f2f", "class_name": "RelatedNodeInfo"}}, "text": "T5 models classi\ufb01cation as Pr\u03b8(Y|X),\nparameterized by the weights, \u03b8, of the transform-\ners (Vaswani et al., 2017) that make up its encoder\nand decoder.\nPrompting is the approach of adding extra in-\nformation for the model to condition on during its\ngeneration of Y. Normally, prompting is done\nby prepending a series of tokens, P, to the in-\nputX, such that the model maximizes the likeli-\nhood of the correct Y,Pr\u03b8(Y|[P;X]), while keep-", "start_char_idx": 4254, "end_char_idx": 4692, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "5dcd3e35-2f13-4b71-968a-54480511cf13": {"__data__": {"id_": "5dcd3e35-2f13-4b71-968a-54480511cf13", "embedding": null, "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1e6ef2fb-23d2-4924-a911-620353761d4a", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "72dc1137e7ddc6f01fc32ae6a147c779116266a42e198625f39dfb0372fdfd82", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e7257b55-5968-41bf-b331-9dc183bd1db3", "node_type": "1", "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "b00313fcd9ca10b2cc9f3444a4e2c80f90c67300d5861821e2c15034e7132aa5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3a3aef8f-bc31-4514-8cf9-b16ee7643cf6", "node_type": "1", "metadata": {}, "hash": "3e81cde22b0c5c3c2044cee22b30f028310b0130b798dc3feaaa1de022461b48", "class_name": "RelatedNodeInfo"}}, "text": "ing the model parameters, \u03b8, \ufb01xed. In GPT-3 ,\nthe representations of the prompt tokens, P=\n{p1,p2,...,pn}, are part of the model\u2019s embed-\nding table, parameterized by the frozen \u03b8. Find-\ning an optimal prompt thus requires the selection\nof prompt tokens, through either manual search\nor non-differentiable search methods (Jiang et al.,\n2020; Shin et al., 2020). Prompt tuning removes\nthe restriction that the prompt Pbe parameterized\nby\u03b8; instead the prompt has its own dedicated pa-\nrameters,\u03b8P, that can be updated. While prompt\ndesign involves selecting prompt tokens from a\n\ufb01xed vocabulary of frozen embeddings, prompt\ntuning can be thought of as using a \ufb01xed prompt\nof special tokens, where only the embeddings of\nthese prompt tokens can be updated. Our new con-\nditional generation is now Pr\u03b8;\u03b8P(Y|[P;X])and\ncan be trained by maximizing the likelihood of Y\nvia backpropagation, while only applying gradient\nupdates to\u03b8P.", "start_char_idx": 0, "end_char_idx": 926, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "3a3aef8f-bc31-4514-8cf9-b16ee7643cf6": {"__data__": {"id_": "3a3aef8f-bc31-4514-8cf9-b16ee7643cf6", "embedding": null, "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1e6ef2fb-23d2-4924-a911-620353761d4a", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "72dc1137e7ddc6f01fc32ae6a147c779116266a42e198625f39dfb0372fdfd82", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5dcd3e35-2f13-4b71-968a-54480511cf13", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "8978c47a3a3607eb4c0f922aa1b99c920405aee7c9ccb7520f72c31ae2314afb", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "df919adf-a8cf-493f-a06c-5abe0105fc37", "node_type": "1", "metadata": {}, "hash": "64d9e732d9971f7e61a0943c1781671e64d15371c6e3e71a9847b82307c98ae5", "class_name": "RelatedNodeInfo"}}, "text": "Given a series of ntokens,{x1,x2,...,xn}, the\n\ufb01rst thing T5 does is embed the tokens, forming\na matrixXe\u2208Rn\u00d7ewhereeis the dimension of\nthe embedding space. Our soft-prompts are repre-\nsented as a parameter Pe\u2208Rp\u00d7e, wherepis the\nlength of the prompt. Our prompt is then concate-\nnated to the embedded input forming a single ma-\ntrix[Pe;Xe]\u2208R(p+n)\u00d7ewhich then \ufb02ows though\nthe encoder-decoder as normal. Our models are\ntrained to maximize the probability of Y, but only\nthe prompt parameters Peare updated.\n2.1 Design Decisions\nThere are many possible ways to initialize the\nprompt representations. The simplest is to train\nfrom scratch, using random initialization. A more\nsophisticated option is to initialize each prompt\ntoken to an embedding drawn from the model\u2019s\nvocabulary. Conceptually, our soft-prompt mod-\nulates the frozen network\u2019s behavior in the same\nway as text preceding the input, so it follows that\na word-like representation might serve as a good\ninitialization spot.", "start_char_idx": 927, "end_char_idx": 1910, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "df919adf-a8cf-493f-a06c-5abe0105fc37": {"__data__": {"id_": "df919adf-a8cf-493f-a06c-5abe0105fc37", "embedding": null, "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1e6ef2fb-23d2-4924-a911-620353761d4a", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "72dc1137e7ddc6f01fc32ae6a147c779116266a42e198625f39dfb0372fdfd82", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3a3aef8f-bc31-4514-8cf9-b16ee7643cf6", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "be3fa62c3d8345a45185169549ff1fd305aceb5456ed4d9db578f0d6b53c0453", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f4f753b4-d7a4-49a0-80ad-36923cdc7c55", "node_type": "1", "metadata": {}, "hash": "00adcf3002b4155e0402f8c2f8e338234c6becce06cd7399e7b7064268918ebd", "class_name": "RelatedNodeInfo"}}, "text": "For classi\ufb01cation tasks, a third\noption is to initialize the prompt with embeddings\nthat enumerate the output classes, similar to the\n\u201cverbalizers\u201d of Schick and Sch\u00fctze (2021). Since\nwe want the model to produce these tokens in the\noutput, initializing the prompt with the embeddings\nof the valid target tokens should prime the model\nto restrict its output to the legal output classes.\nAnother design consideration is the length of theprompt. The parameter cost of our method is EP,\nwhereEis the token embedding dimension and P\nis the prompt length. The shorter the prompt, the\nfewer new parameters must be tuned, so we aim to\n\ufb01nd a minimal length that still performs well.\n2.2 Unlearning Span Corruption\nUnlike autoregressive language models like GPT-3 ,\nthe T5 models we experiment with use an encoder-\ndecoder architecture and pre-train on a span cor-\nruption objective. Speci\ufb01cally, T5 is tasked with\n\u201creconstructing\u201d masked spans in the input text,\nwhich are marked with unique sentinel tokens. The\ntarget output text consists of all the masked con-\ntent, separated by sentinels, plus a \ufb01nal sentinel.", "start_char_idx": 1911, "end_char_idx": 3018, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "f4f753b4-d7a4-49a0-80ad-36923cdc7c55": {"__data__": {"id_": "f4f753b4-d7a4-49a0-80ad-36923cdc7c55", "embedding": null, "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1e6ef2fb-23d2-4924-a911-620353761d4a", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "72dc1137e7ddc6f01fc32ae6a147c779116266a42e198625f39dfb0372fdfd82", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "df919adf-a8cf-493f-a06c-5abe0105fc37", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "8c2188afba4dc4f23dbf6b35b87651b3cec5d742ef00c25de7661e0b7f07201b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ad5f8c08-4b75-452c-973a-36744f9675bd", "node_type": "1", "metadata": {}, "hash": "ea55c66bffee921d7e28c866838fb9e0e3dbe69c23eb4c65c6862ef065b6200e", "class_name": "RelatedNodeInfo"}}, "text": "The\ntarget output text consists of all the masked con-\ntent, separated by sentinels, plus a \ufb01nal sentinel.\nFor instance, from the text \u201cThank you for inviting\nme to your party last week\u201d we might construct\na pre-training example where the input is \u201cThank\nyou\u27e8X\u27e9me to your party\u27e8Y\u27e9week\u201d and the target\noutput is \u201c\u27e8X\u27e9for inviting\u27e8Y\u27e9last\u27e8Z\u27e9\u201d.\nWhile Raffel et al. (2020) \ufb01nd this architecture\nand pre-training objective more effective than tradi-\ntional language modeling, we hypothesize that this\nsetup is not a good \ufb01t for producing a frozen model\nthat can be readily controlled through prompt tun-\ning. In particular, a T5 model pre-trained exclu-\nsively on span corruption, such as T5.1.1, has never\nseen truly natural input text (free of sentinel to-\nkens), nor has it ever been asked to predict truly\nnatural targets. In fact, due to the details of T5\u2019s\nspan corruption preprocessing, every pre-training\ntarget will begin with a sentinel.", "start_char_idx": 2912, "end_char_idx": 3852, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "ad5f8c08-4b75-452c-973a-36744f9675bd": {"__data__": {"id_": "ad5f8c08-4b75-452c-973a-36744f9675bd", "embedding": null, "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1e6ef2fb-23d2-4924-a911-620353761d4a", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "72dc1137e7ddc6f01fc32ae6a147c779116266a42e198625f39dfb0372fdfd82", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f4f753b4-d7a4-49a0-80ad-36923cdc7c55", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "3dd45237805cebbaf878819c792898b3d8275eef31b198747a2659865358bff7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1720f334-5e5f-4f98-b483-38bbdf3c0b4a", "node_type": "1", "metadata": {}, "hash": "7361086aed2869953a76e8b8c26bf0de4d91c2bee5cce9a901c7674cd40604c6", "class_name": "RelatedNodeInfo"}}, "text": "In fact, due to the details of T5\u2019s\nspan corruption preprocessing, every pre-training\ntarget will begin with a sentinel. While this \u201cunnat-\nural\u201d tendency to output sentinels is easy to over-\ncome through \ufb01ne-tuning, we suspect that it would\nbe much harder to override through a prompt alone,\nas the decoder priors cannot be adjusted.\nGiven these concerns, we experiment with T5\nmodels in three settings. (1) \u201cSpan Corruption\u201d:\nWe use pre-trained T5 off-the-shelf as our frozen\nmodel, and test its ability to output the expected\ntext for downstream tasks. (2) \u201cSpan Corruption\n+ Sentinel\u201d: We use the same model, but prepend\nall downstream targets with a sentinel, so as to\nmore closely resemble the targets seen in pre-\ntraining. (3) \u201cLM Adaptation\u201d: We continue T5\u2019s\nself-supervised training for a small number of ad-\nditional steps, but using the \u201cLM\u201d objective dis-\ncussed by Raffel et al. (2020); given a natural text\npre\ufb01x as input, the model must produce the natural\ntext continuation as output.", "start_char_idx": 3732, "end_char_idx": 4734, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1720f334-5e5f-4f98-b483-38bbdf3c0b4a": {"__data__": {"id_": "1720f334-5e5f-4f98-b483-38bbdf3c0b4a", "embedding": null, "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1e6ef2fb-23d2-4924-a911-620353761d4a", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "72dc1137e7ddc6f01fc32ae6a147c779116266a42e198625f39dfb0372fdfd82", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ad5f8c08-4b75-452c-973a-36744f9675bd", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "8ea5394e92917a59f3235b3d192de34c8c5dace7a5f97689d607ad3a0cc6f443", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "be465b80-5bca-42bc-8b6d-ba84e4aa5e5d", "node_type": "1", "metadata": {}, "hash": "6113e8316e8e61126e909aa1f05868a76165d2192940d37fffc752e70ea67a5c", "class_name": "RelatedNodeInfo"}}, "text": "(2020); given a natural text\npre\ufb01x as input, the model must produce the natural\ntext continuation as output. Crucially, this adapta-\ntion happens only once , producing a single frozen", "start_char_idx": 4626, "end_char_idx": 4809, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "be465b80-5bca-42bc-8b6d-ba84e4aa5e5d": {"__data__": {"id_": "be465b80-5bca-42bc-8b6d-ba84e4aa5e5d", "embedding": null, "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "912952e8dcf723d716d4fce59f8fa980aa1e52002151621c8ab589d21bbd5c11", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1720f334-5e5f-4f98-b483-38bbdf3c0b4a", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "ced421745b59f5a15c4be128cd6007c3feabf5ea90e4e7f70cd58b38a12968a3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "34928461-8dd2-47d2-b866-a1a2701e1dbd", "node_type": "1", "metadata": {}, "hash": "a25a196c92a41c57b2188a3623391b160f3dff097fd65c6781b3ce31285251b6", "class_name": "RelatedNodeInfo"}}, "text": "model that we can reuse for prompt tuning across\nany number of downstream tasks.\nThrough LM adaptation, we hope to \u201cquickly\u201d\ntransform T5 into a model more similar to GPT-3 ,\nwhich always outputs realistic text, and is known to\nrespond well to prompts as a \u201cfew-shot learner\u201d. It\nis not obvious how successful this late-stage trans-\nformation will be compared to pre-training from\nscratch, and it has not been investigated previously\nto our knowledge. As such, we experiment with\nvarious lengths of adaptation up to 100K steps.\n3 Results\nOur frozen models are built on top of pre-trained\nT5 checkpoints of all sizes (Small, Base, Large, XL,\nXXL). We leverage the public T5.1.1 checkpoints,\nwhich include improvements over the original T5.1\nOur \u201cdefault\u201d con\ufb01guration, plotted with a green\n\u2018\u00d7\u2019 (\n ) throughout, uses an LM-adapted version\nof T5 trained for an additional 100K steps, ini-\ntializes using class labels (see Section 3.2), and\nuses a prompt length of 100tokens.", "start_char_idx": 0, "end_char_idx": 971, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "34928461-8dd2-47d2-b866-a1a2701e1dbd": {"__data__": {"id_": "34928461-8dd2-47d2-b866-a1a2701e1dbd", "embedding": null, "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "912952e8dcf723d716d4fce59f8fa980aa1e52002151621c8ab589d21bbd5c11", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "be465b80-5bca-42bc-8b6d-ba84e4aa5e5d", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "0828acf51dbad27c895f07e67678d0df7c89fcab7b9079275b8ff3efe2642dc8", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5a6562b9-90e3-423e-b86d-8fe784142fb2", "node_type": "1", "metadata": {}, "hash": "584865005c28bb0745e7ab11030f9e958773798569c61f4cf0277f619820a90e", "class_name": "RelatedNodeInfo"}}, "text": "While this\nis longer than the default 10-token pre\ufb01x used by\nLi and Liang (2021), our method still uses fewer\ntask-speci\ufb01c parameters, as we only tune the input\nlayer, as opposed to overwriting activations in all\nnetwork layers. See Figure 4 for a detailed com-\nparison. We will also see shortly that even much\nshorter prompts are viable as model size increases.\nWe measure performance on the SuperGLUE\nbenchmark (Wang et al., 2019a), a collection of\neight challenging English language understanding\ntasks.2We report metrics on the development set\nassociated with each dataset.\nEach of our prompts train on a single Super-\nGLUE task; there was no multi-task setup or mix-\ning of training data across tasks. We translate each\nSuperGLUE dataset into a text-to-text format fol-\nlowing Raffel et al. (2020), except that we omit the\ntask names prepended to inputs indicating which\nSuperGLUE task an example belongs to.", "start_char_idx": 972, "end_char_idx": 1885, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "5a6562b9-90e3-423e-b86d-8fe784142fb2": {"__data__": {"id_": "5a6562b9-90e3-423e-b86d-8fe784142fb2", "embedding": null, "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "912952e8dcf723d716d4fce59f8fa980aa1e52002151621c8ab589d21bbd5c11", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "34928461-8dd2-47d2-b866-a1a2701e1dbd", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "61bc8cb923e79c65df19d68a250456a5d734d38d842b9e16a61dd705037dcbbd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "614f8c14-69d2-4a96-b23e-4be46fb0c2df", "node_type": "1", "metadata": {}, "hash": "772a2096049ebf732f25e2044ee9b9a475a217d11a4d346e61c4322554e33c6c", "class_name": "RelatedNodeInfo"}}, "text": "(2020), except that we omit the\ntask names prepended to inputs indicating which\nSuperGLUE task an example belongs to.\nWe train our prompts for 30,000steps using T5\u2019s\nstandard cross-entropy loss, with a constant learn-\n1These improvements are (1) the removal of all supervised\ndata from pre-training, (2) adjustments to hyperparameters\ndmodel anddff, and (3) the use of GeGLU (Shazeer, 2020)\nover ReLU (Nair and Hinton, 2010) activations.", "start_char_idx": 1768, "end_char_idx": 2205, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "614f8c14-69d2-4a96-b23e-4be46fb0c2df": {"__data__": {"id_": "614f8c14-69d2-4a96-b23e-4be46fb0c2df", "embedding": null, "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "912952e8dcf723d716d4fce59f8fa980aa1e52002151621c8ab589d21bbd5c11", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5a6562b9-90e3-423e-b86d-8fe784142fb2", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "dc027c621c69f233deec24f6b73a870eae6f14611eab7bb7f1a1c216d35d558c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "53310239-7ff8-46c2-bdbe-aeb4bb342332", "node_type": "1", "metadata": {}, "hash": "b955f1ad9b62467ea7d360b47739c5b7e8c1f07f504593b16024964bfd7a6eb9", "class_name": "RelatedNodeInfo"}}, "text": "2The tasks are BoolQ (Clark et al., 2019), CB (De Marn-\neff et al., 2019), COPA (Roemmele et al., 2011), MultiRC\n(Khashabi et al., 2018), ReCoRD (Zhang et al., 2018), RTE\n(Dagan et al., 2005; Bar-Haim et al., 2006; Giampiccolo et al.,\n2007; Bentivogli et al., 2009), WiC (Pilehvar and Camacho-\nCollados, 2018), and WSC (Levesque et al., 2012).ing rate of 0.3and a batch size of 32. Checkpoints\nare selected via early stopping on the development\nset, where the stopping metric is the default met-\nric for the dataset, or the average of metrics for\ndatasets evaluated with multiple metrics. All ex-\nperiments were run in JAX (Bradbury et al., 2018)\nusing the Adafactor optimizer (Shazeer and Stern,\n2018) with weight decay 1e\u22125,\u03b22decay 0.8, and\nparameter scaling off.", "start_char_idx": 2206, "end_char_idx": 2971, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "53310239-7ff8-46c2-bdbe-aeb4bb342332": {"__data__": {"id_": "53310239-7ff8-46c2-bdbe-aeb4bb342332", "embedding": null, "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "912952e8dcf723d716d4fce59f8fa980aa1e52002151621c8ab589d21bbd5c11", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "614f8c14-69d2-4a96-b23e-4be46fb0c2df", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "9e665ac86fb0ad6f667a50d2891f24d7fcae918dd500a134fbc928593a148913", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "40a630f8-d169-45c2-9509-ab9855c13882", "node_type": "1", "metadata": {}, "hash": "88bf30930f868bda94a21c3089fd21a126e4a05b26a77ad1d669e5b21ff3ca76", "class_name": "RelatedNodeInfo"}}, "text": "The models were imple-\nmented in Flax (Heek et al., 2020). More details\nare available in Appendix A.\n3.1 Closing the Gap\nTo compare our method with standard model tun-\ning, we tune the public T5.1.1 checkpoints on\nSuperGLUE using the default hyperparameters\nspeci\ufb01ed in the T5 library (learning rate 0.001,\nand Adafactor optimizer with pre-training param-\neter states restored). We consider two baselines.\n(1) \u201cModel Tuning\u201d: For an apples-to-apples com-\nparison, we tune on each task separately, as in our\nprompt tuning setup.3(2) \u201cModel Tuning (Multi-\ntask)\u201d: We use T5\u2019s multi-task tuning setup to\nachieve a more competitive baseline.4In this case,\na single model is tuned on all tasks jointly, with a\ntext pre\ufb01x indicating the task name.\nIn Figure 1 (p. 1), we see that prompt tuning\nbecomes more competitive with model tuning as\nscale increases.", "start_char_idx": 2972, "end_char_idx": 3822, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "40a630f8-d169-45c2-9509-ab9855c13882": {"__data__": {"id_": "40a630f8-d169-45c2-9509-ab9855c13882", "embedding": null, "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "912952e8dcf723d716d4fce59f8fa980aa1e52002151621c8ab589d21bbd5c11", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "53310239-7ff8-46c2-bdbe-aeb4bb342332", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "ea18985c17647e9e12b5d8a88b3867378cfac4d8ef238fc8362f701ce0974e5b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3488941d-d6cc-4781-add4-52761ad6c0e5", "node_type": "1", "metadata": {}, "hash": "7d86baf5c7afd5f940c7d1295ecb9ec38fb2982ab23177fab4614919f16cceae", "class_name": "RelatedNodeInfo"}}, "text": "In Figure 1 (p. 1), we see that prompt tuning\nbecomes more competitive with model tuning as\nscale increases. At the XXL size (11 billion param-\neters), prompt tuning matches even the stronger\nmulti-task model tuning baseline, despite having\nover20,000times fewer task-speci\ufb01c parameters.\nTo compare with prompt design, we include\nGPT-3 few-shot performance on the SuperGLUE\ndev split, as reported by Brown et al. (2020).5\nFigure 1 shows that prompt tuning beats GPT-3\nprompt design by a large margin, with prompt-\ntuned T5-Small matching GPT-3 XL (over 16\ntimes larger), and prompt-tuned T5-Large beating\nGPT-3 175B (over 220times larger).\n3To improve this baseline, we performed a sweep over the\nbatch size hyperparameter and selected 216tokens per batch.\n4The T5 SuperGLUE submission used a more complex\nsetup, \ufb01rst mixing multi-task supervised data into pre-training,\nand then performing single-task \ufb01ne-tuning.", "start_char_idx": 3714, "end_char_idx": 4628, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "3488941d-d6cc-4781-add4-52761ad6c0e5": {"__data__": {"id_": "3488941d-d6cc-4781-add4-52761ad6c0e5", "embedding": null, "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "cf67a37f-c5f5-4556-8047-d4985fcbd589", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "912952e8dcf723d716d4fce59f8fa980aa1e52002151621c8ab589d21bbd5c11", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "40a630f8-d169-45c2-9509-ab9855c13882", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "702d8d482688d3a925b9b61b84812dde6c3f18351e3e10882c457d7be827f9d7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a5c86f23-bdf5-4c87-a9cf-6c041d66b5d3", "node_type": "1", "metadata": {}, "hash": "6416c4948c03a8f67eb5e2195863dce02f75da129fdc898a0a443c9faa4b2baa", "class_name": "RelatedNodeInfo"}}, "text": "Since we use\nT5.1.1 throughout, this setup is unavailable, as the pre-training\nphase is fully self-supervised. We follow Raffel et al. (2020)\nin using 220tokens per batch and including DPR data in\nthe multi-task mixture, which is known to boost WSC task\nperformance (Kocijan et al., 2019).\n5We also experimented with using GPT-3\u2019s manual text\nprompts directly with our LM-adapted T5 checkpoints. How-\never performance was far below GPT-3 for comparable model\nsizes. This may be due to differences in pre-training data and\nmodel architecture, as well as T5\u2019s shorter sequence length.", "start_char_idx": 4629, "end_char_idx": 5211, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "a5c86f23-bdf5-4c87-a9cf-6c041d66b5d3": {"__data__": {"id_": "a5c86f23-bdf5-4c87-a9cf-6c041d66b5d3", "embedding": null, "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fc0a84c0-dd7a-4478-bb0b-342045637dd3", "node_type": "4", "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "69eba67d3fcec2cb381aff2d47aea3fcf7dacb148b6e2878bbc4a68b27aaea75", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3488941d-d6cc-4781-add4-52761ad6c0e5", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "f4b1433c66ef23ce89f28921698113a7a84fec77538494862c0f8aaad5bf48cc", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0e68c496-5c11-452e-9732-8cee77221759", "node_type": "1", "metadata": {}, "hash": "7199d7cbf992b9720d52286272296d6499361110c371489d0edab98704f71b69", "class_name": "RelatedNodeInfo"}}, "text": "1081091010\nModel Parameters5060708090100SuperGLUE Score\n1\n5\n20\n100\n150(a) Prompt length\n1081091010\nModel Parameters5060708090100SuperGLUE Score\nRandom Uniform\nSampled Vocab\nClass Label (b) Prompt initialization\n1081091010\nModel Parameters102030405060708090100SuperGLUE Score\nSpan Corruption\nSpan Corruption\n+ Sentinel\nLM Adaptation\n(100K)\n(c) Pre-training method\n1081091010\nModel Parameters102030405060708090100SuperGLUE Score\n0K\n10K\n50K\n100K (d) LM adaptation steps\nFigure 3: Ablations of various hyperparameters on prompt tuning performance (mean and stddev across 3runs). In\nour \u201cdefault\u201d (\n ) con\ufb01guration, quality improves stably with model size. Across all ablations, the largest (XXL)\nmodel is the most robust to hyperparameter choice . (a) Prompt length : Increasing to 20+ tokens generally confers\na large boost, but XXL performs well even with single-token prompts.", "start_char_idx": 0, "end_char_idx": 875, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "0e68c496-5c11-452e-9732-8cee77221759": {"__data__": {"id_": "0e68c496-5c11-452e-9732-8cee77221759", "embedding": null, "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fc0a84c0-dd7a-4478-bb0b-342045637dd3", "node_type": "4", "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "69eba67d3fcec2cb381aff2d47aea3fcf7dacb148b6e2878bbc4a68b27aaea75", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a5c86f23-bdf5-4c87-a9cf-6c041d66b5d3", "node_type": "1", "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "26a364ad4ec1a36a08072c7305f3d9e4efa8c97b548a41225bc685af3de731af", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b11c4bf3-a649-40eb-a878-d60ee514cbe6", "node_type": "1", "metadata": {}, "hash": "3a307184ff83b2992d321762e29c8b913d7e66a9c2c99c6e898fcc0daba76dcc", "class_name": "RelatedNodeInfo"}}, "text": "(b) Prompt initialization : Random uniform\ninitialization lags behind more \u201cadvanced\u201d initializations using sampled vocabulary or class label embeddings, but\nthe difference vanishes at XXL size. (c) Pre-training objective : LM adaptation outperforms span corruption, even\nwhen a sentinel is added to downstream task targets, but XXL works well with any method. (d) LM adaptation :\nLonger adaptation generally gives larger gains, but XXL is robust to even short adaptation.\n3.2 Ablation Study\nPrompt Length We train prompts for each\nmodel size while varying the prompt length in\n{1,5,20,100,150}and \ufb01xing other settings to our\ndefault con\ufb01guration. Figure 3(a) shows that for\nmost model sizes, increasing prompt length beyond\na single token is critical to achieve good perfor-\nmance. Notably, the XXL model still gives strong\nresults with a single-token prompt, suggesting that\nthe larger the model, the less conditioning signal\nis needed to achieve a target behavior.", "start_char_idx": 876, "end_char_idx": 1843, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b11c4bf3-a649-40eb-a878-d60ee514cbe6": {"__data__": {"id_": "b11c4bf3-a649-40eb-a878-d60ee514cbe6", "embedding": null, "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fc0a84c0-dd7a-4478-bb0b-342045637dd3", "node_type": "4", "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "69eba67d3fcec2cb381aff2d47aea3fcf7dacb148b6e2878bbc4a68b27aaea75", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0e68c496-5c11-452e-9732-8cee77221759", "node_type": "1", "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "ad3a2443b2d98451e9cfeb3a0ec28718faaba73ebff72ca9f7999afcc39bb921", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e0882491-3036-4149-88f8-393ef4969288", "node_type": "1", "metadata": {}, "hash": "d180b6b9fa720053a23c5b0866d4a1900f05c414ecc0d3fd9e4d408aa86656bd", "class_name": "RelatedNodeInfo"}}, "text": "Across all\nmodels, increasing beyond 20tokens only yields\nmarginal gains.6\nPrompt Initialization We ablate the effect of\nprompt initialization by training models at all sizes\nwhile \ufb01xing other hyperparameters to their default\nvalues. For random initialization, we sample uni-\n6Going past 100 tokens appears mildly detrimental for\nlarger models. A similar pattern of diminishing performance\npast a certain pre\ufb01x length is observed by Li and Liang (2021).formly from the range [ \u22120.5,0.5]. When initial-\nizing from sampled vocabulary, we restrict to the\n5,000most \u201ccommon\u201d tokens in T5\u2019s Sentence-\nPiece vocabulary (Kudo and Richardson, 2018),\nwhich is ordered by likelihood in the pre-training\ncorpus. For \u201cclass label\u201d initialization, we take\nthe embeddings for the string representations of\neach class in the downstream task and use them to\ninitialize one of the tokens in the prompt. When\na class label is multi-token, we average the token\nembeddings. At longer prompt lengths, we often\nrun out of class labels before we have initialized all\nof the prompt tokens.", "start_char_idx": 1844, "end_char_idx": 2909, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e0882491-3036-4149-88f8-393ef4969288": {"__data__": {"id_": "e0882491-3036-4149-88f8-393ef4969288", "embedding": null, "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "fc0a84c0-dd7a-4478-bb0b-342045637dd3", "node_type": "4", "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "69eba67d3fcec2cb381aff2d47aea3fcf7dacb148b6e2878bbc4a68b27aaea75", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b11c4bf3-a649-40eb-a878-d60ee514cbe6", "node_type": "1", "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "733c2877498b26b7bb8f470f80af2bc4ec77c1cfe4d6e64c63a3d66164edaf07", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "43a75da1-065c-4b29-89c0-af0b22e5cc7b", "node_type": "1", "metadata": {}, "hash": "486f44a965d664284fdcdbdd37fb0759f168b1b358d80bf82b606f6cb5b6908a", "class_name": "RelatedNodeInfo"}}, "text": "At longer prompt lengths, we often\nrun out of class labels before we have initialized all\nof the prompt tokens. In this case we fall back to\nour sampled vocab strategy to \ufb01ll in the prompt.7\nFigure 3(b) shows our ablation of initialization\nstrategy across model sizes, where we \ufb01nd that\n7T5\u2019s handling of the ReCoRD and WSC tasks requires\nthe model to generate short, free-form text. In these cases, we\ninitialize the prompts with words related to the task: common-\nsense ,reasoning ,reading , and comprehension for ReCoRD\nandcommonsense ,pronoun , and resolution for WSC.", "start_char_idx": 2798, "end_char_idx": 3370, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "43a75da1-065c-4b29-89c0-af0b22e5cc7b": {"__data__": {"id_": "43a75da1-065c-4b29-89c0-af0b22e5cc7b", "embedding": null, "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f2b631e0-f157-4609-93c8-6869ec60a479", "node_type": "4", "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4d4bd45d6c96facb0b607dfad2fd0a2f058b3356811b4734a5825ac1bceb8225", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e0882491-3036-4149-88f8-393ef4969288", "node_type": "1", "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "c796321cbf4bfd0b77f92031479c28927dbdcc436c86a3a4a91724ea50167013", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c8bd21c8-df10-4a62-8e37-95fa39ea0ff9", "node_type": "1", "metadata": {}, "hash": "40ad27660ac8e29e6a361f1799f8342dca8c3d13f1d137decbbba0b0258bae72", "class_name": "RelatedNodeInfo"}}, "text": "the class based initialization performs best. At\nsmaller model sizes, there are large gaps between\nthe different initializations, but once the model is\nscaled to XXL size, those differences disappear.\nWith \u201cclass label\u201d initialization, we observe that\nthe class labels typically persist in the learned\nprompts, such that the nearest token embeddings\n(in cosine distance) match the tokens used for ini-\ntialization. Beyond this, we did not \ufb01nd our learned\nprompts to be interpretable, similar to those of Shin\net al. (2020). See Section 7 for details.\nPre-training Objective In Figures 3(c) and 3(d),\nwe see pre-training objective has a clear effect on\nprompt tuning quality. As hypothesized in Sec-\ntion 2.2, T5\u2019s default \u201cspan corruption\u201d objective\nis not well-suited for training frozen models to be\nlater conditioned by prompts. Intuitively, models\npre-trained to read and write sentinel tokens are\nhard to apply directly to tasks of reading and writ-\ning text without sentinels. As seen in Figure 3(c),\neven the \u201cworkaround\u201d of adding a sentinel to the\ndownstream targets has little bene\ufb01t.", "start_char_idx": 0, "end_char_idx": 1094, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "c8bd21c8-df10-4a62-8e37-95fa39ea0ff9": {"__data__": {"id_": "c8bd21c8-df10-4a62-8e37-95fa39ea0ff9", "embedding": null, "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f2b631e0-f157-4609-93c8-6869ec60a479", "node_type": "4", "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4d4bd45d6c96facb0b607dfad2fd0a2f058b3356811b4734a5825ac1bceb8225", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "43a75da1-065c-4b29-89c0-af0b22e5cc7b", "node_type": "1", "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "91347e9122dedf3f36b3f1493f807c7a341f120ba17fed5d4b2667f9836710bd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ffb81d96-6e75-43aa-a5f8-7dc0c5b3a4f9", "node_type": "1", "metadata": {}, "hash": "d219dcbc21fb70b9bec8d88b3f6a24571ae0af504de305554785dd1691b7f43e", "class_name": "RelatedNodeInfo"}}, "text": "While LM\nadaptation adds value across all model sizes, we\nnote our largest XXL model is the most forgiving\nand gives strong results even with span corruption.\nGiven the bene\ufb01t of LM adaptation, we also\nexplore how long of an adaptation is helpful. Fig-\nure 3(d) shows that longer adaptation provides ad-\nditional gains, up to 100K steps. This suggests\nthat the \u201ctransition\u201d from span corruption to a lan-\nguage modeling objective is not a trivial change,\nand making an effective switch takes an investment\nof training resources ( 10% of the steps of the orig-\ninal T5 pre-training). At the same time, as in our\nother ablations, we observe that the XXL model\nis robust to even non-ideal con\ufb01gurations. At this\nsize, the gains from adaptation are quite modest.\nIn the non-optimal \u201cspan corruption\u201d setting, we\nobserve instability across model sizes, with the\nSmall model outperforming the larger Base, Large,\nand XL models. On inspection, we \ufb01nd that for\nmany tasks, these mid-sized models never learn to\noutput a legal class label and thus score 0%.", "start_char_idx": 1095, "end_char_idx": 2143, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "ffb81d96-6e75-43aa-a5f8-7dc0c5b3a4f9": {"__data__": {"id_": "ffb81d96-6e75-43aa-a5f8-7dc0c5b3a4f9", "embedding": null, "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f2b631e0-f157-4609-93c8-6869ec60a479", "node_type": "4", "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4d4bd45d6c96facb0b607dfad2fd0a2f058b3356811b4734a5825ac1bceb8225", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c8bd21c8-df10-4a62-8e37-95fa39ea0ff9", "node_type": "1", "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "ed80faf6e02142248b683eadbf432590cc8b65d3d659a5719dae35eafc874661", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e60b182c-b968-4a70-9b78-95edf98c471f", "node_type": "1", "metadata": {}, "hash": "3ec4e1c0cf3270f653ccfffe7c59e0f2ac550c9a3f5b72bddca652b6339474f6", "class_name": "RelatedNodeInfo"}}, "text": "The\ntwo most common error modes are copying sub-\nspans from the input and predicting an empty string.\nFurthermore, this poor performance is not due to\nrandom variance in prompt tuning, as we observe\nlow variance across 3runs for each size. These\nresults indicate that using models pre-trained with\nthe \u201cspan corruption\u201d objective can be unreliable,\nwith only 2out of 5models working well, whereas\n1081091010\nModel Parameters103105107109Task Parameters\nModel Tuning\nPrefix Tuning (Train)\nPrefix Tuning (Infer)WARP\nPrompt Tuning\nPrompt Design\n0.001%0.01%0.1%1%10%100%Task Parameters (%)Figure 4: Parameter usage of various adaptation tech-\nniques, \ufb01xing architecture to T5.1.1 and prompt/pre\ufb01x\nlength to 1\u2013100tokens (bands show mean and stddev).\nModel Tuning : All parameters are task-speci\ufb01c. Pre-\n\ufb01x Tuning : Activations are tuned in the pre\ufb01x of each\nlayer, requiring 0.1\u20131% task-speci\ufb01c parameters for in-\nference, but more are used for training.", "start_char_idx": 2144, "end_char_idx": 3092, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e60b182c-b968-4a70-9b78-95edf98c471f": {"__data__": {"id_": "e60b182c-b968-4a70-9b78-95edf98c471f", "embedding": null, "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f2b631e0-f157-4609-93c8-6869ec60a479", "node_type": "4", "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4d4bd45d6c96facb0b607dfad2fd0a2f058b3356811b4734a5825ac1bceb8225", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ffb81d96-6e75-43aa-a5f8-7dc0c5b3a4f9", "node_type": "1", "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "73439da66da8955ee71e91af18517aa0f2494bff2a104532bdcf55e72001b896", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e86f6114-5f85-4ba2-9bd9-15ac5caf34c7", "node_type": "1", "metadata": {}, "hash": "103b52513cb1757c5d10a9ce62a422bb09282fbeb6ff8c71fd2e4b06a96333a1", "class_name": "RelatedNodeInfo"}}, "text": "WARP : Task\nparameters are reduced to under 0.1% by only tuning\ninput and output layers. Prompt Tuning : Only prompt\nembeddings are tuned, reaching under 0.01% for most\nmodel sizes. Prompt Design : Only a sequence of\nprompt IDs ( 500\u20132000 tokens) is required.\nthe LM adapated versions work reliably across all\nmodel sizes.\nWe have released T5 1.1 checkpoints adapted\nusing the LM objective for 100K steps for all model\nsizes.8\n4 Comparison to Similar Approaches\nIn this section, we review recent work on learn-\ning continuous prompts, and draw comparisons\nwith our method. One important axis of compari-\nson is the number of task-speci\ufb01c parameters each\nmethod requires, as shown in Figure 4.", "start_char_idx": 3093, "end_char_idx": 3785, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e86f6114-5f85-4ba2-9bd9-15ac5caf34c7": {"__data__": {"id_": "e86f6114-5f85-4ba2-9bd9-15ac5caf34c7", "embedding": null, "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f2b631e0-f157-4609-93c8-6869ec60a479", "node_type": "4", "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4d4bd45d6c96facb0b607dfad2fd0a2f058b3356811b4734a5825ac1bceb8225", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e60b182c-b968-4a70-9b78-95edf98c471f", "node_type": "1", "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "441f6f2a36d833e12042dac71771975dc6b51074c1b80eaa027ba35d76ff982a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a59212d8-5ba4-45c0-b16d-13638c1746cb", "node_type": "1", "metadata": {}, "hash": "53dbeff7649ec737b5ea387c495cb99a932493d5b9139b3bccfcbb25926f346b", "class_name": "RelatedNodeInfo"}}, "text": "Among\nmethods with learnable parameters, prompt tuning\nis the most parameter ef\ufb01cient, requiring less than\n0.01% task-speci\ufb01c parameters for models over a\nbillion parameters.9\nLi and Liang (2021) propose \u201cpre\ufb01x tuning\u201d:\nlearning a sequence of pre\ufb01xes that are prepended\n8https://github.com/google-research/\ntext-to-text-transfer-transformer/\nblob/main/released_checkpoints.md#\nlm-adapted-t511lm100k\n9To compare with prompt design, we count each token\nID in the prompt as a parameter, and assume a prompt of\nbetween 500\u20132000 tokens to match the GPT-3 setting. While\nthis technique is by far the most parameter ef\ufb01cient, it comes\nat the cost of task quality.", "start_char_idx": 3786, "end_char_idx": 4442, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "a59212d8-5ba4-45c0-b16d-13638c1746cb": {"__data__": {"id_": "a59212d8-5ba4-45c0-b16d-13638c1746cb", "embedding": null, "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4b364895e6d406da7a27def36e3c3eb08ef5616f522e8a807332c8d1b0e9ad8d", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e86f6114-5f85-4ba2-9bd9-15ac5caf34c7", "node_type": "1", "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e626eed2a921c8544715dca07f9209a72db2435f95db8e32d60ded260e7c8a7f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1c43cdaf-5f01-42cd-a222-067786d7817a", "node_type": "1", "metadata": {}, "hash": "53e43510237d7f8e983713d91cd72690601241f0195c847553bec4a88b6b0827", "class_name": "RelatedNodeInfo"}}, "text": "at every transformer layer. This is akin to learning\ntransformer activations that are \ufb01xed across exam-\nples at every network layer. In contrast, prompt\ntuning uses a single prompt representation that\nis prepended to the embedded input. Beyond re-\nquiring fewer parameters, our approach allows the\ntransformer to update the intermediate-layer task\nrepresentations, as contextualized by an input ex-\nample. Their work builds on GPT-2 (Radford et al.,\n2019) and BART (Lewis et al., 2020), while ours fo-\ncuses on T5 and examines changes in performance\nand robustness to design choices as model size in-\ncreases. When using BART, pre\ufb01x tuning includes\npre\ufb01xes on both the encoder and decoder network,\nwhile prompt tuning only requires prompts on the\nencoder. Li and Liang (2021) also rely on a repa-\nrameterization of the pre\ufb01x to stabilize learning,\nwhich adds a large number of parameters during\ntraining, whereas our con\ufb01guration does not re-\nquire this reparameterization and is robust across\nSuperGLUE tasks and model sizes.\nHambardzumyan et al.", "start_char_idx": 0, "end_char_idx": 1047, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1c43cdaf-5f01-42cd-a222-067786d7817a": {"__data__": {"id_": "1c43cdaf-5f01-42cd-a222-067786d7817a", "embedding": null, "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4b364895e6d406da7a27def36e3c3eb08ef5616f522e8a807332c8d1b0e9ad8d", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a59212d8-5ba4-45c0-b16d-13638c1746cb", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "ed3f2f5dbeb3e270b84be52fae7c0bc35152f16615d538f582cac5296cad1a95", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "65aa3e6e-ceab-4fed-b651-ff855c8ce0ea", "node_type": "1", "metadata": {}, "hash": "e5603a310a88ffc2e8b9dfd85b55bfb2c549fbd1c856cbcc90920b29e4dbf577", "class_name": "RelatedNodeInfo"}}, "text": "Hambardzumyan et al. (2021) propose \u201cWARP\u201d,\nwhere prompt parameters are added to the input\nlayer. This method works with masked language\nmodels, relying on a [MASK] token and a learn-\nable output layer to project the mask to class logits.\nThis formulation restricts the model to producing a\nsingle output, limiting it to classi\ufb01cation. Prompt\ntuning does not require any changes to the input or\na task-speci\ufb01c head. The performance of prompt\ntuning is also considerably closer to the strong per-\nformance of model tuning.\nLiu et al. (2021) propose \u201cP-tuning\u201d where learn-\nable continuous prompts are interleaved throughout\nthe embedded input, using patterns based on human\ndesign. Our approach removes this complication\nby simply prepending the prompt to the input.", "start_char_idx": 1027, "end_char_idx": 1792, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "65aa3e6e-ceab-4fed-b651-ff855c8ce0ea": {"__data__": {"id_": "65aa3e6e-ceab-4fed-b651-ff855c8ce0ea", "embedding": null, "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4b364895e6d406da7a27def36e3c3eb08ef5616f522e8a807332c8d1b0e9ad8d", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1c43cdaf-5f01-42cd-a222-067786d7817a", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "f10a343ebc090cc7260635a1429b8215005c353073f567506eb268526394fd54", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "40b428ee-94ec-4178-8849-1f6cab0fdf19", "node_type": "1", "metadata": {}, "hash": "266927313b4f8451ef9db81477124ddd7b1e9c182f40753153e54c2fb374c310", "class_name": "RelatedNodeInfo"}}, "text": "Our approach removes this complication\nby simply prepending the prompt to the input. To\nachieve strong SuperGLUE results, P-tuning has to\nbe used in conjunction with model tuning, that is,\nmodels jointly update both the prompt and the main\nmodel parameters, whereas our approach keeps the\noriginal language model frozen.10\nQin and Eisner (2021) use \u201csoft words\u201d to learn\nprompts to extract knowledge from pre-trained\nLMs. Prompts are positioned in relation to the\ninput based on hand-designed prompt prototypes,\nand a learned \u2206\u2113\niparameter is included for each\nlayer, so parameter cost scales with model depth.\n10As another difference, P-tuning requires the addition of\n\u201canchor\u201d tokens in the input (e.g.", "start_char_idx": 1708, "end_char_idx": 2412, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "40b428ee-94ec-4178-8849-1f6cab0fdf19": {"__data__": {"id_": "40b428ee-94ec-4178-8849-1f6cab0fdf19", "embedding": null, "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4b364895e6d406da7a27def36e3c3eb08ef5616f522e8a807332c8d1b0e9ad8d", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "65aa3e6e-ceab-4fed-b651-ff855c8ce0ea", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "1e396c59a0ff9fc6be2c66acb2132cf2009087343e75257fb001c163d60f508a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b7486aa7-c66d-42f3-83b5-96fd790f90b6", "node_type": "1", "metadata": {}, "hash": "4853bd21a1d99bba56cc27752cebb8a345f0a3c404381779f9a8ee93d3076a04", "class_name": "RelatedNodeInfo"}}, "text": "10As another difference, P-tuning requires the addition of\n\u201canchor\u201d tokens in the input (e.g. a question mark following\nthe hypothesis in the RTE task) to achieve strong performance,\nwhile prompt tuning leaves inputs untouched.Dataset Domain Model Prompt \u2206\nSQuAD Wiki 94.9\u00b10.2 94.8\u00b10.1\u22120.1\nTextbookQA Book 54.3\u00b13.7 66.8\u00b12.9 +12.5\nBioASQ Bio 77.9\u00b10.4 79.1\u00b10.3 +1.2\nRACE Exam 59.8\u00b10.6 60.7\u00b10.5 +0.9\nRE Wiki 88.4\u00b10.1 88.8\u00b10.2 +0.4\nDuoRC Movie 68.9\u00b10.7 67.7\u00b11.1\u22121.2\nDROP Wiki 68.9\u00b11.7 67.1\u00b11.9\u22121.8\nTable 1: F1 mean and stddev for models trained on\nSQuAD and evaluated on out-of-domain datasets from\nthe MRQA 2019 shared task.", "start_char_idx": 2319, "end_char_idx": 2940, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b7486aa7-c66d-42f3-83b5-96fd790f90b6": {"__data__": {"id_": "b7486aa7-c66d-42f3-83b5-96fd790f90b6", "embedding": null, "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4b364895e6d406da7a27def36e3c3eb08ef5616f522e8a807332c8d1b0e9ad8d", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "40b428ee-94ec-4178-8849-1f6cab0fdf19", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "f30c8f9b4be425684111dab40d5a5ba2b35e70ef10e331d59692ddddcd51b23c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "722160cd-8098-4953-85b7-06f280eb067b", "node_type": "1", "metadata": {}, "hash": "ef2e3835a268fe6df44b1accea13d3d18ebcaff567db52992eff19e674767a28", "class_name": "RelatedNodeInfo"}}, "text": "Prompt tuning tends to\ngive stronger zero-shot performance than model tun-\ning, especially on datasets with large domain shifts like\nTextbookQA.\nLogeswaran et al. (2020) use a learnable\nprepended token to adapt transformer models to var-\nious tasks, but focus on small synthetic datasets de-\nsigned to accommodate a compositional task repre-\nsentation, as opposed to larger real-world datasets.\nTheir base models are small transformers trained\nfrom scratch jointly with the task representations,\nwhereas we keep the base model frozen and inves-\ntigate scaling laws using larger transformers.\nMore generally, work on task prompts is closely\naligned with work on \u201cadapters\u201d (Rebuf\ufb01 et al.,\n2017; Houlsby et al., 2019), small bottleneck lay-\ners inserted between frozen pre-trained network\nlayers. Adapters offer another means of reduc-\ning task-speci\ufb01c parameters, with Houlsby et al.\n(2019) achieving GLUE performance close to full\nmodel tuning when freezing BERT-Large and only\nadding 2\u20134% additional parameters. Pfeiffer et al.", "start_char_idx": 2941, "end_char_idx": 3969, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "722160cd-8098-4953-85b7-06f280eb067b": {"__data__": {"id_": "722160cd-8098-4953-85b7-06f280eb067b", "embedding": null, "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4b364895e6d406da7a27def36e3c3eb08ef5616f522e8a807332c8d1b0e9ad8d", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b7486aa7-c66d-42f3-83b5-96fd790f90b6", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "25c2e4673608673c6a289464250a53cf7cf6cb665a20710f825bed340daf9d98", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "407c3582-d6ce-4654-badc-22748af3ec24", "node_type": "1", "metadata": {}, "hash": "1e3e4450e3bb8d4f539c2e2dc447edbf4f24e0dc11e24fafac4920d5eb19c108", "class_name": "RelatedNodeInfo"}}, "text": "Pfeiffer et al.\n(2020) use multiple adapters in a multilingual con-\ntext to explicitly separate language understanding\nfrom task speci\ufb01cation, similar to our approach. A\ncore difference between adapters and prompt tun-\ning is how the approaches change model behavior.\nAdapters modify the actual function that acts on the\ninput representation, parameterized by the neural\nnetwork, by allowing the rewriting of activations at\nany given layer. Prompt tuning modi\ufb01es behavior\nby leaving the function \ufb01xed and adding new in-\nput representations that can affect how subsequent\ninput is processed.\n5 Resilience to Domain Shift\nBy freezing the core language model parameters,\nprompt tuning prevents the model from modify-\ning its general understanding of language. Instead,\nprompt representations indirectly modulate the rep-\nresentation of the input. This reduces the model\u2019s\nability to over\ufb01t to a dataset by memorizing spe-", "start_char_idx": 3954, "end_char_idx": 4872, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "407c3582-d6ce-4654-badc-22748af3ec24": {"__data__": {"id_": "407c3582-d6ce-4654-badc-22748af3ec24", "embedding": null, "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a0587c50-158a-46ed-a609-795e2c009d5b", "node_type": "4", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e22983e0a515690fe60d55f5b048f5e6039f18641bb488a10a660dd85d8dcb3c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "722160cd-8098-4953-85b7-06f280eb067b", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "3b696b774cc0fcc17f7021915f4065f7f357d312c839d78bfd1c6661314efa6c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "83da014b-3aa9-4d82-9bb6-d7f407840a1c", "node_type": "1", "metadata": {}, "hash": "7b1ba9521b091d385445acf070e9b2d86860f6f571b7f3a9d47f260ce916eace", "class_name": "RelatedNodeInfo"}}, "text": "Train Eval Tuning Accuracy F1\nQQP MRPC Model 73.1\u00b10.9 81.2\u00b12.1\nPrompt 76.3\u00b10.1 84.3\u00b10.3\nMRPC QQP Model 74.9\u00b11.3 70.9\u00b11.2\nPrompt 75.4\u00b10.8 69.7\u00b10.3\nTable 2: Mean and stddev of zero-shot domain transfer\nbetween two paraphrase detection tasks.\nci\ufb01c lexical cues and spurious correlations. This re-\nstriction suggests that prompt tuning may improve\nrobustness to domain shifts, where the distribution\nof inputs differs between training and evaluation.\nWe investigate zero-shot domain transfer on two\ntasks: question answering (QA) and paraphrase de-\ntection. For question answering, we use the MRQA\n2019 shared task on generalization (Fisch et al.,\n2019). This task collects extractive QA datasets\nin a uni\ufb01ed format and tests how models trained\non \u201cin-domain\u201d datasets perform when evaluated\non \u201cout-of-domain\u201d datasets.", "start_char_idx": 0, "end_char_idx": 816, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "83da014b-3aa9-4d82-9bb6-d7f407840a1c": {"__data__": {"id_": "83da014b-3aa9-4d82-9bb6-d7f407840a1c", "embedding": null, "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a0587c50-158a-46ed-a609-795e2c009d5b", "node_type": "4", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e22983e0a515690fe60d55f5b048f5e6039f18641bb488a10a660dd85d8dcb3c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "407c3582-d6ce-4654-badc-22748af3ec24", "node_type": "1", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4383ca70e66e29ce9ec02fffbee2f61ae21e4bef3f792b3c7b772de7ec4df20d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d2b00fb9-dc93-4af8-9d47-56622bc35c92", "node_type": "1", "metadata": {}, "hash": "68761c72e9435b2c54681f9549446714e7f1f7f141c2ed7df1c944cbabf3abd2", "class_name": "RelatedNodeInfo"}}, "text": "For our experiments,\nwe train on SQuAD (Rajpurkar et al., 2016) and\nevaluate on each of the out-of-domain datasets.11\nTable 1 shows that prompt tuning outperforms\nmodel tuning on the majority of out-of-domain\ndatasets, with a remarkable 12.5point F1 gap be-\ntween the two approaches on TextbookQA. We ob-\nserve larger gains from prompt tuning in cases of\nlarger domain shifts (e.g. to Biomedical in BioASQ\nor to Textbooks in TextbookQA). Of the datasets\nwhere model tuning is better, we see that DROP\nshares a domain (Wikipedia) with SQuAD and is\nthus one of the smallest domain transfers.\nAs a second test of robustness to domain shift,\nwe explore transfer between two paraphrase detec-\ntion tasks from GLUE (Wang et al., 2019b). The\n\ufb01rst task is QQP (Iyer et al., 2017), which asks\nif two questions from the community Q&A site\nQuora are \u201cduplicates\u201d.", "start_char_idx": 817, "end_char_idx": 1669, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d2b00fb9-dc93-4af8-9d47-56622bc35c92": {"__data__": {"id_": "d2b00fb9-dc93-4af8-9d47-56622bc35c92", "embedding": null, "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a0587c50-158a-46ed-a609-795e2c009d5b", "node_type": "4", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e22983e0a515690fe60d55f5b048f5e6039f18641bb488a10a660dd85d8dcb3c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "83da014b-3aa9-4d82-9bb6-d7f407840a1c", "node_type": "1", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "7439f7d48bed0eb67064d90b6195399881f8bd0fd4e5428db4ad170973ce9510", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ddd18a85-92eb-4d52-91de-9f60c5b2bfd3", "node_type": "1", "metadata": {}, "hash": "eb70e1dc385b22a23f6d662f0ace7976a1caa75508a67cbcbda34231ebe2b124", "class_name": "RelatedNodeInfo"}}, "text": "The second task is MRPC\n(Dolan and Brockett, 2005), which asks if two sen-\ntences drawn from news articles are paraphrases.\nWe test transfer in both directions (QQP \u21d4MRPC).\nAs before, we train on the \u201cin-domain\u201d task, select\ncheckpoints using in-domain validation, and evalu-\nate zero-shot on the \u201cout-of-domain\u201d task.\nTable 2 shows that training a lightweight prompt\non the QQP data and evaluating on MRPC gives\nmuch better performance than tuning the entire\n11We select checkpoints based on SQuAD validation F1.\nThe out-of-domain datasets are TextbookQA (Kembhavi et al.,\n2017), RACE (Lai et al., 2017), BioASQ ( http://bioasq.\norg/ ), RE (Levy et al., 2017), DuoRC (Saha et al., 2018),\nand DROP (Dua et al., 2019).Dataset Metric Average Best Ensemble\nBoolQ acc.", "start_char_idx": 1670, "end_char_idx": 2434, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "ddd18a85-92eb-4d52-91de-9f60c5b2bfd3": {"__data__": {"id_": "ddd18a85-92eb-4d52-91de-9f60c5b2bfd3", "embedding": null, "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a0587c50-158a-46ed-a609-795e2c009d5b", "node_type": "4", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e22983e0a515690fe60d55f5b048f5e6039f18641bb488a10a660dd85d8dcb3c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d2b00fb9-dc93-4af8-9d47-56622bc35c92", "node_type": "1", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "dc11d84adc02eebf24b32a34e293a8f62488fb1a5b8e1a191c7314bf978f1172", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3880f9b1-e0be-495e-9296-03efb65a2a72", "node_type": "1", "metadata": {}, "hash": "bf1479c9b0f9616ae63fbd657153fde1c1dfc86dac8cf225c920bdfbdb7fdb05", "class_name": "RelatedNodeInfo"}}, "text": "91.1 91.3 91.7\nCB acc./F1 99.3 / 99.0 100.00 / 100.00 100.0 /100.0\nCOPA acc. 98.8 100.0 100.0\nMultiRC EM/F1 a65.7 / 88.7 66.3 / 89.0 67.1 /89.4\nReCoRD EM/F1 92.7 / 93.4 92.9 / 93.5 93.2 /93.9\nRTE acc. 92.6 93.5 93.5\nWiC acc. 76.2 76.6 77.4\nWSC acc. 95.8 96.2 96.2\nSuperGLUE (dev) 90.5 91.0 91.3\nTable 3: Performance of a \ufb01ve-prompt ensemble built\nfrom a single frozen T5-XXL model exceeds both the\naverage and the best among the \ufb01ve prompts.\nmodel (+ 3.2accuracy and + 3.1F1).", "start_char_idx": 2435, "end_char_idx": 2911, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "3880f9b1-e0be-495e-9296-03efb65a2a72": {"__data__": {"id_": "3880f9b1-e0be-495e-9296-03efb65a2a72", "embedding": null, "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a0587c50-158a-46ed-a609-795e2c009d5b", "node_type": "4", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e22983e0a515690fe60d55f5b048f5e6039f18641bb488a10a660dd85d8dcb3c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ddd18a85-92eb-4d52-91de-9f60c5b2bfd3", "node_type": "1", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "366b7b053282920c6844e35630c3bd8a1556510901dbc294e890325f08760cd1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cd513550-2e7d-4c8e-bce3-920c4ded5aa6", "node_type": "1", "metadata": {}, "hash": "7eb32536465c2c779324f67648fe8f9f824f3c46b4eb9844d2e1bdead27f3860", "class_name": "RelatedNodeInfo"}}, "text": "model (+ 3.2accuracy and + 3.1F1). The results\nare much closer in the other direction, with prompt\ntuning showing a small improvement in accuracy\nand a small drop in F1. These results support the\nview that model tuning may be over-parameterized\nand more prone to over\ufb01t the training task, to the\ndetriment of similar tasks in different domains.\n6 Prompt Ensembling\nEnsembles of neural models trained from different\ninitializations on the same data are widely observed\nto improve task performance (Hansen and Salamon,\n1990) and are useful for estimating model uncer-\ntainty (Lakshminarayanan et al., 2017). However,\nas model size increases, ensembling can become\nimpractical. Beyond the space required to store N\nmodels (e.g. 42GiB for each copy of T5-XXL),\nthere is a substantial inference cost to running N\ndistinct models, whether in parallel or in series.\nPrompt tuning provides a more ef\ufb01cient way to\nensemble multiple adaptations of a pre-trained lan-\nguage model.", "start_char_idx": 2877, "end_char_idx": 3846, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "cd513550-2e7d-4c8e-bce3-920c4ded5aa6": {"__data__": {"id_": "cd513550-2e7d-4c8e-bce3-920c4ded5aa6", "embedding": null, "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "a0587c50-158a-46ed-a609-795e2c009d5b", "node_type": "4", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e22983e0a515690fe60d55f5b048f5e6039f18641bb488a10a660dd85d8dcb3c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3880f9b1-e0be-495e-9296-03efb65a2a72", "node_type": "1", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4c85ad3e91381790dd0e32d2237380d6326775641cacb2ca97b9549873bc29e8", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "955bf7b2-f1b2-406e-b908-e181ab45735c", "node_type": "1", "metadata": {}, "hash": "d2159c0daac32e9e6186cb5bb48d70ebc06f9d75db3b37e3544c0a8a8016569f", "class_name": "RelatedNodeInfo"}}, "text": "Prompt tuning provides a more ef\ufb01cient way to\nensemble multiple adaptations of a pre-trained lan-\nguage model. By training Nprompts on the same\ntask, we create Nseparate \u201cmodels\u201d for a task,\nwhile still sharing the core language modeling pa-\nrameters throughout. Beyond drastically reducing\nstorage costs, the prompt ensemble makes infer-\nence more ef\ufb01cient. To process one example, rather\nthan computing forward passes of Ndifferent mod-\nels, we can execute a single forward pass with a\nbatch size of N, replicating the example across\nthe batch and varying the prompt. These savings\nmirror those seen for multi-tasking in Figure 2.\nTo demonstrate the viability of prompt ensem-\nbling, we train \ufb01ve prompts for each SuperGLUE\ntask, using a single frozen T5-XXL model with\nour default hyperparameters. We use simple major-\nity voting to compute predictions from the ensem-\nble. Table 3 shows that across all tasks, the ensem-\nble beats the single-prompt average and beats, or", "start_char_idx": 3736, "end_char_idx": 4710, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "955bf7b2-f1b2-406e-b908-e181ab45735c": {"__data__": {"id_": "955bf7b2-f1b2-406e-b908-e181ab45735c", "embedding": null, "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c", "node_type": "4", "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4832a0d177dd6918766af58eea501f73c529330643672681eb9b815871fc123f", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "cd513550-2e7d-4c8e-bce3-920c4ded5aa6", "node_type": "1", "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "644d9bedb704477907d1220f855c6c209a7e57c5911e228ba909e509859749d2", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "86d4a7db-9a97-4931-80f4-58d9e3b7e745", "node_type": "1", "metadata": {}, "hash": "99ad0f8fbc1be99cdbc4ed7496750b493e0e9faad5b737c2dd5b4642b4cfed6a", "class_name": "RelatedNodeInfo"}}, "text": "matches, the best individual prompt.\n7 Interpretability\nAn ideally interpretable prompt would consist of\nnatural language that clearly describes the task at\nhand, explicitly asks the model for some result or\naction, and makes it easy to understand why the\nprompt elicited such behavior from the model.\nAs prompt tuning works in the continuous em-\nbedding space rather than the discrete token space,\ninterpreting prompts becomes more dif\ufb01cult. To\ntest the interpretability of our learned soft prompts,\nwe compute the nearest neighbors to each prompt\ntoken from the frozen model\u2019s vocabulary. We use\ncosine distance between the vocabulary embedding\nvector and the prompt token representation as the\nsimilarity metric.\nWe observe that for a given learned prompt to-\nken, the top-5 nearest neighbors form tight seman-\ntic clusters. For example, we see lexically similar\nclusters such as { Technology /technology /Tech-\nnologies /technological /technologies }, as well\nas more diverse but still strongly related clusters\nsuch as { entirely /completely /totally /altogether\n/100% }. The nature of these clusters suggests that\nthe prompts are in fact learning \u201cword-like\u201d repre-\nsentations.", "start_char_idx": 0, "end_char_idx": 1183, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "86d4a7db-9a97-4931-80f4-58d9e3b7e745": {"__data__": {"id_": "86d4a7db-9a97-4931-80f4-58d9e3b7e745", "embedding": null, "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c", "node_type": "4", "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4832a0d177dd6918766af58eea501f73c529330643672681eb9b815871fc123f", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "955bf7b2-f1b2-406e-b908-e181ab45735c", "node_type": "1", "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "06165093e3fb905f4cfd50e6aa58b4c30ff005724a3a8cd293f0362f45792b22", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e2e84454-ff34-4dac-bb5e-4f328607d0cc", "node_type": "1", "metadata": {}, "hash": "f3950fe98c77a840aea6d953d17b5a4c1d366fc8827d269d787e49ca0b41eb30", "class_name": "RelatedNodeInfo"}}, "text": "The nature of these clusters suggests that\nthe prompts are in fact learning \u201cword-like\u201d repre-\nsentations. We found that random vectors drawn\nfrom the embedding space do not show this sort of\nsemantic clustering.\nWhen initializing the prompts using the \u201cclass-\nlabel\u201d strategy, we often \ufb01nd that the class labels\npersist through training. Speci\ufb01cally, if a prompt\ntoken is initialized to a given label, that label is\noften among the learned token\u2019s nearest neighbors\nafter tuning. When initializing with the \u201cRandom\nUniform\u201d or \u201cSampled V ocab\u201d methods, the class\nlabels can also be found in the nearest neighbors\nof the prompts; however they tend to appear as\nneighbors to multiple prompt tokens. This suggests\nthat the model is learning to store the expected\noutput classes in the prompts as reference, and\ninitializing the prompt to outputs classes makes\nthis easier and more centralized.\nWhen examining longer prompts (e.g. size 100),\nwe often \ufb01nd several prompt tokens with the same\nnearest neighbors.", "start_char_idx": 1077, "end_char_idx": 2083, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e2e84454-ff34-4dac-bb5e-4f328607d0cc": {"__data__": {"id_": "e2e84454-ff34-4dac-bb5e-4f328607d0cc", "embedding": null, "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c", "node_type": "4", "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4832a0d177dd6918766af58eea501f73c529330643672681eb9b815871fc123f", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "86d4a7db-9a97-4931-80f4-58d9e3b7e745", "node_type": "1", "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "f0733db3ebdf05b55a4c8ff41af9c2d0d4770e1e018ed62e9b201d7cae425cc6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3dcd89dd-3e11-41f0-b5ac-07e3600a7468", "node_type": "1", "metadata": {}, "hash": "32dfd701907924addf3d86df8a2bd0acc136b1df4cc008f62cefb83be5a7b196", "class_name": "RelatedNodeInfo"}}, "text": "When examining longer prompts (e.g. size 100),\nwe often \ufb01nd several prompt tokens with the same\nnearest neighbors. This suggests there is either\nexcess capacity in the prompt, or that the lack of\nsequential structure in the prompt representation\nmakes it dif\ufb01cult for the model to localize informa-\ntion to a speci\ufb01c position.\nWhile the learned prompts taken as sequencesshow little interpretability, we do observe a high\nfrequency of words like science ,technology and\nengineering as the nearest neighbors for prompts\ntrained on the BoolQ dataset and approximately\n20% of the questions are in the \u201cNature/Science\u201d\ncategory. While more investigation is needed, this\nsuggests that one role of the prompt may be to\nprime the model to interpret inputs in a speci\ufb01c\ndomain or context (e.g. \u201cscienti\ufb01c\u201d).\n8 Conclusion\nIn this paper, we showed that prompt tuning is\na competitive technique for adapting frozen pre-\ntrained language models to downstream tasks. On\nthe popular SuperGLUE benchmark, its task perfor-\nmance rivals that of traditional model tuning, with\nthe gap vanishing as model size increases.", "start_char_idx": 1969, "end_char_idx": 3070, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "3dcd89dd-3e11-41f0-b5ac-07e3600a7468": {"__data__": {"id_": "3dcd89dd-3e11-41f0-b5ac-07e3600a7468", "embedding": null, "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c", "node_type": "4", "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4832a0d177dd6918766af58eea501f73c529330643672681eb9b815871fc123f", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e2e84454-ff34-4dac-bb5e-4f328607d0cc", "node_type": "1", "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "9608babc8a61a53ef0a55e5caf907afa5646d79c5508e03ca998ca35f0749e0b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1a2f3f55-7774-44e7-8b0f-8be1c741d147", "node_type": "1", "metadata": {}, "hash": "512f79ef36c302978f96de2491bd264016628de3a13e0d22bea87d84b02fb00a", "class_name": "RelatedNodeInfo"}}, "text": "On zero-\nshot domain transfer, we found that prompt tuning\nleads to improved generalization. This plausibly in-\ndicates that freezing general-purpose language un-\nderstanding parameters and restricting downstream\nlearning to a lightweight parameter footprint can\nhelp to avoid over\ufb01tting to a speci\ufb01c domain.\nBeyond task quality metrics, we discussed the\nappeal of moving to frozen pre-trained models in\nterms of storage and serving costs. This move\nenables both ef\ufb01cient multi-task serving, as well\nas ef\ufb01cient high-performing prompt ensembling.\nLooking forward, we believe that factoring out\ntask-de\ufb01ning parameters as distinct from general\nlanguage-modeling parameters is an exciting step\nthat opens up many avenues for new research.\nAcknowledgements\nWe thank Lucas Dixon, Waleed Ammar, Slav\nPetrov and Sebastian Ruder for comments on an\nearlier draft, and the following people for helpful\ndiscussion: Colin Raffel, Adam Roberts, and Noam\nShazeer. We thank Linting Xue for help with the\nLM adaptation training.", "start_char_idx": 3071, "end_char_idx": 4084, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1a2f3f55-7774-44e7-8b0f-8be1c741d147": {"__data__": {"id_": "1a2f3f55-7774-44e7-8b0f-8be1c741d147", "embedding": null, "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c", "node_type": "4", "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4832a0d177dd6918766af58eea501f73c529330643672681eb9b815871fc123f", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3dcd89dd-3e11-41f0-b5ac-07e3600a7468", "node_type": "1", "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "5e9f26e8db655d22143522c81c258fd12bb1e5c94d9d624e1598d498e328a49a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9c25bafe-f86c-4815-9c8a-779803afdfea", "node_type": "1", "metadata": {}, "hash": "52299c33ae6213d53f0ec9dbe920e57a1a094e18368b38b1c1fb1ae1f5a63c3d", "class_name": "RelatedNodeInfo"}}, "text": "We thank Linting Xue for help with the\nLM adaptation training.\nReferences\nRoy Bar-Haim, Ido Dagan, Bill Dolan, Lisa Ferro,\nDanilo Giampiccolo, Bernardo Magnini, and Idan\nSzpektor. 2006. The second PASCAL recognising\ntextual entailment challenge. In Proceedings of the\nsecond PASCAL challenges workshop on recognis-\ning textual entailment , volume 6, pages 6\u20134. Venice.\nLuisa Bentivogli, Peter Clark, Ido Dagan, and Danilo\nGiampiccolo. 2009. The \ufb01fth PASCAL recognizing\ntextual entailment challenge. In TAC.", "start_char_idx": 4022, "end_char_idx": 4528, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "9c25bafe-f86c-4815-9c8a-779803afdfea": {"__data__": {"id_": "9c25bafe-f86c-4815-9c8a-779803afdfea", "embedding": null, "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "12aeaf684445dcd0966210d0ca8c77e24dc614c54f152c228187b9c09b4be7f2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1a2f3f55-7774-44e7-8b0f-8be1c741d147", "node_type": "1", "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4436b4a33b008b24b66fbc017fe217e90bf7ddeaa4ed9a7cb3c1269e2da0bb60", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "628ab8d2-ddad-4610-aa76-a3838e631b24", "node_type": "1", "metadata": {}, "hash": "8defa0ce70d7c9e0e62e653e55aa9f9187cb076ff0b30a8f6dfb35829a8b276b", "class_name": "RelatedNodeInfo"}}, "text": "James Bradbury, Roy Frostig, Peter Hawkins,\nMatthew James Johnson, Chris Leary, Dougal\nMaclaurin, George Necula, Adam Paszke, Jake\nVanderPlas, Skye Wanderman-Milne, and Qiao\nZhang. 2018. JAX: composable transformations of\nPython+NumPy programs.\nTom Brown, Benjamin Mann, Nick Ryder, Melanie\nSubbiah, Jared D Kaplan, Prafulla Dhariwal,\nArvind Neelakantan, Pranav Shyam, Girish Sastry,\nAmanda Askell, Sandhini Agarwal, Ariel Herbert-\nV oss, Gretchen Krueger, Tom Henighan, Rewon\nChild, Aditya Ramesh, Daniel Ziegler, Jeffrey Wu,\nClemens Winter, Chris Hesse, Mark Chen, Eric\nSigler, Mateusz Litwin, Scott Gray, Benjamin Chess,\nJack Clark, Christopher Berner, Sam McCandlish,\nAlec Radford, Ilya Sutskever, and Dario Amodei.\n2020. Language models are few-shot learners. In\nAdvances in Neural Information Processing Systems ,\nvolume 33, pages 1877\u20131901.", "start_char_idx": 0, "end_char_idx": 847, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "628ab8d2-ddad-4610-aa76-a3838e631b24": {"__data__": {"id_": "628ab8d2-ddad-4610-aa76-a3838e631b24", "embedding": null, "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "12aeaf684445dcd0966210d0ca8c77e24dc614c54f152c228187b9c09b4be7f2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9c25bafe-f86c-4815-9c8a-779803afdfea", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "6db4abf47525d7b9ce41dcd9b9b9ed851ebc193f09f961db027bad9e1ab30dda", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "fedf256e-e12a-4e72-8110-70ceeab812ba", "node_type": "1", "metadata": {}, "hash": "14305665b1f15d9631c64f609b077e5521fab82d6c7762061df70919f4e73dd6", "class_name": "RelatedNodeInfo"}}, "text": "In\nAdvances in Neural Information Processing Systems ,\nvolume 33, pages 1877\u20131901. Curran Associates,\nInc.\nChristopher Clark, Kenton Lee, Ming-Wei Chang,\nTom Kwiatkowski, Michael Collins, and Kristina\nToutanova. 2019. BoolQ: Exploring the surprising\ndif\ufb01culty of natural yes/no questions. In Proceed-\nings of the 2019 Conference of the North American\nChapter of the Association for Computational Lin-\nguistics: Human Language Technologies, Volume 1\n(Long and Short Papers) , pages 2924\u20132936, Min-\nneapolis, Minnesota. Association for Computational\nLinguistics.\nIdo Dagan, Oren Glickman, and Bernardo Magnini.\n2005. The PASCAL recognising textual entailment\nchallenge. In Machine Learning Challenges Work-\nshop , pages 177\u2013190. Springer.\nMarie-Catherine De Marneff, Mandy Simons, and Ju-\ndith Tonhauser. 2019. The CommitmentBank: In-\nvestigating projection in naturally occurring dis-\ncourse. Proceedings of Sinn und Bedeutung 23 .", "start_char_idx": 765, "end_char_idx": 1695, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "fedf256e-e12a-4e72-8110-70ceeab812ba": {"__data__": {"id_": "fedf256e-e12a-4e72-8110-70ceeab812ba", "embedding": null, "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "12aeaf684445dcd0966210d0ca8c77e24dc614c54f152c228187b9c09b4be7f2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "628ab8d2-ddad-4610-aa76-a3838e631b24", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4965df115d92339b07abff199f5d3387a6b021c8c3e3f3cef3926a9ee8a34e13", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "544fa16d-6af6-4e7d-a023-8b02c59bc8af", "node_type": "1", "metadata": {}, "hash": "83ebb15bd6a8b7ae3eb10bf354d4bf4f1624d7163a9115887f2f0ed064b2b6b3", "class_name": "RelatedNodeInfo"}}, "text": "The CommitmentBank: In-\nvestigating projection in naturally occurring dis-\ncourse. Proceedings of Sinn und Bedeutung 23 .\nJacob Devlin, Ming-Wei Chang, Kenton Lee, and\nKristina Toutanova. 2019. BERT: Pre-training of\ndeep bidirectional transformers for language under-\nstanding. In Proceedings of the 2019 Conference\nof the North American Chapter of the Association\nfor Computational Linguistics: Human Language\nTechnologies, Volume 1 (Long and Short Papers) ,\npages 4171\u20134186, Minneapolis, Minnesota. Associ-\nation for Computational Linguistics.\nWilliam B Dolan and Chris Brockett. 2005. Automati-\ncally constructing a corpus of sentential paraphrases.\nInProceedings of the Third International Workshop\non Paraphrasing (IWP2005) .\nDheeru Dua, Yizhong Wang, Pradeep Dasigi, Gabriel\nStanovsky, Sameer Singh, and Matt Gardner. 2019.\nDROP: A reading comprehension benchmark requir-\ning discrete reasoning over paragraphs.", "start_char_idx": 1574, "end_char_idx": 2491, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "544fa16d-6af6-4e7d-a023-8b02c59bc8af": {"__data__": {"id_": "544fa16d-6af6-4e7d-a023-8b02c59bc8af", "embedding": null, "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "12aeaf684445dcd0966210d0ca8c77e24dc614c54f152c228187b9c09b4be7f2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "fedf256e-e12a-4e72-8110-70ceeab812ba", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "f9317aa4f802f9e1195a06233f3915724b481039865994e8394c1fc765e163ee", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5f82f0a6-fa16-497d-86b1-73af5d0ad42d", "node_type": "1", "metadata": {}, "hash": "f709de3335c9d4fbd8d520a4718582c1db00e6d0976c7ce0af9b4c9bb03d27a5", "class_name": "RelatedNodeInfo"}}, "text": "2019.\nDROP: A reading comprehension benchmark requir-\ning discrete reasoning over paragraphs. In Proceed-\nings of the 2019 Conference of the North American\nChapter of the Association for Computational Lin-\nguistics: Human Language Technologies, Volume 1(Long and Short Papers) , pages 2368\u20132378, Min-\nneapolis, Minnesota. Association for Computational\nLinguistics.\nAdam Fisch, Alon Talmor, Robin Jia, Minjoon Seo, Eu-\nnsol Choi, and Danqi Chen. 2019. MRQA 2019\nshared task: Evaluating generalization in reading\ncomprehension. In Proceedings of 2nd Machine\nReading for Reading Comprehension (MRQA) Work-\nshop at EMNLP .\nDanilo Giampiccolo, Bernardo Magnini, Ido Dagan,\nand Bill Dolan. 2007. The third PASCAL recog-\nnizing textual entailment challenge. In Proceedings\nof the ACL-PASCAL workshop on textual entailment\nand paraphrasing , pages 1\u20139. Association for Com-\nputational Linguistics.\nKaren Hambardzumyan, Hrant Khachatrian, and\nJonathan May.", "start_char_idx": 2398, "end_char_idx": 3345, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "5f82f0a6-fa16-497d-86b1-73af5d0ad42d": {"__data__": {"id_": "5f82f0a6-fa16-497d-86b1-73af5d0ad42d", "embedding": null, "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "12aeaf684445dcd0966210d0ca8c77e24dc614c54f152c228187b9c09b4be7f2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "544fa16d-6af6-4e7d-a023-8b02c59bc8af", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "c010fb9f701ac2ee1a1a439871efe29dc5c75b93f18df780e2a0883f62c4d4ae", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4735cda6-5230-4020-a3d8-c5573739304c", "node_type": "1", "metadata": {}, "hash": "4dd1fb6c68213a378ad54096c82cac12fb5e983b0b778ab8a29216821e4d9456", "class_name": "RelatedNodeInfo"}}, "text": "Association for Com-\nputational Linguistics.\nKaren Hambardzumyan, Hrant Khachatrian, and\nJonathan May. 2021. WARP: Word-level Adversar-\nial ReProgramming. In Proceedings of the 59th An-\nnual Meeting of the Association for Computational\nLinguistics and the 11th International Joint Confer-\nence on Natural Language Processing (Volume 1:\nLong Papers) , pages 4921\u20134933, Online. Associa-\ntion for Computational Linguistics.\nL. K. Hansen and P. Salamon. 1990. Neural network\nensembles. IEEE Transactions on Pattern Analysis\nand Machine Intelligence , 12(10):993\u20131001.\nJonathan Heek, Anselm Levskaya, Avital Oliver, Mar-\nvin Ritter, Bertrand Rondepierre, Andreas Steiner,\nand Marc van Zee. 2020. Flax: A neural network\nlibrary and ecosystem for JAX.\nNeil Houlsby, Andrei Giurgiu, Stanislaw Jastrzebski,\nBruna Morrone, Quentin De Laroussilhe, Andrea\nGesmundo, Mona Attariyan, and Sylvain Gelly.", "start_char_idx": 3243, "end_char_idx": 4131, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "4735cda6-5230-4020-a3d8-c5573739304c": {"__data__": {"id_": "4735cda6-5230-4020-a3d8-c5573739304c", "embedding": null, "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "12aeaf684445dcd0966210d0ca8c77e24dc614c54f152c228187b9c09b4be7f2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5f82f0a6-fa16-497d-86b1-73af5d0ad42d", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "abddbb9e555dc5e3f30257822dcc3831061a2d848389c9d57dd6e1dd9dc171ee", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "359bb9f1-aedc-44cf-97a3-2f5dd661334b", "node_type": "1", "metadata": {}, "hash": "c2b3d3cd6e7429519d81a7045a1132c517d4db76dc566fccb45a62afe55af0ab", "class_name": "RelatedNodeInfo"}}, "text": "2019. Parameter-ef\ufb01cient transfer learning for NLP.\nInProceedings of the 36th International Conference\non Machine Learning , volume 97 of Proceedings\nof Machine Learning Research , pages 2790\u20132799.\nPMLR.\nJeremy Howard and Sebastian Ruder. 2018. Universal\nlanguage model \ufb01ne-tuning for text classi\ufb01cation. In\nProceedings of the 56th Annual Meeting of the As-\nsociation for Computational Linguistics (Volume 1:\nLong Papers) , pages 328\u2013339, Melbourne, Australia.\nAssociation for Computational Linguistics.\nShankar Iyer, Nikhil Dandekar, and Kornel Csernai.\n2017. First Quora dataset release: Question pairs.\nZhengbao Jiang, Frank F. Xu, Jun Araki, and Graham\nNeubig. 2020. How can we know what language\nmodels know? Transactions of the Association for\nComputational Linguistics , 8:423\u2013438.\nA. Kembhavi, M. Seo, D. Schwenk, J. Choi, A. Farhadi,\nand H. Hajishirzi. 2017.", "start_char_idx": 4132, "end_char_idx": 4999, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "359bb9f1-aedc-44cf-97a3-2f5dd661334b": {"__data__": {"id_": "359bb9f1-aedc-44cf-97a3-2f5dd661334b", "embedding": null, "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "12aeaf684445dcd0966210d0ca8c77e24dc614c54f152c228187b9c09b4be7f2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4735cda6-5230-4020-a3d8-c5573739304c", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "6811ce42fdbcc845ec8652e211be9e97e60cab62697bbfc3c5e8a46432e3bc52", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4b15248d-5e2a-4a1c-9c59-f96e13574188", "node_type": "1", "metadata": {}, "hash": "7525664b25137171017e959d57d7ec4a41ccdfa3a0a245dea34d3eec1a732b74", "class_name": "RelatedNodeInfo"}}, "text": "2017. Are you smarter than a\nsixth grader? textbook question answering for multi-\nmodal machine comprehension. In 2017 IEEE Con-\nference on Computer Vision and Pattern Recognition\n(CVPR) , pages 5376\u20135384.", "start_char_idx": 4994, "end_char_idx": 5199, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "4b15248d-5e2a-4a1c-9c59-f96e13574188": {"__data__": {"id_": "4b15248d-5e2a-4a1c-9c59-f96e13574188", "embedding": null, "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6", "node_type": "4", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "a77cce14eef97ce1f5583a47cab6876eb5fe892c533efb097ddaebba8e40957c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "359bb9f1-aedc-44cf-97a3-2f5dd661334b", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "f39fbb34711c3c4f9f8961ad053d4e915839408de7ea659effdccae1da3f84eb", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "53ad762f-ca84-4a09-a660-fd485be92bc5", "node_type": "1", "metadata": {}, "hash": "9797a0b7f1f1eb4d1faa76651c5cd1c92c5cacbb39a1e0aa12ad5dc362aac415", "class_name": "RelatedNodeInfo"}}, "text": "Daniel Khashabi, Snigdha Chaturvedi, Michael Roth,\nShyam Upadhyay, and Dan Roth. 2018. Looking be-\nyond the surface: A challenge set for reading com-\nprehension over multiple sentences. In Proceedings\nof North American Chapter of the Association for\nComputational Linguistics (NAACL) .\nVid Kocijan, Ana-Maria Cretu, Oana-Maria Camburu,\nYordan Yordanov, and Thomas Lukasiewicz. 2019.\nA surprisingly robust trick for the Winograd schema\nchallenge. In Proceedings of the 57th Annual Meet-\ning of the Association for Computational Linguistics ,\npages 4837\u20134842, Florence, Italy. Association for\nComputational Linguistics.\nTaku Kudo and John Richardson. 2018. SentencePiece:\nA simple and language independent subword tok-\nenizer and detokenizer for neural text processing. In\nProceedings of the 2018 Conference on Empirical\nMethods in Natural Language Processing: System\nDemonstrations , pages 66\u201371, Brussels, Belgium.\nAssociation for Computational Linguistics.", "start_char_idx": 0, "end_char_idx": 957, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "53ad762f-ca84-4a09-a660-fd485be92bc5": {"__data__": {"id_": "53ad762f-ca84-4a09-a660-fd485be92bc5", "embedding": null, "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6", "node_type": "4", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "a77cce14eef97ce1f5583a47cab6876eb5fe892c533efb097ddaebba8e40957c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4b15248d-5e2a-4a1c-9c59-f96e13574188", "node_type": "1", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "91ff6a8e904f2a38072f291ba86faa54fcb9c454fb77ff07b4936fada24fbedb", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6cfe4eac-fad8-4f8e-ad87-9df25d67101d", "node_type": "1", "metadata": {}, "hash": "8d075b7104db62cc8bfd0ef9f5d973be0eea3e7a9d84374a0d32a7197f3bdf91", "class_name": "RelatedNodeInfo"}}, "text": "Association for Computational Linguistics.\nGuokun Lai, Qizhe Xie, Hanxiao Liu, Yiming Yang,\nand Eduard Hovy. 2017. RACE: Large-scale ReAd-\ning comprehension dataset from examinations. In\nProceedings of the 2017 Conference on Empirical\nMethods in Natural Language Processing , pages\n785\u2013794, Copenhagen, Denmark. Association for\nComputational Linguistics.\nBalaji Lakshminarayanan, Alexander Pritzel, and\nCharles Blundell. 2017. Simple and scalable predic-\ntive uncertainty estimation using deep ensembles. In\nAdvances in Neural Information Processing Systems ,\nvolume 30. Curran Associates, Inc.\nHector Levesque, Ernest Davis, and Leora Morgen-\nstern. 2012. The Winograd schema challenge. In\nThirteenth International Conference on the Princi-\nples of Knowledge Representation and Reasoning .\nOmer Levy, Minjoon Seo, Eunsol Choi, and Luke\nZettlemoyer. 2017. Zero-shot relation extraction via\nreading comprehension.", "start_char_idx": 915, "end_char_idx": 1827, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6cfe4eac-fad8-4f8e-ad87-9df25d67101d": {"__data__": {"id_": "6cfe4eac-fad8-4f8e-ad87-9df25d67101d", "embedding": null, "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6", "node_type": "4", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "a77cce14eef97ce1f5583a47cab6876eb5fe892c533efb097ddaebba8e40957c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "53ad762f-ca84-4a09-a660-fd485be92bc5", "node_type": "1", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "164bfb687450ad81b3b8dc5f1fef1cbe78194f0435a55f69fd9651c39fa275c0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9e509a1e-a138-4ac2-9014-a497b41e761e", "node_type": "1", "metadata": {}, "hash": "440bb8355f1fb39b8bcf062cceb0ceabe0eb01a3537318db4b1cb7e4a695a69f", "class_name": "RelatedNodeInfo"}}, "text": "2017. Zero-shot relation extraction via\nreading comprehension. In Proceedings of the 21st\nConference on Computational Natural Language\nLearning (CoNLL 2017) , pages 333\u2013342, Vancou-\nver, Canada. Association for Computational Linguis-\ntics.\nMike Lewis, Yinhan Liu, Naman Goyal, Mar-\njan Ghazvininejad, Abdelrahman Mohamed, Omer\nLevy, Veselin Stoyanov, and Luke Zettlemoyer.\n2020. BART: Denoising sequence-to-sequence pre-\ntraining for natural language generation, translation,\nand comprehension. In Proceedings of the 58th An-\nnual Meeting of the Association for Computational\nLinguistics , pages 7871\u20137880, Online. Association\nfor Computational Linguistics.\nXiang Lisa Li and Percy Liang. 2021. Pre\ufb01x-tuning:\nOptimizing continuous prompts for generation. In\nProceedings of the 59th Annual Meeting of the\nAssociation for Computational Linguistics and the\n11th International Joint Conference on Natural Lan-\nguage Processing (Volume 1: Long Papers) , pages4582\u20134597, Online. Association for Computational\nLinguistics.", "start_char_idx": 1765, "end_char_idx": 2780, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "9e509a1e-a138-4ac2-9014-a497b41e761e": {"__data__": {"id_": "9e509a1e-a138-4ac2-9014-a497b41e761e", "embedding": null, "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6", "node_type": "4", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "a77cce14eef97ce1f5583a47cab6876eb5fe892c533efb097ddaebba8e40957c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6cfe4eac-fad8-4f8e-ad87-9df25d67101d", "node_type": "1", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "36831c9123caf89ac31d01ff632b220c3a4bf1f937cb6394ff8bddf415c07a9e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d9e0118f-9861-431c-ab7a-ff526dbbd428", "node_type": "1", "metadata": {}, "hash": "e87c725d4c5e3209cc5b48539342469178bcde3dae6db0e72253b303ce69ecd3", "class_name": "RelatedNodeInfo"}}, "text": "Association for Computational\nLinguistics.\nXiao Liu, Yanan Zheng, Zhengxiao Du, Ming Ding,\nYujie Qian, Zhilin Yang, and Jie Tang. 2021. GPT\nunderstands, too. CoRR , abs/2103.10385.\nLajanugen Logeswaran, Ann Lee, Myle Ott, Honglak\nLee, Marc\u2019Aurelio Ranzato, and Arthur Szlam.\n2020. Few-shot sequence learning with transform-\ners.CoRR , abs/2012.09543.\nVinod Nair and Geoffrey E. Hinton. 2010. Recti\ufb01ed\nlinear units improve restricted Boltzmann machines.\nInProceedings of the 27th International Conference\non International Conference on Machine Learning ,\nICML\u201910, page 807\u2013814, Madison, WI, USA. Om-\nnipress.\nMatthew Peters, Mark Neumann, Mohit Iyyer, Matt\nGardner, Christopher Clark, Kenton Lee, and Luke\nZettlemoyer. 2018. Deep contextualized word rep-\nresentations.", "start_char_idx": 2738, "end_char_idx": 3505, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d9e0118f-9861-431c-ab7a-ff526dbbd428": {"__data__": {"id_": "d9e0118f-9861-431c-ab7a-ff526dbbd428", "embedding": null, "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6", "node_type": "4", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "a77cce14eef97ce1f5583a47cab6876eb5fe892c533efb097ddaebba8e40957c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9e509a1e-a138-4ac2-9014-a497b41e761e", "node_type": "1", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d6374d5ff578294df2f6a9589ebafea96f7b1a4b4ebf99d1614d0877f51788fd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8379a386-b275-46c7-b1ae-9454c8e0c7b3", "node_type": "1", "metadata": {}, "hash": "75303dfd7928b9bd6553bc7305c4bbf0dfc90c52bdcea9636bb91605914fc95f", "class_name": "RelatedNodeInfo"}}, "text": "2018. Deep contextualized word rep-\nresentations. In Proceedings of the 2018 Confer-\nence of the North American Chapter of the Associ-\nation for Computational Linguistics: Human Lan-\nguage Technologies, Volume 1 (Long Papers) , pages\n2227\u20132237, New Orleans, Louisiana. Association\nfor Computational Linguistics.\nJonas Pfeiffer, Ivan Vuli \u00b4c, Iryna Gurevych, and Se-\nbastian Ruder. 2020. MAD-X: An Adapter-Based\nFramework for Multi-Task Cross-Lingual Transfer.\nInProceedings of the 2020 Conference on Empirical\nMethods in Natural Language Processing (EMNLP) ,\npages 7654\u20137673, Online. Association for Computa-\ntional Linguistics.\nMohammad Taher Pilehvar and Jose Camacho-\nCollados. 2018. WiC: 10,000 example pairs for\nevaluating context-sensitive representations. CoRR ,\nabs/1808.09121.\nGuanghui Qin and Jason Eisner. 2021. Learning how\nto ask: Querying LMs with mixtures of soft prompts.", "start_char_idx": 3456, "end_char_idx": 4343, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "8379a386-b275-46c7-b1ae-9454c8e0c7b3": {"__data__": {"id_": "8379a386-b275-46c7-b1ae-9454c8e0c7b3", "embedding": null, "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6", "node_type": "4", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "a77cce14eef97ce1f5583a47cab6876eb5fe892c533efb097ddaebba8e40957c", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d9e0118f-9861-431c-ab7a-ff526dbbd428", "node_type": "1", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "80cabf02e41cd0bfe146b61f996b3efdbbc45a8cb86b44926a5e4ceb3d27d3de", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1e028075-7214-47d3-9ec5-688137ca7e56", "node_type": "1", "metadata": {}, "hash": "5776a93ef4d291489af7d3afea46bdba723300834f4965a3a16f503807088e21", "class_name": "RelatedNodeInfo"}}, "text": "2021. Learning how\nto ask: Querying LMs with mixtures of soft prompts.\nInProceedings of the 2021 Conference of the North\nAmerican Chapter of the Association for Computa-\ntional Linguistics: Human Language Technologies ,\npages 5203\u20135212, Online. Association for Compu-\ntational Linguistics.\nAlec Radford, Karthik Narasimhan, Tim Salimans, and\nIlya Sutskever. 2018. Improving language under-\nstanding by generative pre-training.\nAlec Radford, Jeff Wu, Rewon Child, David Luan,\nDario Amodei, and Ilya Sutskever. 2019. Language\nmodels are unsupervised multitask learners. OpenAI\nBlog .\nColin Raffel, Noam Shazeer, Adam Roberts, Kather-\nine Lee, Sharan Narang, Michael Matena, Yanqi\nZhou, Wei Li, and Peter J. Liu. 2020. Exploring\nthe limits of transfer learning with a uni\ufb01ed text-to-\ntext transformer. Journal of Machine Learning Re-\nsearch , 21(140):1\u201367.", "start_char_idx": 4273, "end_char_idx": 5126, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1e028075-7214-47d3-9ec5-688137ca7e56": {"__data__": {"id_": "1e028075-7214-47d3-9ec5-688137ca7e56", "embedding": null, "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "df07f28f-5c4b-4098-9b5c-54c4b27f5929", "node_type": "4", "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "73d9fa8bf5100471ac4eabaebbb21f397c030a5c1df11fcf79ea5e796617ebe8", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8379a386-b275-46c7-b1ae-9454c8e0c7b3", "node_type": "1", "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "77772636356a4d88bca1c107152da3b61602ab321f497e14665ba6b5142251a1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "69a04d7b-be5b-4b1f-9fe3-db222db53728", "node_type": "1", "metadata": {}, "hash": "f98ef61017e365572829d9efcd0ca229dc1383a02c20f9983007b18244f54dce", "class_name": "RelatedNodeInfo"}}, "text": "Pranav Rajpurkar, Jian Zhang, Konstantin Lopyrev, and\nPercy Liang. 2016. SQuAD: 100,000+ questions for\nmachine comprehension of text. In Proceedings of\nthe 2016 Conference on Empirical Methods in Natu-\nral Language Processing , pages 2383\u20132392, Austin,\nTexas. Association for Computational Linguistics.\nSylvestre-Alvise Rebuf\ufb01, Hakan Bilen, and Andrea\nVedaldi. 2017. Learning multiple visual domains\nwith residual adapters. In Advances in Neural Infor-\nmation Processing Systems , volume 30. Curran As-\nsociates, Inc.\nMelissa Roemmele, Cosmin Adrian Bejan, and An-\ndrew S Gordon. 2011. Choice of plausible alterna-\ntives: An evaluation of commonsense causal reason-\ning. In 2011 AAAI Spring Symposium Series .\nAmrita Saha, Rahul Aralikatte, Mitesh M. Khapra, and\nKarthik Sankaranarayanan. 2018. DuoRC: Towards\ncomplex language understanding with paraphrased\nreading comprehension.", "start_char_idx": 0, "end_char_idx": 880, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "69a04d7b-be5b-4b1f-9fe3-db222db53728": {"__data__": {"id_": "69a04d7b-be5b-4b1f-9fe3-db222db53728", "embedding": null, "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "df07f28f-5c4b-4098-9b5c-54c4b27f5929", "node_type": "4", "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "73d9fa8bf5100471ac4eabaebbb21f397c030a5c1df11fcf79ea5e796617ebe8", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1e028075-7214-47d3-9ec5-688137ca7e56", "node_type": "1", "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "7216cdca633d749eba10c9253c71831cc74e3506f04fa82cc431687e69e89406", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "53089959-e48e-4835-a03c-ba02954c06f3", "node_type": "1", "metadata": {}, "hash": "5ce4e35f7441262d23a9c29c311b492b6ddab6beaaf7b234272a6676edac4bec", "class_name": "RelatedNodeInfo"}}, "text": "2018. DuoRC: Towards\ncomplex language understanding with paraphrased\nreading comprehension. In Proceedings of the 56th\nAnnual Meeting of the Association for Computa-\ntional Linguistics (Volume 1: Long Papers) , pages\n1683\u20131693, Melbourne, Australia. Association for\nComputational Linguistics.\nTimo Schick and Hinrich Sch\u00fctze. 2021. Exploiting\ncloze-questions for few-shot text classi\ufb01cation and\nnatural language inference. In Proceedings of the\n16th Conference of the European Chapter of the As-\nsociation for Computational Linguistics: Main Vol-\nume, pages 255\u2013269, Online. Association for Com-\nputational Linguistics.\nNoam Shazeer. 2020. GLU variants improve trans-\nformer. CoRR , abs/2002.05202.\nNoam Shazeer and Mitchell Stern. 2018. Adafactor:\nAdaptive learning rates with sublinear memory cost.\nInProceedings of the 35th International Conference\non Machine Learning , volume 80 of Proceedings\nof Machine Learning Research , pages 4596\u20134604.\nPMLR.", "start_char_idx": 789, "end_char_idx": 1741, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "53089959-e48e-4835-a03c-ba02954c06f3": {"__data__": {"id_": "53089959-e48e-4835-a03c-ba02954c06f3", "embedding": null, "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "df07f28f-5c4b-4098-9b5c-54c4b27f5929", "node_type": "4", "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "73d9fa8bf5100471ac4eabaebbb21f397c030a5c1df11fcf79ea5e796617ebe8", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "69a04d7b-be5b-4b1f-9fe3-db222db53728", "node_type": "1", "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "65708c72e9b214d13e128b9401e7ec6fc89057f093f40a556f923ff102411ef2", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d087b2e3-2cbf-46ea-873a-1608e62a32a1", "node_type": "1", "metadata": {}, "hash": "7003877d99f37327f6b6f641b56723141a477478d89c28f5bd9f4f05ed8dbc3f", "class_name": "RelatedNodeInfo"}}, "text": "PMLR.\nTaylor Shin, Yasaman Razeghi, Robert L. Logan IV ,\nEric Wallace, and Sameer Singh. 2020. AutoPrompt:\nEliciting Knowledge from Language Models with\nAutomatically Generated Prompts. In Proceed-\nings of the 2020 Conference on Empirical Methods\nin Natural Language Processing (EMNLP) , pages\n4222\u20134235, Online. Association for Computational\nLinguistics.\nAshish Vaswani, Noam Shazeer, Niki Parmar, Jakob\nUszkoreit, Llion Jones, Aidan N Gomez, \u0141ukasz\nKaiser, and Illia Polosukhin. 2017. Attention is all\nyou need. In Advances in Neural Information Pro-\ncessing Systems , volume 30, pages 5998\u20136008.\nAlex Wang, Yada Pruksachatkun, Nikita Nangia,\nAmanpreet Singh, Julian Michael, Felix Hill, Omer\nLevy, and Samuel Bowman. 2019a. SuperGLUE: A\nstickier benchmark for general-purpose language un-\nderstanding systems. In Advances in Neural Infor-\nmation Processing Systems , volume 32.", "start_char_idx": 1736, "end_char_idx": 2616, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d087b2e3-2cbf-46ea-873a-1608e62a32a1": {"__data__": {"id_": "d087b2e3-2cbf-46ea-873a-1608e62a32a1", "embedding": null, "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "df07f28f-5c4b-4098-9b5c-54c4b27f5929", "node_type": "4", "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "73d9fa8bf5100471ac4eabaebbb21f397c030a5c1df11fcf79ea5e796617ebe8", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "53089959-e48e-4835-a03c-ba02954c06f3", "node_type": "1", "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "248e7fa3faae4b92cef2a594d783b980cfb8a92057901498f39b379c5e5f8869", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "af386c75-60bf-4919-adaf-d824f2bae220", "node_type": "1", "metadata": {}, "hash": "cc8dc85a9610afd86cd131f6a91ef76c6efec6dc62616a7667e1d98d04afe043", "class_name": "RelatedNodeInfo"}}, "text": "In Advances in Neural Infor-\nmation Processing Systems , volume 32. Curran As-\nsociates, Inc.Alex Wang, Amanpreet Singh, Julian Michael, Felix\nHill, Omer Levy, and Samuel R. Bowman. 2019b.\nGLUE: A multi-task benchmark and analysis plat-\nform for natural language understanding. In the Pro-\nceedings of ICLR.\nMichael L. Waskom. 2021. seaborn: statistical data\nvisualization. Journal of Open Source Software ,\n6(60):3021.\nSheng Zhang, Xiaodong Liu, Jingjing Liu, Jianfeng\nGao, Kevin Duh, and Benjamin Van Durme. 2018.\nReCoRD: Bridging the gap between human and ma-\nchine commonsense reading comprehension. CoRR ,\nabs/1810.12885.", "start_char_idx": 2549, "end_char_idx": 3175, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "af386c75-60bf-4919-adaf-d824f2bae220": {"__data__": {"id_": "af386c75-60bf-4919-adaf-d824f2bae220", "embedding": null, "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de", "node_type": "4", "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d9db6be5a9fd5547c873968f57fe09d7b8c22f23c70f384c38d503c102be7349", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d087b2e3-2cbf-46ea-873a-1608e62a32a1", "node_type": "1", "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "92a5ef9f73b94d4a9bec2a4851385c2fbbcba5e2685318d2b3a5de5abef180c1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9d4f15c2-5b0b-451a-8e9e-9c12b635d80c", "node_type": "1", "metadata": {}, "hash": "9d3ae102b80b2ca8f59e1607c774ecf197a1c675ee7702f8a6f2cb674ad4b826", "class_name": "RelatedNodeInfo"}}, "text": "A Reproducibility\nA.1 Experimental Settings\nWe evaluate each GLUE and SuperGLUE dataset\nusing the metric speci\ufb01ed in the benchmark. We\nreuse the evaluation code from the publicly avail-\nable T5 open-source release to compute metrics.12\nFor the SQuAD and MRQA datasets, we evaluate\nusing F1, one of the metrics used by the SQuAD\nbenchmark, where partial answer spans are consid-\nered. Again, we use the T5 open-source release for\nmetric calculation.13All of our models use T5 1.1\nas the base frozen model, additional details and pre-\ntrained checkpoints can be found on GitHub.1415\nAll prompts for T5 Small and Base models were\ntrained on 4TPU v2 chips, while prompts for larger\nmodels were trained on 16TPU v3 chips.\nParameter counts for each prompt can be found\nin Table 4. Average runtimes until convergence can\nbe found in Table 5.", "start_char_idx": 0, "end_char_idx": 834, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "9d4f15c2-5b0b-451a-8e9e-9c12b635d80c": {"__data__": {"id_": "9d4f15c2-5b0b-451a-8e9e-9c12b635d80c", "embedding": null, "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de", "node_type": "4", "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d9db6be5a9fd5547c873968f57fe09d7b8c22f23c70f384c38d503c102be7349", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "af386c75-60bf-4919-adaf-d824f2bae220", "node_type": "1", "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "07bfaa38c49780b0490d2da20d6be94aa812f1834dd2ff8f1fe18f354845f28d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6d78e4e2-2dce-4b92-bdea-1b9ab9cbf351", "node_type": "1", "metadata": {}, "hash": "88db8b4f84091d988050b141b889a818074de8b3d1d82842382cd27ed26f2844", "class_name": "RelatedNodeInfo"}}, "text": "Parameter counts for each prompt can be found\nin Table 4. Average runtimes until convergence can\nbe found in Table 5.\nA.2 Hyperparameter Search\nThis work used 77hyperparameter search trials\n(40for prompt tuning and 37for single-task model\ntuning), and 3training runs (with validation evalu-\nation) for each baseline con\ufb01guration and ablation\nsetting, for a total of 195runs for our main result\nand ablations. There were an additional 18runs for\nthe domain shift experiments and 24extra runs to\ncreate the ensemble. Hyperparameter bounds can\nbe found in Table 6. Hyperparameter tuning was\ndone via manual tuning and settings were selected\nbased on the SuperGLUE score. All experiments in\nthis work, outside of the hyperparameter being ab-\nlated, use our default con\ufb01guration of 100K steps\nof LM Adapation, a prompt length of 100, and\n\u201cclass-label\u201d initialization.\nAll graphs of our experimental results plot the\nmean and standard deviation over 3 runs as com-\nputed by Seaborn (Waskom, 2021).", "start_char_idx": 717, "end_char_idx": 1708, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6d78e4e2-2dce-4b92-bdea-1b9ab9cbf351": {"__data__": {"id_": "6d78e4e2-2dce-4b92-bdea-1b9ab9cbf351", "embedding": null, "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de", "node_type": "4", "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d9db6be5a9fd5547c873968f57fe09d7b8c22f23c70f384c38d503c102be7349", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9d4f15c2-5b0b-451a-8e9e-9c12b635d80c", "node_type": "1", "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "9889811f66551a2f5abd1d6795206a032a217d0adcf607963dec10fcdb26d5b8", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "807595ce-b2e5-4b02-9f10-072cfad0422e", "node_type": "1", "metadata": {}, "hash": "eb5931788671f6b3d857f8acf482f0315ab11fea941f4c6f0eca983c83993db6", "class_name": "RelatedNodeInfo"}}, "text": "Some settings\nhave such low variance that the standard deviation\n12https://github.com/google-research/\ntext-to-text-transfer-transformer/blob/\nmaster/t5/evaluation/metrics.py\n13https://github.com/google-research/\ntext-to-text-transfer-transformer/blob/\nmaster/t5/evaluation/metrics.py#L151\n14https://github.com/google-research/\ntext-to-text-transfer-transformer/blob/\nmaster/released_checkpoints.md#t511\n15https://github.com/google-research/\ntext-to-text-transfer-transformer/\nblob/main/released_checkpoints.md#\nlm-adapted-t511lm100kis hidden behind the line itself, such as \u201cModel Tun-\ning (Multi-task)\u201d in Figure 1 and the Base, Large,\nand XL prompts trained on the \u201cSpan Corruption\u201d\npretraining objective in Figure 3(b). Figure 4 also\nshows mean and standard deviation for the num-\nber of parameters each method uses as the prompt\nlength varies from 1\u2013100. The \u201cPre\ufb01x Tuning\n(Train)\u201d curves appears to have no standard de-\nviation because the parameter count is so strongly\ndominated by the cost of the reparameterization\nparameters that the standard deviation bands are\noccluded.", "start_char_idx": 1709, "end_char_idx": 2792, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "807595ce-b2e5-4b02-9f10-072cfad0422e": {"__data__": {"id_": "807595ce-b2e5-4b02-9f10-072cfad0422e", "embedding": null, "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de", "node_type": "4", "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d9db6be5a9fd5547c873968f57fe09d7b8c22f23c70f384c38d503c102be7349", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6d78e4e2-2dce-4b92-bdea-1b9ab9cbf351", "node_type": "1", "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "59ed19c40a9611124eea6280367d7f9979a48fb37f17148557f5f20a13e6f0e0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "fab4be6e-226e-4bd4-ae21-cc3bde2a881a", "node_type": "1", "metadata": {}, "hash": "232ecf619b2e77b1aed9b7aa702877f35eb51837c2d056c6728d9f3e0fdac38c", "class_name": "RelatedNodeInfo"}}, "text": "For our experiments on domain transfer,\nwe report mean and standard deviation over 3 runs.\nA.3 Datasets\nAll datasets used are in English. For the GLUE16,17\nand SuperGLUE18datasets, we used the training,\nvalidation, and test splits that ship with TensorFlow\nDatasets. We used version 1.0.0 for GLUE and\n1.0.2 for SuperGLUE datasets. For SQuAD19\nwe used v1.1:3.0.0 from Tensor\ufb02ow Datasets\nand follow the provided training, validation, and\ntest splits. For the out-of-domain datasets we used\nthe development splits distributed as part of the\nMRQA shared task.20Dataset sizes can be found\nin Table 7. The label distributions for each dataset\ncan be found in Table 8 (BoolQ), Table 9 (CB),\nTable 10 (COPA), Table 11 (MultiRC), Table 14\n(RTE), Table 12 (WiC), Table 13 (WSC), Table 15\n(MRPC) and Table 16 (QQP).", "start_char_idx": 2793, "end_char_idx": 3598, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "fab4be6e-226e-4bd4-ae21-cc3bde2a881a": {"__data__": {"id_": "fab4be6e-226e-4bd4-ae21-cc3bde2a881a", "embedding": null, "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de", "node_type": "4", "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "d9db6be5a9fd5547c873968f57fe09d7b8c22f23c70f384c38d503c102be7349", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "807595ce-b2e5-4b02-9f10-072cfad0422e", "node_type": "1", "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e675e630612a35d43c66ac099204dcbef2ac5361cbb02079b6a8cb5ffb3647c5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "03633bbe-806d-4571-a74b-7e07e0a418ea", "node_type": "1", "metadata": {}, "hash": "549b6bb611e40cff39ccc3dcd71c744d0c0c31a91c97f61e03d4c50eb65c2d7c", "class_name": "RelatedNodeInfo"}}, "text": "The question answering datasets are extractive\ndatasets with a variety of answers, so there isn\u2019t a\nlabel distribution to report. Similarly, the ReCoRD\ndataset is a multiple choice dataset where the model\nmust predict the masked out entity from a list of\npossible entities. Due to this formulation there isn\u2019t\na meaningful label distribution.\nWe followed the open-source T5 preprocess-\ning procedure21for each dataset, except that we\nomit the dataset pre\ufb01x denoting which SuperGLUE\ndataset an example belongs to. For the SQuAD and\n16https://www.tensorflow.org/datasets/\ncatalog/glue#gluemrpc\n17https://www.tensorflow.org/datasets/\ncatalog/glue#glueqqp\n18https://www.tensorflow.org/datasets/\ncatalog/super_glue\n19https://www.tensorflow.org/datasets/\ncatalog/squad#squadv11_default_config\n20https://github.com/mrqa/\nMRQA-Shared-Task-2019#out-of-domain\n21https://github.com/google-research/\ntext-to-text-transfer-transformer/blob/\nmaster/t5/data/preprocessors.py", "start_char_idx": 3599, "end_char_idx": 4558, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "03633bbe-806d-4571-a74b-7e07e0a418ea": {"__data__": {"id_": "03633bbe-806d-4571-a74b-7e07e0a418ea", "embedding": null, "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5412a96d-8d4f-4284-bab0-69537b32ca43", "node_type": "4", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e0e069e9ca3b22ce573393121a17287569ea2db6bf5d45a98bf4fcc268494792", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "fab4be6e-226e-4bd4-ae21-cc3bde2a881a", "node_type": "1", "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "68ed42b20389b0ac961874f1fcf978802fd172d7a5c407692f1bbcc8a1e09af0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c7eb0f32-6a22-479b-89bb-2d28b96635b4", "node_type": "1", "metadata": {}, "hash": "34e96cb1980e434cbc78ffec1b0a8ca3d54a2d0bf9aef2bdd9d42144e52ff903", "class_name": "RelatedNodeInfo"}}, "text": "T5 Size Prompt Length Trainable Parameters Total Parameters Percent Trainable\nSmall 1 512 76 ,961,664 0 .00067 %\n5 2,560 76 ,963,712 0 .00333 %\n20 10,420 76 ,971,572 0 .01330 %\n50 25,600 76 ,986,752 0 .03325 %\n100 51,200 77 ,012,352 0 .06648 %\n150 76,800 77 ,037,952 0 .09969 %\nBase 1 768 247 ,578,624 0 .00031 %\n5 3,840 247 ,581,696 0 .00155 %\n20 15,360 247 ,593,216 0 .00620 %\n50 38,400 247 ,616,256 0 .01551 %\n100 76,800 247 ,654,656 0 .03101 %\n150 115,200 247 ,693,056 0 .04651 %\nLarge 1 1,024 783 ,151,104 0 .00013 %\n5 5,120 783 ,155,200 0 .00065 %\n20 20,480 783 ,170,", "start_char_idx": 0, "end_char_idx": 573, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "c7eb0f32-6a22-479b-89bb-2d28b96635b4": {"__data__": {"id_": "c7eb0f32-6a22-479b-89bb-2d28b96635b4", "embedding": null, "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5412a96d-8d4f-4284-bab0-69537b32ca43", "node_type": "4", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e0e069e9ca3b22ce573393121a17287569ea2db6bf5d45a98bf4fcc268494792", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "03633bbe-806d-4571-a74b-7e07e0a418ea", "node_type": "1", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "b407420d92864ff0f61222da26d6eba3cd539b97572c95340a49f876100e0d57", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "902498af-1ed1-4468-95da-d2def3e828c8", "node_type": "1", "metadata": {}, "hash": "fe4f7838fc2320fa1114a97f6d434bf3f967284cc287661dc0a387811e1457d2", "class_name": "RelatedNodeInfo"}}, "text": "00013 %\n5 5,120 783 ,155,200 0 .00065 %\n20 20,480 783 ,170,560 0 .00262 %\n50 51,200 783 ,201,280 0 .00654 %\n100 102,400 783 ,252,480 0 .01907 %\n150 153,600 783 ,303,680 0 .01961 %\nXL 1 2,048 2 ,849,759,232 0 .00007 %\n5 10,240 2 ,849,767,424 0 .00036 %\n20 40,960 2 ,849,798,144 0 .00143 %\n50 102,400 2 ,849,859,584 0 .00359 %\n100 204,800 2 ,849,961,984 0 .00718 %\n150 307,200 2 ,850,064,384 0 .01078 %\nXXL 1 4,096 11 ,135,336,448 0 .00004 %\n5 20,480 11 ,135,352,832 0 .00018 %\n20 81,920 11 ,135,414,272 0 .", "start_char_idx": 514, "end_char_idx": 1019, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "902498af-1ed1-4468-95da-d2def3e828c8": {"__data__": {"id_": "902498af-1ed1-4468-95da-d2def3e828c8", "embedding": null, "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5412a96d-8d4f-4284-bab0-69537b32ca43", "node_type": "4", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e0e069e9ca3b22ce573393121a17287569ea2db6bf5d45a98bf4fcc268494792", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c7eb0f32-6a22-479b-89bb-2d28b96635b4", "node_type": "1", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "b87585227ba93d198fecb79d4c1bef6d79d168525440c9a1719e5c8b21e6126c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "73013d5e-7578-41f6-ba94-96635ff96c38", "node_type": "1", "metadata": {}, "hash": "ad186d676c065d44215e9a1f6c450bb6118960362b4ef2d4104a62f6fcbcda5d", "class_name": "RelatedNodeInfo"}}, "text": "135,352,832 0 .00018 %\n20 81,920 11 ,135,414,272 0 .00074 %\n50 204,800 11 ,137,380,352 0 .00184 %\n100 409,600 11 ,135,741,952 0 .00368 %\n150 614,400 11 ,135,946,752 0 .00552 %\nTable 4: Number of parameters used for various prompt lengths and T5 model sizes. Trainable parameters is\nthe number of parameters in the prompt itself, while total parameters includes the prompt plus the original T5\nparameters. The T5 parameters are frozen and shared across all tasks, and include the SentencePiece lookup table\nparameters. The \ufb01nal column is the percentage of total parameters that are trainable.\nMRQA datasets we used the T5 SQuAD prepro-\ncessing code22. By following the T5 preprocessing\nand text-to-text format, we recast the WSC dataset\nas a text generation task. Instead of predicting\nwhether a supplied referent is correct for a high-\nlighted span, our model predicts the correct referent\ndirectly.", "start_char_idx": 967, "end_char_idx": 1866, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "73013d5e-7578-41f6-ba94-96635ff96c38": {"__data__": {"id_": "73013d5e-7578-41f6-ba94-96635ff96c38", "embedding": null, "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5412a96d-8d4f-4284-bab0-69537b32ca43", "node_type": "4", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e0e069e9ca3b22ce573393121a17287569ea2db6bf5d45a98bf4fcc268494792", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "902498af-1ed1-4468-95da-d2def3e828c8", "node_type": "1", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e77aa5ec7d8d9596cdb7ce342360c408f5e7068f7afa8c71e80dfc4864ffa750", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e87b2787-183a-4354-aa71-b82e3008a006", "node_type": "1", "metadata": {}, "hash": "da9a0cbcb4925d9120123b7b479d2d25777cf80cd10f84a9f5fef751540965d0", "class_name": "RelatedNodeInfo"}}, "text": "As such, we can only learn from training\nexamples where the referent is correct, so WSC\ntraining data where the supplied referent is incor-\nrect are omitted.\nNo new data was collected for this work.", "start_char_idx": 1867, "end_char_idx": 2065, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e87b2787-183a-4354-aa71-b82e3008a006": {"__data__": {"id_": "e87b2787-183a-4354-aa71-b82e3008a006", "embedding": null, "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5412a96d-8d4f-4284-bab0-69537b32ca43", "node_type": "4", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e0e069e9ca3b22ce573393121a17287569ea2db6bf5d45a98bf4fcc268494792", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "73013d5e-7578-41f6-ba94-96635ff96c38", "node_type": "1", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "f80186e07109f74f9af857989bebab59348059bef8e3ebd468773f0099743d70", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5157b87f-f235-4adf-88e3-c6ae7e57640c", "node_type": "1", "metadata": {}, "hash": "e469017eeeef3b333d3f4a88098975de97b5dc2e6e9a2da46d35448788627a07", "class_name": "RelatedNodeInfo"}}, "text": "No new data was collected for this work.\n22https://github.com/google-research/\ntext-to-text-transfer-transformer/blob/\nmaster/t5/data/preprocessors.py#L264Prompt Length T5 Size Time\n1 Large 3:17\u00b102:10\nXL 3:37\u00b102:11\nXXL 21:23\u00b101:54\n20 XL 49:08\u00b118:53\nXXL 53:03\u00b116:25\n50 Small 09:05\u00b105:07\nBase 55:01\u00b127:48\nLarge 1:14:16\u00b113:12\nXL 2:30:10\u00b125:40\nXXL 3:13:13\u00b123:08\n100 Small 16:25\u00b101:15\nBase 29:57\u00b100:18\nLarge 1:23:36\u00b110:21\nXL 3:35:00\u00b154:42\nXXL 3:51:15\u00b145:53\nTable 5: Mean and standard deviation of the runtime\nuntil convergence for the BoolQ dataset and various\nprompt lengths and model sizes.", "start_char_idx": 2025, "end_char_idx": 2612, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "5157b87f-f235-4adf-88e3-c6ae7e57640c": {"__data__": {"id_": "5157b87f-f235-4adf-88e3-c6ae7e57640c", "embedding": null, "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "5412a96d-8d4f-4284-bab0-69537b32ca43", "node_type": "4", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "e0e069e9ca3b22ce573393121a17287569ea2db6bf5d45a98bf4fcc268494792", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e87b2787-183a-4354-aa71-b82e3008a006", "node_type": "1", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "c1d899fc1e3a98aec968cc9540dff61f0fdd065041c7e252ac06179e2b201a64", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "70e28532-8bcf-485c-957e-2c0383865a9d", "node_type": "1", "metadata": {}, "hash": "3282063f27775f6946b8c46722efa158c589ec757cd7a31c4b8017782b5512a3", "class_name": "RelatedNodeInfo"}}, "text": "Convergence is de-\n\ufb01ned as reaching a performance within 1% of the mean\nvalue for that model con\ufb01guration. A few con\ufb01gura-\ntions have been omitted because their runtimes were\narti\ufb01cially extended due to preemption.", "start_char_idx": 2613, "end_char_idx": 2827, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "70e28532-8bcf-485c-957e-2c0383865a9d": {"__data__": {"id_": "70e28532-8bcf-485c-957e-2c0383865a9d", "embedding": null, "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4c0250a9-5f43-4c9a-8b7d-1354a2d10e13", "node_type": "4", "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "71badfa87b1f3c3c6d030d4c81c9923d18ec9dd7de00c195d6d2c580deaf4ef9", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5157b87f-f235-4adf-88e3-c6ae7e57640c", "node_type": "1", "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "4346224ff96329df4216e2fc2467a616a68621ea5f61f72ca44098abf4c85c35", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "fdc6f7e7-6e8e-4c92-88d4-180f26b58a3d", "node_type": "1", "metadata": {}, "hash": "38384b64674c1c0a1b2695da02a1fabdeba06a9bb16d2043a825574158922235", "class_name": "RelatedNodeInfo"}}, "text": "Hyperparameter Search Space\nLearning Rate 0.001\u20130.5\nParameter Scaling {True, False}\nBatch Size {32,64,126,256,512}\nNumber of Steps {10,000,20,000,30,000}\nWarmup Steps {off,2,000,3,000}\nDecay Factor {off,0.1,0.5}\nSteps per Decay {off,4,000,6,000,8,000}\nTable 6: Search space for each hyperparameter consid-\nered. Parameter Scaling refers to the Adafactor setting\nwhere an update is scaled by the norm of the parameter\nit will be applied to. Warmup Steps is the number of\nsteps before a linearly increasing learning rate reaches\nthe Learning Rate value, starting from zero. Decay Fac-\ntor is the reduction in Learning Rate size that occurs\nevery \u201cSteps per Decay\u201d steps.", "start_char_idx": 0, "end_char_idx": 668, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "fdc6f7e7-6e8e-4c92-88d4-180f26b58a3d": {"__data__": {"id_": "fdc6f7e7-6e8e-4c92-88d4-180f26b58a3d", "embedding": null, "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4c0250a9-5f43-4c9a-8b7d-1354a2d10e13", "node_type": "4", "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "71badfa87b1f3c3c6d030d4c81c9923d18ec9dd7de00c195d6d2c580deaf4ef9", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "70e28532-8bcf-485c-957e-2c0383865a9d", "node_type": "1", "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "c12cbac0df625d18238b1c2d5f9e4f954477c938ef26294eaf8fcb1c6e045f05", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8cbc165c-2d76-43a3-9f66-e065f5c4df18", "node_type": "1", "metadata": {}, "hash": "e7a0b9fffd53537a06db92b86a6cd10ee8abfc3ac37a072d63d1fce19f4f2e89", "class_name": "RelatedNodeInfo"}}, "text": "Decay Fac-\ntor is the reduction in Learning Rate size that occurs\nevery \u201cSteps per Decay\u201d steps.\nDataset Training Validation Testing\nBoolQ 9,427 3 ,270 3 ,245\nCB 250 56 250\nCOPA 400 100 500\nMultiRC 27,243 4 ,848 9 ,693\nReCoRD 100,730 10 ,000 10 ,000\nRTE 2,490 277 3 ,000\nWiC 5,428 638 1 ,400\nWSC 259\u2217104 146\nMRPC 3,668 408 1 ,725\nQQP 363,849 40 ,430 390 ,965\nSQuAD 87,599 10 ,570 -\nTextbookQA - 1,504 -\nRACE - 1,503 -\nBioASQ - 1,501 -\nRE - 674 -\nDuoRC - 2,948 -\nDROP - 1,503 -\nTable 7: Sizes for training, validation, and testing splits\nof each dataset used.\u2217Following T5, our casting of\nWSC as a text generation problems means we can only\ntrain on examples where the supplied referent is correct.", "start_char_idx": 572, "end_char_idx": 1269, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "8cbc165c-2d76-43a3-9f66-e065f5c4df18": {"__data__": {"id_": "8cbc165c-2d76-43a3-9f66-e065f5c4df18", "embedding": null, "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4c0250a9-5f43-4c9a-8b7d-1354a2d10e13", "node_type": "4", "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "71badfa87b1f3c3c6d030d4c81c9923d18ec9dd7de00c195d6d2c580deaf4ef9", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "fdc6f7e7-6e8e-4c92-88d4-180f26b58a3d", "node_type": "1", "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "014bad30989d4388daef4088a33b325177a2fd379dbb0360b5e4627e5982e430", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d60b8220-4d55-4832-b3c8-cca47a98eeea", "node_type": "1", "metadata": {}, "hash": "21eb33708e52d6d99a70ecb97ebf8a6e68caafff4504e0e587080acde9722a04", "class_name": "RelatedNodeInfo"}}, "text": "This means our training dataset is smaller than the nor-\nmal WSC training dataset, which has 554examples.\nSplit False True\nTraining 37.7 62 .3\nValidation 37.8 62 .2\nTable 8: Label distribution for the BoolQ dataset.\nSplit contradiction entailment neutral\nTraining 47.6 46 .0 6 .4\nValidation 50.0 41 .1 8 .9\nTable 9: Label distribution for the CB dataset.\nSplit choice1 choice2\nTraining 48.8 51 .2\nValidation 55.0 45 .0\nTable 10: Label distribution for the COPA dataset.Split False True\nTraining 55.9 44 .1\nValidation 57.2 42 .8\nTable 11: Label distribution for the MultiRC dataset.\nSplit False True\nTraining 50.0 50 .0\nValidation 50.0 50 .0\nTable 12: Label distribution for the WiC dataset.\nSplit False True\nTraining 0.0 100 .0\nValidation 63.5 36 .5\nTable 13: Label distribution for the WSC dataset.", "start_char_idx": 1270, "end_char_idx": 2069, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d60b8220-4d55-4832-b3c8-cca47a98eeea": {"__data__": {"id_": "d60b8220-4d55-4832-b3c8-cca47a98eeea", "embedding": null, "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "4c0250a9-5f43-4c9a-8b7d-1354a2d10e13", "node_type": "4", "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "71badfa87b1f3c3c6d030d4c81c9923d18ec9dd7de00c195d6d2c580deaf4ef9", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8cbc165c-2d76-43a3-9f66-e065f5c4df18", "node_type": "1", "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "15cd05de8ad136d0987ed38a0581b25737aa5473bba3afb8b6e4ef1a4c53ea8d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6a1d1e47-f605-48c0-9199-8e26d608584a", "node_type": "1", "metadata": {}, "hash": "a3bdc52056c5907ca73aaaa8d6190fe0c97dc33438adc01d12dfe97f5aff7eda", "class_name": "RelatedNodeInfo"}}, "text": "Fol-\nlowing T5, we cast the WSC dataset to a free-form text\ngeneration task where the model generates the referent\nto the highlighted span instead predicting if the sup-\nplied entity is the correct referent of the highlighted\nspan. Thus, we only use training data where the sup-\nplied referent is correct making our training label dis-\ntribution focused entirely on True .\nSplit entailment not_entailment\nTraining 51.2 49 .8\nValidation 52.7 47 .3\nTable 14: Label distribution for the RTE dataset.\nSplit equivalent not_equivalent\nTraining 67.4 32 .6\nValidation 68.4 31 .6\nTable 15: Label distribution for the MRPC dataset.\nSplit duplicate not_duplicate\nTraining 36.9 63 .1\nValidation 36.8 63 .2\nTable 16: Label distribution for the QQP dataset.", "start_char_idx": 2070, "end_char_idx": 2813, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6a1d1e47-f605-48c0-9199-8e26d608584a": {"__data__": {"id_": "6a1d1e47-f605-48c0-9199-8e26d608584a", "embedding": null, "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "076b0591-03ca-493c-95a0-e342606a7489", "node_type": "4", "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6dd31c1c995cf86349c7687f43981212c5ee766b5d67518a18b5cdf72485a1c6", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d60b8220-4d55-4832-b3c8-cca47a98eeea", "node_type": "1", "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}, "hash": "cbbc73ea0f24f5b4a6f461b06933b70dc8a98467d7589eb7dc3929b1b2f33933", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4fa7df18-ab46-4b0c-815c-1a1cc7e311ee", "node_type": "1", "metadata": {}, "hash": "ac77342fd67127cac99634714293af875a435c900c19df76947efd5db0dd75c2", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nLONG LORA: E FFICIENT FINE-TUNING OF LONG -\nCONTEXT LARGE LANGUAGE MODELS\nYukang Chen1Shengju Qian1Haotian Tang2Xin Lai1\nZhijian Liu2Song Han2,3Jiaya Jia1\n1CUHK2MIT3NVIDIA\nABSTRACT\nWe present LongLoRA, an efficient fine-tuning approach that extends the context\nsizes of pre-trained large language models (LLMs), with limited computation cost.\nTypically, training LLMs with long context sizes is computationally expensive,\nrequiring extensive training hours and GPU resources. For example, training on\nthe context length of 8192 needs 16 \u00d7computational costs in self-attention layers\nas that of 2048. In this paper, we speed up the context extension of LLMs in\ntwo aspects. On the one hand, although dense global attention is needed during\ninference, fine-tuning the model can be effectively and efficiently done by sparse\nlocal attention.", "start_char_idx": 0, "end_char_idx": 883, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "4fa7df18-ab46-4b0c-815c-1a1cc7e311ee": {"__data__": {"id_": "4fa7df18-ab46-4b0c-815c-1a1cc7e311ee", "embedding": null, "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "076b0591-03ca-493c-95a0-e342606a7489", "node_type": "4", "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6dd31c1c995cf86349c7687f43981212c5ee766b5d67518a18b5cdf72485a1c6", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6a1d1e47-f605-48c0-9199-8e26d608584a", "node_type": "1", "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "e38e58f1a7ec5573589f573f846aec758721b5ce77c7f3e8fda04a87acae216d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d3d28ed6-ac1a-4ccf-9a26-4f6b39c6e9e4", "node_type": "1", "metadata": {}, "hash": "43218d27b79ef7f15c0c9cb1fd90c80e1cafb930c66b33bde1e8e2eec7f5d3e4", "class_name": "RelatedNodeInfo"}}, "text": "The proposed shifted sparse attention (S2-Attn) effectively enables\ncontext extension, leading to non-trivial computation saving with similar perfor-\nmance to fine-tuning with vanilla attention. Particularly, it can be implemented\nwith only two lines of code in training, while being optional in inference. On\nthe other hand, we revisit the parameter-efficient fine-tuning regime for context\nexpansion. Notably, we find that LoRA for context extension works well under\nthe premise of trainable embedding and normalization. LongLoRA combines this\nimproved LoRA with S2-Attn. LongLoRA demonstrates strong empirical results\non various tasks on Llama2 models from 7B/13B to 70B. LongLoRA extends\nLlama2 7B from 4k context to 100k, or Llama2 70B to 32k on a single 8 \u00d7A100\nmachine. LongLoRA extends models\u2019 context while retaining their original archi-\ntectures, and is compatible with most existing techniques, like Flash-Attention2.\nIn addition, we further conduct supervised fine-tuning with LongLoRA and our\nlong instruction-following LongAlpaca dataset.", "start_char_idx": 884, "end_char_idx": 1937, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d3d28ed6-ac1a-4ccf-9a26-4f6b39c6e9e4": {"__data__": {"id_": "d3d28ed6-ac1a-4ccf-9a26-4f6b39c6e9e4", "embedding": null, "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "076b0591-03ca-493c-95a0-e342606a7489", "node_type": "4", "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6dd31c1c995cf86349c7687f43981212c5ee766b5d67518a18b5cdf72485a1c6", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4fa7df18-ab46-4b0c-815c-1a1cc7e311ee", "node_type": "1", "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c38fdde6c5640bdab7963c2ed0f6ef662e6651b46fd20facfaf71aff3d617a12", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e5b021b0-6f69-4f91-bc8f-84be5c246e45", "node_type": "1", "metadata": {}, "hash": "7f9929e52af876146dfabb13aa57392b4a6b1792b81e41afc60d193c6fb56a75", "class_name": "RelatedNodeInfo"}}, "text": "In addition, we further conduct supervised fine-tuning with LongLoRA and our\nlong instruction-following LongAlpaca dataset. All our code, models, dataset, and\ndemo are available at github.com/dvlab-research/LongLoRA.\n2.662.522.482.782.942.983.732.42.93.43.9\n8192163643276865536Perplexity46.357.468.825.634.646.369.820406080\n8192163643276865536GPU memory\nFull FTLoRALongLoRA7.416.339.85.211.324.652.403060908192163643276865536Training hours\nContexthoursGB\nContextContextOOMOOM92.5\nFigure 1: LongLoRA closes the accuracy gap that between conventional LoRA and full fine-tuning,\nwhile still maintaining up to 1.8 \u00d7lower memory cost than full fine-tuning. Furthermore, LongLoRA\nimproves the training speed of LoRA by up to 1.8 \u00d7withS2-Attn.", "start_char_idx": 1814, "end_char_idx": 2550, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e5b021b0-6f69-4f91-bc8f-84be5c246e45": {"__data__": {"id_": "e5b021b0-6f69-4f91-bc8f-84be5c246e45", "embedding": null, "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "076b0591-03ca-493c-95a0-e342606a7489", "node_type": "4", "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6dd31c1c995cf86349c7687f43981212c5ee766b5d67518a18b5cdf72485a1c6", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d3d28ed6-ac1a-4ccf-9a26-4f6b39c6e9e4", "node_type": "1", "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "b6c639875d32b92ebe885e63bae63f26c3fbee0b078ede5ca2104475dbae4faa", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "bb7383ea-5694-4631-983b-2a7b0238d20a", "node_type": "1", "metadata": {}, "hash": "23e7d77b54fab2ce15dd84b65152bb427d570a62a8b3dbc2a105b871236bf108", "class_name": "RelatedNodeInfo"}}, "text": "Llama2-7B are fine-tuned to\nvarious context lengths with Flash-Attention2 (Dao, 2023) and DeepSpeed (Rasley et al., 2020) stage\n2 and evaluated on the proof-pile (Azerbayev et al., 2022) test set in perplexity.\n1 I NTRODUCTION\nLarge language models (LLMs) are typically trained with a pre-defined context size, such as 2048\ntokens for LLaMA (Touvron et al., 2023a) and 4096 tokens for Llama2 (Touvron et al., 2023b).\n1arXiv:2309.12307v3  [cs.CL]  8 Mar 2024", "start_char_idx": 2551, "end_char_idx": 3008, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "bb7383ea-5694-4631-983b-2a7b0238d20a": {"__data__": {"id_": "bb7383ea-5694-4631-983b-2a7b0238d20a", "embedding": null, "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125", "node_type": "4", "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c07a6846437159e61da96c2fa769a41ac2ae58b6b0d32f724041f03a2da043a8", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e5b021b0-6f69-4f91-bc8f-84be5c246e45", "node_type": "1", "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "ac69a48e6501d963aab7d302a366475d91649893065dcc14f6a3048e3a2babff", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "868d6ff7-55a8-4a15-a80a-3967288f6da3", "node_type": "1", "metadata": {}, "hash": "fea030de878c4fd7bcd87c782d7ccb0a4cf788604982566b503be23c4841b48c", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\n!Trainable\n\u2744FrozenNormpostMul(-headSelf-A1en(onFeed ForwardNorminput++Lora\n!\n!Embedding\n!\n!\n\u2744(b) Low-rank adaptx N\n\u2744Pa1ern 1 -w/o shi@(a) Shi3ed sparse a6en7onEach pa1ern in half heads\na\n!Norm (0.004%)a\n!Lora (0.12%) a\n\u2744 Linear Projec3on (96%) a\n!Embedding (1.94%)a\n\u2744Head (1.94%) (c) Propor5ons of Parameters (LLaMA7B for example) Pa1ern 2 -w/ shi@Combina(on\nFigure 2: Overview of LongLoRA . We introduce Shifted Sparse Attention (S2-Attn) during fine-\ntuning. The trained model retains original standard self-attention at inference time. In addition to\ntraining LoRA weights in linear layers, LongLoRA further makes embedding and normalization\nlayers trainable. This extension is pivotal for context extension, and only introduces a minimal\nnumber of additional trainable parameters.", "start_char_idx": 0, "end_char_idx": 829, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "868d6ff7-55a8-4a15-a80a-3967288f6da3": {"__data__": {"id_": "868d6ff7-55a8-4a15-a80a-3967288f6da3", "embedding": null, "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125", "node_type": "4", "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c07a6846437159e61da96c2fa769a41ac2ae58b6b0d32f724041f03a2da043a8", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "bb7383ea-5694-4631-983b-2a7b0238d20a", "node_type": "1", "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "7ce4d693b90fe933d9060611f8354035231da66c34394f59acaee258afbd7f6c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1c3f8943-f580-4ab2-a51d-7effd6b4a694", "node_type": "1", "metadata": {}, "hash": "398ac364f646f7a243f88edae4703cb6fbacfca5af044e9a038652e868b7a135", "class_name": "RelatedNodeInfo"}}, "text": "This extension is pivotal for context extension, and only introduces a minimal\nnumber of additional trainable parameters.\nHowever, the pre-defined size limits LLMs in many applications, like summarizing long documents\nor answering long questions. To resolve this limitation, some recent works (Chen et al., 2023;\nTworkowski et al., 2023; Mohtashami & Jaggi, 2023) train or fine-tune LLMs to longer context.\nHowever, training an LLM from scratch with long sequences poses computational challenges, and\nfine-tuning an existing pre-trained LLM is also considerably expensive. For instance, Position\nInterpolation (Chen et al., 2023) spent 32 A100 GPUs to extend LLaMA models from 2k to 8k\ncontext, and 128 A100 GPUs for longer context fine-tuning. FOT (Tworkowski et al., 2023) used 32\nTPUs for standard transformer training and 128 TPUs for LongLLaMA. These computation resources\nare typically unaffordable for common researchers, which naturally leads us to question: can we\nextend the context window of LLMs efficiently?", "start_char_idx": 708, "end_char_idx": 1728, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1c3f8943-f580-4ab2-a51d-7effd6b4a694": {"__data__": {"id_": "1c3f8943-f580-4ab2-a51d-7effd6b4a694", "embedding": null, "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125", "node_type": "4", "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c07a6846437159e61da96c2fa769a41ac2ae58b6b0d32f724041f03a2da043a8", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "868d6ff7-55a8-4a15-a80a-3967288f6da3", "node_type": "1", "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "df3dcdd9dc50148f782044c75f45fafd70cd6164f5e1f225ad7b9b209c5cd1b9", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f4691375-1a53-4ef5-a021-144bdce3101b", "node_type": "1", "metadata": {}, "hash": "4b49ba70273fb97695e39f318def5f320d9487f5e2181593b81b94130ee58fc8", "class_name": "RelatedNodeInfo"}}, "text": "One straightforward approach is to fine-tune a pre-trained LLM via low-rank adaptation (LoRA) (Hu\net al., 2022). LoRA modifies the linear projection layers in self-attention blocks by utilizing low-rank\nmatrices, which are generally efficient and reduce the number of trainable parameters. However, our\nempirical findings indicate that training long context models in this manner is neither sufficiently\neffective nor efficient. In terms of effectiveness , plain low-rank adaptation results in a high perplexity\nin long context extension, as in Table 2. Increasing the rank to a higher value, e.g., rank = 256,\ndoes not alleviate this issue. In terms of efficiency , regardless of whether LoRA is employed or not,\ncomputational cost increases dramatically as the context size expands, primarily due to the standard\nself-attention mechanism (Vaswani et al., 2017). As shown in Figure 1, even with LoRA, the training\nhours for the standard Llama2 model increase substantially when the context window expands.", "start_char_idx": 1729, "end_char_idx": 2735, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "f4691375-1a53-4ef5-a021-144bdce3101b": {"__data__": {"id_": "f4691375-1a53-4ef5-a021-144bdce3101b", "embedding": null, "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125", "node_type": "4", "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c07a6846437159e61da96c2fa769a41ac2ae58b6b0d32f724041f03a2da043a8", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1c3f8943-f580-4ab2-a51d-7effd6b4a694", "node_type": "1", "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "d8acccfc7518e7a53f3b923a27b4aff4308382239861ccbafad8437ca2fad97e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "89907f38-28a3-494e-9a91-d93eb9c2ab56", "node_type": "1", "metadata": {}, "hash": "fe0ba78f11e52dc7efa94716c0f47a716804a9a8c2e9ef4f756aec05b52c983d", "class_name": "RelatedNodeInfo"}}, "text": "In this work, we introduce LongLoRA, an efficient fine-tuning approach that extends the context\nwindows of pre-trained LLMs, e.g., Llama2 (Touvron et al., 2023b). LoRA (Hu et al., 2022) uses\nlow-rank weight updates to approximate full fine-tuning. Similarly, we find that short attention is\nalso able to approximate long context during training. We present shifted sparse attention (S2-Attn)\nas an efficient substitute for standard self-attention. As shown in Figure 2, we split context length\ninto several groups and conduct attention in each group individually. In half attention heads, we shift\nthe tokens by half group size, which ensures the information flow between neighboring groups. For\nexample, we use S2-Attn with group size 2048 to approximate the total 8192 context length training.\nThis shares a high-level spirit with Swin Transformer (Liu et al., 2021).\nModels fine-tuned via S2-Attn retain the original attention architecture during inference. This\nfacilitates most existing optimization and infrastructure. Techniques for common LLMs can also be\napplied to ours.", "start_char_idx": 2736, "end_char_idx": 3816, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "89907f38-28a3-494e-9a91-d93eb9c2ab56": {"__data__": {"id_": "89907f38-28a3-494e-9a91-d93eb9c2ab56", "embedding": null, "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125", "node_type": "4", "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c07a6846437159e61da96c2fa769a41ac2ae58b6b0d32f724041f03a2da043a8", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f4691375-1a53-4ef5-a021-144bdce3101b", "node_type": "1", "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "ccbd74af22092502820cba47a2f68f95d4785a6cdbf180d013878a527ec0035b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "14dbc3fd-acdc-45c1-a7fe-99ee88353fd2", "node_type": "1", "metadata": {}, "hash": "3c4db906aabd3902c8f87478d739714bb02cc0b3b6600bfeb36aa6ae96352d90", "class_name": "RelatedNodeInfo"}}, "text": "This\nfacilitates most existing optimization and infrastructure. Techniques for common LLMs can also be\napplied to ours. For example, Flash-Attention2 (Dao et al., 2022; Dao, 2023) is compatible with our\nmethod in both training and inference time. The reason behind this is that short attention resembles\nthe attention scheme in the pre-training stage of LLMs. Other efficient attentions, e.g., dilated or\nsparse attention, have a large gap to the standard style and do not work well like ours, as in Table 6.\nWe empirically show that learnable embedding and normalization layers are the key to unlocking\nlong context LoRA fine-tuning, in Table 2. Embedding and normalization layers take up a small\n2", "start_char_idx": 3697, "end_char_idx": 4396, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "14dbc3fd-acdc-45c1-a7fe-99ee88353fd2": {"__data__": {"id_": "14dbc3fd-acdc-45c1-a7fe-99ee88353fd2", "embedding": null, "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "10f729b0-768c-434e-8b65-113ce3516db3", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "4963fc5809ddfe8a173611fdd30ab87b4fdc33ecef856d6e0bfef54db617ff6b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "89907f38-28a3-494e-9a91-d93eb9c2ab56", "node_type": "1", "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "f61dd6ac29be30731668ddd4d9bdadcb7bab85f62669428ecc1449a41ed03287", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "dbadf7a5-cfd6-42d4-9ebb-61cfac8d5546", "node_type": "1", "metadata": {}, "hash": "d3ff477570d1e455bccd33406d2c3390b44d416a6a7e8ba39b07000f99c5a236", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nStep 2Shi$ tokensStep 3ReshapeGroupsizeHalf group\nSelf-a8en9on in each groupTokensMul9-headsSelf-a8en9on among all tokensSelf-attentionShifted short attentionStep 1Split headsHalf heads\nStep 2Shi$Step 3GroupHalf\nS2-AttnStep 1SplitHalf headsAttention w/o shift!\"Attention w shift12345678TokensHeads123456788123456712345678123456781234567881234567Group\nPa8ern1!\"Pa8ern2Pa8ern1Pa8ern2InputsSplit a8en9on headsinto 2 partsShi$ the 2ndpartby half group\nFigure 3: Illustration of S2-Attn . It involves three steps. First, it splits features along the head\ndimension into two chunks. Second, tokens in one of the chunks are shifted by half of the group size.\nThird, we split tokens into groups and reshape them into batch dimensions. Attention only computes\nin each group in ours while the information flows between groups via shifting.", "start_char_idx": 0, "end_char_idx": 874, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "dbadf7a5-cfd6-42d4-9ebb-61cfac8d5546": {"__data__": {"id_": "dbadf7a5-cfd6-42d4-9ebb-61cfac8d5546", "embedding": null, "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "10f729b0-768c-434e-8b65-113ce3516db3", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "4963fc5809ddfe8a173611fdd30ab87b4fdc33ecef856d6e0bfef54db617ff6b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "14dbc3fd-acdc-45c1-a7fe-99ee88353fd2", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "30d8105994bd4f9570cb93580154b53504924048b01c9537afd881f02aec2b65", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "dd99acec-a2df-410d-926e-9d30bdf67e9b", "node_type": "1", "metadata": {}, "hash": "70fe0959402bf7249acc06d12c494b70a6789cf43f87ef18c4b8eebbb2a9ffb3", "class_name": "RelatedNodeInfo"}}, "text": "Attention only computes\nin each group in ours while the information flows between groups via shifting. Potential information\nleakage might be introduced by shifting, while this is easy to prevent via a small modification on the\nattention mask. We ablate this in the variant 2 in Section B.3 in the appendix.\nproportion of parameters in the entire LLM. For example, embedding has ( <2%) parameters, and\nnormalization has ( \u22640.004%) parameters in Llama2 7B. This ratio decreases for even larger LLMs.\nIn experiments, we show that LongLoRA is effective and efficient. We present experimental results\nof extending the context window for Llama2 7B, 13B, and 70B. Following the experimental settings\nof Position Interpolation (Chen et al., 2023), we fine-tune models with proper position embeddings.\nThe trained models achieve comparable performance to the full-attention and fully fine-tuned results,\nwhile the computational cost is much less as shown in Figure 1.", "start_char_idx": 772, "end_char_idx": 1731, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "dd99acec-a2df-410d-926e-9d30bdf67e9b": {"__data__": {"id_": "dd99acec-a2df-410d-926e-9d30bdf67e9b", "embedding": null, "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "10f729b0-768c-434e-8b65-113ce3516db3", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "4963fc5809ddfe8a173611fdd30ab87b4fdc33ecef856d6e0bfef54db617ff6b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "dbadf7a5-cfd6-42d4-9ebb-61cfac8d5546", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "05abc2436fd32c24fe3dd4248aa162a5a9f4e5ccda34a903564fa3a7b5dd3d9a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0769553f-3384-4345-a5a8-6da62ee91411", "node_type": "1", "metadata": {}, "hash": "7acd7eade6f0f541b603330f66c051dd9a9aedb6bd6fa6c5d4eed96104a34ce7", "class_name": "RelatedNodeInfo"}}, "text": "LongLoRA can fine-tune Llama2 7B\nup to 100k context, or a 70B model up to 32k, on a single 8\u00d7A100 machine.\nIn addition, we present a solution for supervised fine-tuning (SFT) with our self-collected long\ninstruction-following dataset, LongAlpaca. Our LongLoRA models are further fine-tuned with long\nquestions and the corresponding answers. We design various types of questions for technical papers,\nscience fiction, and other books. SFT is important for improving the chat ability of LLMs. We\nintroduce our SFT settings in Section B.6 in the appendix.\n2 R ELATED WORK\nLong-context Transformers. A large body of research has been developed to increase the context\nlength of transformers. Some of these approaches are retrieval-based (Karpukhin et al., 2020; Izacard\net al., 2022; Guu et al., 2020), which augment language models via fetching related documents and\nincluding the retrieved results into contexts. Our work is complementary to these works, as our\nattention mechanism is unmodified during inference.", "start_char_idx": 1732, "end_char_idx": 2743, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "0769553f-3384-4345-a5a8-6da62ee91411": {"__data__": {"id_": "0769553f-3384-4345-a5a8-6da62ee91411", "embedding": null, "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "10f729b0-768c-434e-8b65-113ce3516db3", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "4963fc5809ddfe8a173611fdd30ab87b4fdc33ecef856d6e0bfef54db617ff6b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "dd99acec-a2df-410d-926e-9d30bdf67e9b", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "806849044295f709a79f95790de012adb246234c57b11852213a0172dc54ae27", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "34a59c41-312b-4894-8530-a9a6278faed1", "node_type": "1", "metadata": {}, "hash": "6936a4e95601d47607d53fbdbcb1ac6c273306d5513d2f86de961ecde1fff3a3", "class_name": "RelatedNodeInfo"}}, "text": "Our work is complementary to these works, as our\nattention mechanism is unmodified during inference. Many works modify multi-head attention to be\napproximated ones (Wang et al., 2020; Beltagy et al., 2020; Zaheer et al., 2020; Kitaev et al., 2020;\nBulatov et al., 2022; Ding et al., 2023; Qiu et al., 2020). They alleviate the quadratic complexity of\nthe self-attention computation. For example, Longformer (Beltagy et al., 2020) and BigBird (Zaheer\net al., 2020) use sparse attention to handle long sequences. Other works (Wu et al., 2022; Bulatov\net al., 2022) utilize memory mechanisms as a compression on past inputs, to look up relevant tokens.\nOne limitation of these works is that these compressions have a large gap to full attention, making\nit infeasible to fine-tune pre-trained LLMs. Although our work also involves an approximation of\nattention mechanism, it has a similar shape and a small gap to standard attention.", "start_char_idx": 2643, "end_char_idx": 3572, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "34a59c41-312b-4894-8530-a9a6278faed1": {"__data__": {"id_": "34a59c41-312b-4894-8530-a9a6278faed1", "embedding": null, "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "10f729b0-768c-434e-8b65-113ce3516db3", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "4963fc5809ddfe8a173611fdd30ab87b4fdc33ecef856d6e0bfef54db617ff6b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0769553f-3384-4345-a5a8-6da62ee91411", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "634a5cab0cc138fd8e62c0b2226a9bdc1eab142521e1baa713fbd7c9defc81ff", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d1fba956-8088-42f6-b2ec-a26a2400b259", "node_type": "1", "metadata": {}, "hash": "f5b1fea5ed8d71e5ac060929082f8377320188ce149c74e70f6a74618b40529b", "class_name": "RelatedNodeInfo"}}, "text": "Although our work also involves an approximation of\nattention mechanism, it has a similar shape and a small gap to standard attention. This enables\nfine-tuning pre-trained LLMs on S2-Attn and maintain full attention during inference.\nLong-context LLMs. LLMs are typically pre-trained with a pre-defined context length, such as\n2048 for LLaMA (Touvron et al., 2023a) and 4096 for Llama2 (Touvron et al., 2023b). Training LLMs\nwith long context from scratch is prohibitively expensive for most researchers. Recently, several\nworks have tried to extend the context length of LLMs via fine-tuning. Position Interpolation (Chen\net al., 2023) modifies rotary position encoding (Su et al., 2021) and extends the context length of\nLLaMA to 32768. Focused Transformer (Tworkowski et al., 2023) utilizes contrastive learning\nto train LongLLaMA. Both of them rely on full fine-tuning, which is computationally expensive\n(128 A100 GPUs / 128 TPUv3 for training).", "start_char_idx": 3438, "end_char_idx": 4388, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d1fba956-8088-42f6-b2ec-a26a2400b259": {"__data__": {"id_": "d1fba956-8088-42f6-b2ec-a26a2400b259", "embedding": null, "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "10f729b0-768c-434e-8b65-113ce3516db3", "node_type": "4", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "4963fc5809ddfe8a173611fdd30ab87b4fdc33ecef856d6e0bfef54db617ff6b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "34a59c41-312b-4894-8530-a9a6278faed1", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "14f0f3f48207077acd81427ce15f840317fed93fd7171df817ca2cef3e81d515", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "dc55f1f3-5dbf-456d-9775-b24a5252a98e", "node_type": "1", "metadata": {}, "hash": "322331becd9488c0a0f67c1f56d984ec8c7b11b20effdedeb4749e2a1a4ca068", "class_name": "RelatedNodeInfo"}}, "text": "Landmark attention (Mohtashami & Jaggi, 2023) is an\n3", "start_char_idx": 4389, "end_char_idx": 4442, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "dc55f1f3-5dbf-456d-9775-b24a5252a98e": {"__data__": {"id_": "dc55f1f3-5dbf-456d-9775-b24a5252a98e", "embedding": null, "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "90155421-7049-46a8-a9de-d77626055f28", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a805057fee31841cba092e63eb61b704af42513c8e2bf73b6bc44fc6d5e15712", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d1fba956-8088-42f6-b2ec-a26a2400b259", "node_type": "1", "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "1b291fd7cb5f90ce2fca2f7fc477122b83c28e86e38a8d49193fe80f708065ea", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ecf2b887-4c8f-44b1-ac6e-92c182c71348", "node_type": "1", "metadata": {}, "hash": "db404724e423cebd9bd7144f1ceb30fca7976f9b1880185e195a36b28d0f0cd2", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nTable 1: Effectiveness of S2-Attn under different context lengths . \u2018Short\u2019 means 1/4 of the target\ncontext length, while \u2018Long\u2019 equals to the target context length. Models are fully fine-tuned upon\na Llama2 (Touvron et al., 2023b) model with 7B parameters on the RedPajama (Computer, 2023)\ndataset. Results are tested in perplexity on PG19 (Rae et al., 2020) validation split.\nSetting Position EmbeddingTraining Target Context Length\nAttention Shift 8192 16384 32768\nFull Attn\nPI (Chen et al., 2023)Long - 8.02 8.05 8.04\nShort Attn Short \u2717 8.29 8.83 9.47\nS2-Attn Short \u2713 8.04 8.03 8.08\nefficient approach, but somewhat lossy. It compresses long context inputs into retrieved tokens. Our\nmethod saves substantial fine-tuning costs, while preserving the quality of the original attention.", "start_char_idx": 0, "end_char_idx": 832, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "ecf2b887-4c8f-44b1-ac6e-92c182c71348": {"__data__": {"id_": "ecf2b887-4c8f-44b1-ac6e-92c182c71348", "embedding": null, "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "90155421-7049-46a8-a9de-d77626055f28", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a805057fee31841cba092e63eb61b704af42513c8e2bf73b6bc44fc6d5e15712", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "dc55f1f3-5dbf-456d-9775-b24a5252a98e", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "dba274dc1f9433bd6a903526574782edeb819036884623975080a2391b134a9f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e7c230db-c916-4ccb-b5a0-2647058cd4e6", "node_type": "1", "metadata": {}, "hash": "fa4f19bb1f87711e655b1a3bd97170401976cbac73680b782e328e8313038c0c", "class_name": "RelatedNodeInfo"}}, "text": "Our\nmethod saves substantial fine-tuning costs, while preserving the quality of the original attention. Ours\nmaintain full access to the entire input via unmodified attention during inference.\nSome literature focuses on the position embedding modification of LLMs for long context extension,\nincluding Position Interpolation (Chen et al., 2023), NTK-aware (ntk, 2023), Yarn (Peng et al., 2023),\npositional Skipping (Zhu et al., 2023), and methods based on out-of-distribution analysis (Han et al.,\n2023). Our method focuses on efficient fine-tuning and retaining the original architecture during\ninference, which is orthogonal to these position embedding methods.\nEfficient Fine-tuning. This work is based on LoRA (Hu et al., 2022), a classical efficient fine-tuning\napproach.", "start_char_idx": 729, "end_char_idx": 1505, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e7c230db-c916-4ccb-b5a0-2647058cd4e6": {"__data__": {"id_": "e7c230db-c916-4ccb-b5a0-2647058cd4e6", "embedding": null, "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "90155421-7049-46a8-a9de-d77626055f28", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a805057fee31841cba092e63eb61b704af42513c8e2bf73b6bc44fc6d5e15712", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ecf2b887-4c8f-44b1-ac6e-92c182c71348", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "d15d0145a59b614355e3be839b3fd79ba0c5fa930dfabb61c0a921818d8dc96d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "70325e35-f4f0-4201-861b-9523e8f168be", "node_type": "1", "metadata": {}, "hash": "5c1faadf26c59e7e4197b38acfac24bba26a7c1b183c40d3fd6014701a0183b4", "class_name": "RelatedNodeInfo"}}, "text": "This work is based on LoRA (Hu et al., 2022), a classical efficient fine-tuning\napproach. In addition to LoRA (Hu et al., 2022), there are many other parameter-efficient fine-tuning\nmethods, including prompt tuning (Lester et al., 2021), prefix tuning (Li & Liang, 2021), hidden state\ntuning (Liu et al., 2022), bias tuning (Zaken et al., 2022), and masked weight learning (Sung et al.,\n2021). Input-tuning (An et al., 2022) introduces an adapter to tune input embedding. Although the\ninput embedding layers are also trainable in ours, this is not enough for long context extension. We\nmake a comprehensive analysis on layer types in experiments, in Table 2. Existing work (Chen et al.,\n2022) shows sparse masks can effectively save training costs and avoid performance drops.\n3 L ONG LORA\n3.1 B ACKGROUND\nTransformer. LLMs are typically built with transformers.", "start_char_idx": 1416, "end_char_idx": 2278, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "70325e35-f4f0-4201-861b-9523e8f168be": {"__data__": {"id_": "70325e35-f4f0-4201-861b-9523e8f168be", "embedding": null, "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "90155421-7049-46a8-a9de-d77626055f28", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a805057fee31841cba092e63eb61b704af42513c8e2bf73b6bc44fc6d5e15712", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e7c230db-c916-4ccb-b5a0-2647058cd4e6", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "5591749685f0d8051c47ecaee5c4677c6fca82ed07b99fadebeccc79f6049d47", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8f9b3632-0e72-46a4-bf35-bb9a6c677149", "node_type": "1", "metadata": {}, "hash": "82a54cfefaeda881f6a7c2a1cdce8595b9794eb3914ee3d09532c5226ce1f000", "class_name": "RelatedNodeInfo"}}, "text": "3 L ONG LORA\n3.1 B ACKGROUND\nTransformer. LLMs are typically built with transformers. Taking Llama2 (Touvron et al., 2023b)\nfor example, as shown in Figure 2, an LLM model consists of an embedding input layer and a number\nof decoder layers. Each decoder layer comprises a self-attention module. It maps input features\ninto a set of queries, keys, and values {q, k, v}, via linear projection layers with weight matrices\n{Wq, Wk, Wv}. Given {q, k, v}, it computes the outputs oas\no= softmax( qkT)v (1)\nThe outputs are then projected by a linear layer with a weight matrix Wo. And MLP layers are\nfollowed. Before and after self-attention modules, layer normalization (Ba et al., 2016) is applied. A\nfinal normalization is conducted after all decoder layers.\nFor long sequences, self-attention struggles with computation cost, which is quadratic to the sequence\nlength. This dramatically slows down the training procedure and increases GPU memory costs.\nLow-rank Adaptation.", "start_char_idx": 2193, "end_char_idx": 3163, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "8f9b3632-0e72-46a4-bf35-bb9a6c677149": {"__data__": {"id_": "8f9b3632-0e72-46a4-bf35-bb9a6c677149", "embedding": null, "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "90155421-7049-46a8-a9de-d77626055f28", "node_type": "4", "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a805057fee31841cba092e63eb61b704af42513c8e2bf73b6bc44fc6d5e15712", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "70325e35-f4f0-4201-861b-9523e8f168be", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3f767d8865780911c3f9f80d6535e1bfb836ef21da2a1f61afbbdf9b75afeac5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "49ce16cb-33f0-4c91-8f42-a76e5d17905d", "node_type": "1", "metadata": {}, "hash": "f713175b5f62d185f07b0f1b1b4c2d71d5f812220f391bc47a7c3d14596d89b5", "class_name": "RelatedNodeInfo"}}, "text": "This dramatically slows down the training procedure and increases GPU memory costs.\nLow-rank Adaptation. LoRA (Hu et al., 2022) hypothesizes that the weight updates in pre-trained\nmodels have a low intrinsic rank during adaptation. For a pre-trained weight matrix W\u2208Rd\u00d7k, it is\nupdated with a low-rank decomposition W+ \u2206W=W+BA, where B\u2208Rd\u00d7randA\u2208Rr\u00d7k.\nThe rank r\u226amin(d, k). During training, Wis frozen with no gradient updates, while A and B are\ntrainable. This is the reason why LoRA training is much more efficient than full fine-tuning.\nIn the Transformer structure, LoRA only adapts the attention weights ( Wq, Wk, Wv, Wo) and freezes\nall other layers, including MLP and normalization layers. This manner is simple and parameter-\nefficient. However, we empirically show that only low-rank adaptation in attention weights does not\nwork for long context extension.\n4", "start_char_idx": 3059, "end_char_idx": 3926, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "49ce16cb-33f0-4c91-8f42-a76e5d17905d": {"__data__": {"id_": "49ce16cb-33f0-4c91-8f42-a76e5d17905d", "embedding": null, "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e26e8403-ad68-44a2-b3df-46b33c406463", "node_type": "4", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "66c31170505404d19d1ae297f62cb6988b8b2d2255225bed758c5888c684cdac", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8f9b3632-0e72-46a4-bf35-bb9a6c677149", "node_type": "1", "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "518b7d24f7af801c6801d64e7892b4d934b370bd339f77cca4fad9cd23d9b2b3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9e074030-eaeb-4a98-90bf-b0fd05655bf8", "node_type": "1", "metadata": {}, "hash": "d8e72f8b524e1bec57f4220838975e7383427bb18082e6ac1f105d29269639a5", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nAlgorithm 1: Pseudocode of S2-Attn in PyTorch-like style.", "start_char_idx": 0, "end_char_idx": 102, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "9e074030-eaeb-4a98-90bf-b0fd05655bf8": {"__data__": {"id_": "9e074030-eaeb-4a98-90bf-b0fd05655bf8", "embedding": null, "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e26e8403-ad68-44a2-b3df-46b33c406463", "node_type": "4", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "66c31170505404d19d1ae297f62cb6988b8b2d2255225bed758c5888c684cdac", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "49ce16cb-33f0-4c91-8f42-a76e5d17905d", "node_type": "1", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "e1757b735606f37d9069650760ece8927a800e3ccea0ee8ffcf8745bbb7cd2d3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b350f3cb-f577-401b-919b-242ca1799428", "node_type": "1", "metadata": {}, "hash": "fe196402d8966048df7c6728e1e87227e648c58f16bc51858da484ec873d5254", "class_name": "RelatedNodeInfo"}}, "text": "# B: batch size; S: sequence length or number of tokens; G: group size;\n# H: number of attention heads; D: dimension of each attention head\n# qkv in shape (B, N, 3, H, D), projected queries, keys, and values\n# Key line 1: split qkv on H into 2 chunks, and shift G/2 on N\nqkv = cat((qkv.chunk(2, 3)[0], qkv.chunk(2, 3)[1].roll(-G/2, 1)), 3).view(B *N/G,G,3,H,D)\n# standard self-attention function\nout = self_attn(qkv)\n# out in shape (B, N, H, D)\n# Key line 2: split out on H into 2 chunks, and then roll back G/2 on N\nout = cat((out.chunk(2, 2)[0], out.chunk(2, 2)[1].roll(G/2, 1)), 2)\ncat: concatenation; chunk : split into the specified number of chunks; roll : roll the tensor along the given dimension.", "start_char_idx": 103, "end_char_idx": 808, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b350f3cb-f577-401b-919b-242ca1799428": {"__data__": {"id_": "b350f3cb-f577-401b-919b-242ca1799428", "embedding": null, "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e26e8403-ad68-44a2-b3df-46b33c406463", "node_type": "4", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "66c31170505404d19d1ae297f62cb6988b8b2d2255225bed758c5888c684cdac", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9e074030-eaeb-4a98-90bf-b0fd05655bf8", "node_type": "1", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "5b8bb4b2e2a460656202d7e29805e718b2ecbc9bd77a6fd0e98e6509cb61c852", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "341b456d-500d-4ffe-8ee8-b1332b34cd16", "node_type": "1", "metadata": {}, "hash": "23c5222ee0034e5fe2042108f2742f18ef0ddf0442d8475e5f6dfafbd3983fec", "class_name": "RelatedNodeInfo"}}, "text": "3.2 S HIFTED SPARSE ATTENTION\nStandard self-attention costs O(n2)computations, making LLMs on long sequences high memory\ncost and slow. To avoid this issue during training, we propose Shifted Sparse Attention (S2-Attn), as\nshown in Figure 2. In the following, we make a pilot study and explain our design step by step.\nPilot Study. In Table 1, we build up a standard baseline that is trained and tested with full attention\nand fine-tuning, which presents consistently good quality in various context lengths. The first trial\nis to train with short attention, only pattern 1 in Figure 2. As we know for a long context, the high\ncost mainly comes from self-attention modules. Thus, in this trial, since the input is long, we split\ninto several groups in self-attention. For example, the model takes 8192 tokens as input in both the\ntraining and testing stages, but self-attention is conducted in each group with a 2048 size. The group\nnumber is 4, as ablated in Section B.2 in the appendix.", "start_char_idx": 809, "end_char_idx": 1797, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "341b456d-500d-4ffe-8ee8-b1332b34cd16": {"__data__": {"id_": "341b456d-500d-4ffe-8ee8-b1332b34cd16", "embedding": null, "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e26e8403-ad68-44a2-b3df-46b33c406463", "node_type": "4", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "66c31170505404d19d1ae297f62cb6988b8b2d2255225bed758c5888c684cdac", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b350f3cb-f577-401b-919b-242ca1799428", "node_type": "1", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "8e0183b98c22fbb8ef4ca49484c6ee639e20a4a185a40d724e3d86d03e740ff2", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "025d1992-ce81-4ae3-aca1-d34cf8e8bdb6", "node_type": "1", "metadata": {}, "hash": "7f42ee990c6742a4d3a6f2d4d41baf783ab5116a01099ab9f9176f77289c433a", "class_name": "RelatedNodeInfo"}}, "text": "The group\nnumber is 4, as ablated in Section B.2 in the appendix. This pattern is efficient but still does not work\nin a very long context, as shown in Table 1. The perplexity becomes larger as the context length\nincreases. The reason behind this is that there is no information exchange between different groups.\nTo introduce communication between groups, we include a shifted pattern, as shown in Figure 2. We\nshift the group partition by half group size in half attention heads. Taking the overall 8192 context\nlength for example, in pattern 1, the first group conducts self-attention from 1stto 2048thtokens.\nIn Pattern 2, the group partition is shifted by 1024. The first attention group begins from 1025th\nand ends at 3072thtokens, while the first and the last 1024 tokens belong to the same group. We\nuse patterns 1 and 2 in each half self-attention heads respectively. This manner does not increase\nadditional computation costs but enables the information flow between different groups. We show\nthat it gets close to the standard attention baseline in Table 1.\nConsistency to Full Attention.", "start_char_idx": 1732, "end_char_idx": 2831, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "025d1992-ce81-4ae3-aca1-d34cf8e8bdb6": {"__data__": {"id_": "025d1992-ce81-4ae3-aca1-d34cf8e8bdb6", "embedding": null, "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e26e8403-ad68-44a2-b3df-46b33c406463", "node_type": "4", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "66c31170505404d19d1ae297f62cb6988b8b2d2255225bed758c5888c684cdac", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "341b456d-500d-4ffe-8ee8-b1332b34cd16", "node_type": "1", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a66d2c9619c75af820b147fe077f83ee85ccae2a94abfac23f69410a06b8ea50", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "52dadbe4-bf3e-40ba-bfbc-43707fb9606b", "node_type": "1", "metadata": {}, "hash": "49947a9c6fc6df09b4e0d7c368611f46fedb1a4a5f2327c349df1761bcb85c91", "class_name": "RelatedNodeInfo"}}, "text": "We show\nthat it gets close to the standard attention baseline in Table 1.\nConsistency to Full Attention. Existing efficient attention designs can also improve the efficiency\nof long-context LLMs. However, most of them are not suitable for long-context fine-tuning. Because,\nthese transformers (Qiu et al., 2020; Child et al., 2019), designed for training from scratch, have gaps\nto the standard full attention, which is used in pre-training. In Table 6, we show that S2-Attn not\nonly enables efficient fine-tuning but also supports fullattention testing . Although other attentions\ncan also be used in long context fine-tuning, models must be tested with the attention used during\nfine-tuning. Shifting prevents models from being over-fitted to specific attention patterns.\nEasy Implementation. S2-Attn is easy to implement. It involves only two steps: (1) shifting tokens\nin half attention heads, and (2) transposing features from token dimension to batch dimension. Two\nlines of code are enough. We provide a PyTorch-style code in Algorithm 1.", "start_char_idx": 2727, "end_char_idx": 3772, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "52dadbe4-bf3e-40ba-bfbc-43707fb9606b": {"__data__": {"id_": "52dadbe4-bf3e-40ba-bfbc-43707fb9606b", "embedding": null, "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e26e8403-ad68-44a2-b3df-46b33c406463", "node_type": "4", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "66c31170505404d19d1ae297f62cb6988b8b2d2255225bed758c5888c684cdac", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "025d1992-ce81-4ae3-aca1-d34cf8e8bdb6", "node_type": "1", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a3733431039d3937b016e94bd2a9d7b05f025d5caee3fac7ae576d0391312ae7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b77ac205-bcd9-48f3-8c9c-baa5148d4bb4", "node_type": "1", "metadata": {}, "hash": "3f9da1a8e9a328cf57b7985688397a311bee2f1fef31515f27869581dda79047", "class_name": "RelatedNodeInfo"}}, "text": "Two\nlines of code are enough. We provide a PyTorch-style code in Algorithm 1.\n3.3 I MPROVED LORA FOR LONG CONTEXT\nLoRA (Hu et al., 2022) is an efficient and popular manner for adapting LLMs to other datasets. It\nsaves much trainable parameters and memory cost, compared to full fine-tuning. However, adapting\nLLMs from short context length to long is not easy. We empirically observe an obvious gap between\nLoRA and full fine-tuning. As shown in Table 2, the gap between LoRA and full fine-tuning grows\nas the target context length becomes larger. And LoRA with larger ranks cannot reduce the gap.\n5", "start_char_idx": 3695, "end_char_idx": 4294, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b77ac205-bcd9-48f3-8c9c-baa5148d4bb4": {"__data__": {"id_": "b77ac205-bcd9-48f3-8c9c-baa5148d4bb4", "embedding": null, "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b255242c-0458-4b0c-bab3-81db80ec97e5", "node_type": "4", "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "58014fba4b5e7e50ea702c9c1297186a1940f527c691085df70e28ef425d64d1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "52dadbe4-bf3e-40ba-bfbc-43707fb9606b", "node_type": "1", "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "051d756eb12fce4345f8eea6644426969f9338cc40913a596799bdaa1df057f5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1b463aff-a102-402d-9b79-af1b2b2394ff", "node_type": "1", "metadata": {}, "hash": "cf779febeab1d8d0537af8929ba739a66dddacc5584e3da86c7dd9bd5c384393", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nTable 2: Finetuning normalization and embedding layers is crucial for low-rank long-context\nadaptation . Llama2 7B (Touvron et al., 2023b) models with the proposed S2-Attn are trained on the\nRedPajama (Computer, 2023) dataset. The target context length is 32768. \u2018+ Normal / Embed\u2019 means\nnormalization or embedding layers are trainable. Perplexity results are evaluated on PG19 (Rae et al.,\n2020) validation set. For long context adaptation, there is a large performance gap between standard\nLoRA (Hu et al., 2022) and full fine-tuning. Without trainable normalization or embeddings, larger\nranks in LoRA can not close this gap.", "start_char_idx": 0, "end_char_idx": 673, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1b463aff-a102-402d-9b79-af1b2b2394ff": {"__data__": {"id_": "1b463aff-a102-402d-9b79-af1b2b2394ff", "embedding": null, "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b255242c-0458-4b0c-bab3-81db80ec97e5", "node_type": "4", "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "58014fba4b5e7e50ea702c9c1297186a1940f527c691085df70e28ef425d64d1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b77ac205-bcd9-48f3-8c9c-baa5148d4bb4", "node_type": "1", "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3ed484b4fbc586ecbf3c14c122b07fabfa5dfed998d480d32f2fac592612ee4c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d8f0ed1b-f31c-42f6-8582-7b31e49a1846", "node_type": "1", "metadata": {}, "hash": "a5635b1fc06956ef8120c9e6eb78123cf6d936b9074dee60aeff26995770c730", "class_name": "RelatedNodeInfo"}}, "text": "Without trainable normalization or embeddings, larger\nranks in LoRA can not close this gap.\nMethod Full FTLoRA (rank) LoRA (rank = 8)\n8 16 32 64 128 256 + Norm + Embed + Norm & Embed\nPPL 8.08 11.44 11.82 11.92 11.96 11.97 11.98 10.49 8.29 8.12\nTable 3: Perplexity evaluation on proof-pile (Rae et al., 2020) test split. S2-Attn: Shifted Sparse\nAttention. LoRA+: improved LoRA. We fine-tune Llama2 (Touvron et al., 2023b) in 7B and 13B\nmodel sizes on the RedPajama (Computer, 2023) dataset under 8k-32k context lengths. We show\nthat our method achieves comparable performance to the full attention or full FT baselines, with\nbetter efficiency. We use the same training setting as the model evaluated on PG19 (Rae et al., 2020)\nintroduced in Section B.1 in the appendix.", "start_char_idx": 582, "end_char_idx": 1350, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d8f0ed1b-f31c-42f6-8582-7b31e49a1846": {"__data__": {"id_": "d8f0ed1b-f31c-42f6-8582-7b31e49a1846", "embedding": null, "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b255242c-0458-4b0c-bab3-81db80ec97e5", "node_type": "4", "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "58014fba4b5e7e50ea702c9c1297186a1940f527c691085df70e28ef425d64d1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1b463aff-a102-402d-9b79-af1b2b2394ff", "node_type": "1", "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "7842935a7d39c2972045de8e323142b1997a42511cc4471b0307452d3c113f81", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1c8d4bfc-09d9-4539-9a62-d46920ced5c3", "node_type": "1", "metadata": {}, "hash": "b432c5cbe39d1abb060d2b34c23a2eab6c4218a0b4cc7217e61b9041469569fb", "class_name": "RelatedNodeInfo"}}, "text": "SizeTraining\nContext LengthLongLoRA Evaluation Context Length\nS2-Attn LoRA+2048 4096 8192 16384 32768\n7B81923.14 2.85 2.66 - -\n\u2713 3.15 2.86 2.68 - -\n\u2713 \u2713 3.20 2.91 2.72 - -\n16384\u2713 3.17 2.87 2.68 2.55 -\n\u2713 \u2713 3.17 2.87 2.66 2.51 -\n32768\u2713 3.20 2.90 2.69 2.54 2.49\n\u2713 \u2713 3.35 3.01 2.78 2.61 2.50\n13B81922.96 2.69 2.53 - -\n\u2713 3.01 2.74 2.57 - -\n\u2713 \u2713 3.04 2.77 2.60 - -\n16384\u2713 2.99 2.72 2.53 2.40 -\n\u2713 \u2713 3.03 2.74 2.55 2.", "start_char_idx": 1351, "end_char_idx": 1758, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1c8d4bfc-09d9-4539-9a62-d46920ced5c3": {"__data__": {"id_": "1c8d4bfc-09d9-4539-9a62-d46920ced5c3", "embedding": null, "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b255242c-0458-4b0c-bab3-81db80ec97e5", "node_type": "4", "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "58014fba4b5e7e50ea702c9c1297186a1940f527c691085df70e28ef425d64d1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d8f0ed1b-f31c-42f6-8582-7b31e49a1846", "node_type": "1", "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "99dbbe77d02ad7a54a2e673015dba14a2daa4d7539827df5be60539a0c18be58", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b33486d8-d301-4f79-8e3a-2a07dceb38d9", "node_type": "1", "metadata": {}, "hash": "f72215c9477b95952d678d5689e06457e13eca6ba27eef258f4dbbbbffdf9819", "class_name": "RelatedNodeInfo"}}, "text": "72 2.53 2.40 -\n\u2713 \u2713 3.03 2.74 2.55 2.41 -\n32768\u2713 3.04 2.75 2.56 2.42 2.33\n\u2713 \u2713 3.05 2.76 2.57 2.42 2.32\nTo bridge this gap, we open embedding and normalization layers for training. As shown in Table 2,\nthey occupy limited parameters but make effects for long context adaptation. Especially for normal-\nization layers, the parameters are only 0.004% in the whole Llama2 7B. We denote this improved\nversion of LoRA as LoRA+in experiments.\n4 E XPERIMENT\n4.1 E XPERIMENTAL SETTINGS\nModels We extend the pre-trained 7B, 13B, and 70B Llama2 (Touvron et al., 2023b) models. The\nmaximum extended context window sizes are up to 100k for 7B models, 65536 for 13B models,\nand 32768 for 70B models.", "start_char_idx": 1722, "end_char_idx": 2406, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b33486d8-d301-4f79-8e3a-2a07dceb38d9": {"__data__": {"id_": "b33486d8-d301-4f79-8e3a-2a07dceb38d9", "embedding": null, "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "b255242c-0458-4b0c-bab3-81db80ec97e5", "node_type": "4", "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "58014fba4b5e7e50ea702c9c1297186a1940f527c691085df70e28ef425d64d1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1c8d4bfc-09d9-4539-9a62-d46920ced5c3", "node_type": "1", "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c561842606d4a02ee18f3a60f63addb8adde5c01cb89ec1a0d267dbbf52fd29b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c4235c08-09e0-44af-b210-411d86d36c7f", "node_type": "1", "metadata": {}, "hash": "b7e6392403a2719d6f8bcdf84ba197a0ff98c6ed988dcbce01b8721cf8830c32", "class_name": "RelatedNodeInfo"}}, "text": "The position indices for these models are re-scaled with Position\nInterpolation (Chen et al., 2023).\nTraining Procedure We follow most training hyper-parameters in Position Interpolation (Chen\net al., 2023), except that our batch size is smaller as we use a single 8 \u00d7A100 GPUs machine in some\ncases. All models are fine-tuned via the next token prediction objective. We use AdamW (Loshchilov\n& Hutter, 2019) with \u03b21= 0.9and\u03b22= 0.95. The learning rate is set to 2\u00d710\u22125for 7B and 13B\nmodels, and 10\u22125for 70B models. We also use a linear learning rate warmup. The weight decay is\n6", "start_char_idx": 2407, "end_char_idx": 2986, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "c4235c08-09e0-44af-b210-411d86d36c7f": {"__data__": {"id_": "c4235c08-09e0-44af-b210-411d86d36c7f", "embedding": null, "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64c6d204-94a9-4bc8-8228-c3f06182b464", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "74fed6190a90bf72e874bd898bc96859f048532fcff22effd34a399d3095d6c2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b33486d8-d301-4f79-8e3a-2a07dceb38d9", "node_type": "1", "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "d00d2d9fe151b4db8cca072a3abd13cd75316918ec49353876ef4476036652cf", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7716fdff-90c5-40d0-a6e5-9dd4663e0054", "node_type": "1", "metadata": {}, "hash": "689fba4e5cb28cd853d821316e11d4eea8e880c630be03e4767945b93f6261b4", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nTable 4: Maximum context length that we can fine-tune for various model sizes on a single 8 \u00d7\nA100 machine. We use the same training and evaluation settings as in Table 3. We use Flash-\nAttention2 (Dao, 2023) and DeepSpeed (Rasley et al., 2020) in stage 3 during fine-tuning. With\nLongLoRA, the maximum context length for 7B, 13B, and 70B models are 100k, 64k, and 32k\nrespectively. Evaluation on PG19 (Rae et al., 2020) is in Section B.1 in the appendix.", "start_char_idx": 0, "end_char_idx": 500, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "7716fdff-90c5-40d0-a6e5-9dd4663e0054": {"__data__": {"id_": "7716fdff-90c5-40d0-a6e5-9dd4663e0054", "embedding": null, "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64c6d204-94a9-4bc8-8228-c3f06182b464", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "74fed6190a90bf72e874bd898bc96859f048532fcff22effd34a399d3095d6c2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c4235c08-09e0-44af-b210-411d86d36c7f", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "2b3ef16da055edecf1f2d6a9f358508a8d1e7a414da27773638d80f33a58b659", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1de620d5-82f5-41c1-ba95-83e9b657391d", "node_type": "1", "metadata": {}, "hash": "02a3ca4519bf4a9299646f78045dcb9a469abb4ebf40b3205d5aee6c8d709a75", "class_name": "RelatedNodeInfo"}}, "text": "Evaluation on PG19 (Rae et al., 2020) is in Section B.1 in the appendix.\nSizeTraining\nContext LengthEvaluation Context Length\n2048 4096 8192 16384 32768 65536 100,000\n7B 100,000 3.36 3.01 2.78 2.60 2.58 2.57 2.52\n13B 65536 3.20 2.88 2.66 2.50 2.39 2.38 -\n70B 32768 2.84 2.57 2.39 2.26 2.17 - -\nTable 5: Topic retrieval evaluation with LongChat (Li et al., 2023). We compare our model to\nother open-source long-context LLMs. This task involves retrieving target topics from a very long\nconversation with around 3k, 6k, 10k, 13k, and 16k context lengths. As some questions in the\nevaluation set are longer than 16k, our model is fine-tuned upon Llama2 13B.", "start_char_idx": 428, "end_char_idx": 1082, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1de620d5-82f5-41c1-ba95-83e9b657391d": {"__data__": {"id_": "1de620d5-82f5-41c1-ba95-83e9b657391d", "embedding": null, "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64c6d204-94a9-4bc8-8228-c3f06182b464", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "74fed6190a90bf72e874bd898bc96859f048532fcff22effd34a399d3095d6c2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7716fdff-90c5-40d0-a6e5-9dd4663e0054", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "9fcdcd6e81346fec19870abc3f250cb5cc87ff636e95f2a01a983cd5ec6904a3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "152d2518-c318-4387-ac46-a178ea423027", "node_type": "1", "metadata": {}, "hash": "2a40dcb8363d5cdfa5ec7d5e9614631897ccf8d1d178b692f071cd85f5a90d8c", "class_name": "RelatedNodeInfo"}}, "text": "As some questions in the\nevaluation set are longer than 16k, our model is fine-tuned upon Llama2 13B. It achieves comparable\nperformance to the state-of-the-art LongChat-13B (Li et al., 2023) with a lower fine-tuning cost.\nEvaluation Context 3k 6k 10k 13k 16k\nChatGLM2-6B (Du et al., 2022) 0.88 0.46 0.02 0.02 0.02\nMPT-30B-chat (Team, 2023a) 0.96 1.0 0.76 - -\nMPT-7B-storywriter (Team, 2023b) 0.46 0.46 0.28 0.34 0.36\nLongChat-13B (Li et al., 2023) 1.0 1.0 1.0 0.98 0.9\nOurs-13B 1.0 0.98 0.98 0.98 0.94\nzero.", "start_char_idx": 981, "end_char_idx": 1489, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "152d2518-c318-4387-ac46-a178ea423027": {"__data__": {"id_": "152d2518-c318-4387-ac46-a178ea423027", "embedding": null, "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64c6d204-94a9-4bc8-8228-c3f06182b464", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "74fed6190a90bf72e874bd898bc96859f048532fcff22effd34a399d3095d6c2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1de620d5-82f5-41c1-ba95-83e9b657391d", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "1d2fddb537384eac8ce3aa495cc98dab3b57796a876ebdb0f26d88f57add2dd0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6418c383-2410-4618-95c0-258bb3941e76", "node_type": "1", "metadata": {}, "hash": "9a8c2fec3ef74d9eb8e409bfa8480eff63bfc64e27422358d7865d049b5e9b5b", "class_name": "RelatedNodeInfo"}}, "text": "We set the per-device batch size as 1 and gradient accumulation steps as 8, which means that\nthe global batch size equals 64, using 8 GPUs. We train our models for 1000 steps.\nDatasets We use the Redpajama (Computer, 2023) dataset for training. We evaluate the long-\nsequence language modeling performance of our fine-tuned models on the book corpus dataset\nPG19 (Rae et al., 2020) and the cleaned Arxiv Math proof-pile dataset (Azerbayev et al., 2022). We\nuse the test split of PG19 (Rae et al., 2020), consisting of 100 documents. For the proof-pile dataset,\nwe also use the test split of it for evaluation. We follow Position Interpolation (Chen et al., 2023)\nfor proof-pile data processing. We evaluate perplexity by using a sliding window approach with\nS= 256 , following (Press et al., 2022).\n4.2 M AINRESULTS\nLong-sequence Language Modeling.", "start_char_idx": 1490, "end_char_idx": 2338, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6418c383-2410-4618-95c0-258bb3941e76": {"__data__": {"id_": "6418c383-2410-4618-95c0-258bb3941e76", "embedding": null, "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64c6d204-94a9-4bc8-8228-c3f06182b464", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "74fed6190a90bf72e874bd898bc96859f048532fcff22effd34a399d3095d6c2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "152d2518-c318-4387-ac46-a178ea423027", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "615cfcd7cf9a47468ec5a9fd040c463bb6601428bd86edc58329b2152fff9689", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "104740a4-b236-40e3-8f01-94c9fbfd5401", "node_type": "1", "metadata": {}, "hash": "ea4a34cb1eed3bf781fa5bae9590d2381eadd4ec2d8ceafc2358bfdd73e3e200", "class_name": "RelatedNodeInfo"}}, "text": "4.2 M AINRESULTS\nLong-sequence Language Modeling. In Table 3, we report the perplexity for our models and\nbaseline on proof-pile (Azerbayev et al., 2022) and PG19 datasets. Under certain training context\nlengths, our models achieve better perplexity with longer context sizes. This indicates the effectiveness\nof our efficient fine-tuning method. In Table 3, for the same training and evaluation context length\ncases, the perplexity decreases as the context size increases. By increasing the context window size\nfrom 8192 to 32768, for the Llama2 7B model, we observe that the perplexity gets better from 2.72\nto 2.50 by -0.22. For Llama2 13B model, we observe that the perplexity reduces by -0.28.\nIn Table 4, we further examine the maximum context length that we can fine-tune on a single 8 \u00d7\nA100 machine. We extend Llama2 7B, 13B, and 70B to 100k, 65536, and 32768 context length\nrespectively.", "start_char_idx": 2289, "end_char_idx": 3186, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "104740a4-b236-40e3-8f01-94c9fbfd5401": {"__data__": {"id_": "104740a4-b236-40e3-8f01-94c9fbfd5401", "embedding": null, "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64c6d204-94a9-4bc8-8228-c3f06182b464", "node_type": "4", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "74fed6190a90bf72e874bd898bc96859f048532fcff22effd34a399d3095d6c2", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6418c383-2410-4618-95c0-258bb3941e76", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "961380806af771ea390f72efa48faf1d931cd0dca0cc569c397ebf0627fb2310", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f5798163-c31e-41bd-bfb1-99fb714c0edc", "node_type": "1", "metadata": {}, "hash": "ab80d3ff1a4bb3318d8685168a54e5cc04dde7a3ba371c150932e416227f6234", "class_name": "RelatedNodeInfo"}}, "text": "LongLoRA achieves promising results on these extremely large settings. In addition,\nwe find some perplexity degradation on small context sizes for the extended models. This is a known\nlimitation of Position Interpolation (Chen et al., 2023).\nRetrieval-based Evaluation. We conduct experiments on retrieval in long contexts. In Table 5, we\ncompare our model with other open LLMs on the topic retrieval task introduced in LongChat (Li et al.,\n2023). This task is to retrieve the target topic from a very long conversation, with lengths varying\nfrom 3k, 6k, 10k, 13k, to 16k. As some questions in LongChat (Li et al., 2023) are longer than 16k,\nwe fine-tuned Llama2 13B with a context length of 18k. The training cost is similar to that for 16k.\n7", "start_char_idx": 3187, "end_char_idx": 3931, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "f5798163-c31e-41bd-bfb1-99fb714c0edc": {"__data__": {"id_": "f5798163-c31e-41bd-bfb1-99fb714c0edc", "embedding": null, "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f449925c-f5c8-4e1f-8916-07f69529789e", "node_type": "4", "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "017169e57c627ecb68cc28d6022ea21305b3e50cb4af772a64397ee25d225a33", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "104740a4-b236-40e3-8f01-94c9fbfd5401", "node_type": "1", "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a3e421c68bfdf1c3050253cde47a08604aa15d3630cc839d8243840c44b42a12", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d7d4de93-f32c-4767-8691-8e7c05ff8645", "node_type": "1", "metadata": {}, "hash": "f1de7ad76510f0fb3ab47a09318449569c644cd9b188a669eb5fbe78c2124c9a", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\n0%20%40%60%80%100%2k4k6k8k10k12k14k16k18k20k22k24k26k28k30k32k34k36k38k40k42k44k46k48kPasskey Retrieval Accuracy\nLlama2 7BLlama2 7B (extended PI)Ours 7BOurs 7B (extended PI)\nFigure 4: Accuracy comparison on passkey retrieval between Llama2 7B and our 7B model fine-tuned\non 32768 context length. Our model presents no retrieval accuracy degradation until 33k or 34k,\nwhich exceeds the context length. It can further enhance its capability of long sequence modeling\nthrough a straightforward extension of position embeddings, without additional fine-tuning.", "start_char_idx": 0, "end_char_idx": 601, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d7d4de93-f32c-4767-8691-8e7c05ff8645": {"__data__": {"id_": "d7d4de93-f32c-4767-8691-8e7c05ff8645", "embedding": null, "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f449925c-f5c8-4e1f-8916-07f69529789e", "node_type": "4", "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "017169e57c627ecb68cc28d6022ea21305b3e50cb4af772a64397ee25d225a33", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f5798163-c31e-41bd-bfb1-99fb714c0edc", "node_type": "1", "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "19a688210aac0bfc5ffb038bceb077be83edc5b9d43742e144455fb6d3962afb", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3fa88154-5749-4c6a-ad0f-1a671bbf0e4c", "node_type": "1", "metadata": {}, "hash": "85ae3c6210efaef9f3275d81927ef3d74755e3fe978a2ca38ddec29cc6fc97dd", "class_name": "RelatedNodeInfo"}}, "text": "It can further enhance its capability of long sequence modeling\nthrough a straightforward extension of position embeddings, without additional fine-tuning.\n0%20%40%60%80%100%2k4k6k8k10k12k14k16k18k20k22k24k26k28k30k32k34k36k38k40k42k44k46k48kPasskey Retrieval Accuracy\nLlama2 7BOurs 7B 32kOurs 7B 32k (extended PI to 48k)15.828.638.168.158.148.128.118.18.088.048.0215.828.178.18.078.068.037.997.997.967.957.94681012141601002003004005006007008009001000Perplexity along \ufb01ne-tuning steps\nFull FTLoRA+Fine-tuning stepsPerplexity\nFigure 5: Ablation on fine-tuning steps in both full fine-tuning and LoRA+. We fine-tune Llama2 (Tou-\nvron et al., 2023b) 7B with the proposed S2-Attn.", "start_char_idx": 446, "end_char_idx": 1122, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "3fa88154-5749-4c6a-ad0f-1a671bbf0e4c": {"__data__": {"id_": "3fa88154-5749-4c6a-ad0f-1a671bbf0e4c", "embedding": null, "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f449925c-f5c8-4e1f-8916-07f69529789e", "node_type": "4", "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "017169e57c627ecb68cc28d6022ea21305b3e50cb4af772a64397ee25d225a33", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d7d4de93-f32c-4767-8691-8e7c05ff8645", "node_type": "1", "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "914aa86636a24eb17b07234da95f260dc6d83aba794a8589c8789cb3317d7fb0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "caf77b0d-f59f-4a88-9e1e-a8d3c5acfd77", "node_type": "1", "metadata": {}, "hash": "124b6fc19897863f11c64edb6ce7b2f818f923ade565c8ddb2928a195d1f5163", "class_name": "RelatedNodeInfo"}}, "text": "The target context length is 8192. We use RedPa-\njama (Computer, 2023) for training and PG19 (Rae et al., 2020) validation set for perplexity testing.\nFull fine-tuning converges faster than LoRA+at the beginning, but the final performance gap is small.\nOur model achieves comparable performance to LongChat-13B (Li et al., 2023), the state-of-the-art\nmodel in this task. Unlike LongChat-13B (Li et al., 2023), which is fully fine-tuned on self-collected\nlong context conversation text, our model is efficiently adapted on RedPajama (Computer, 2023) via\nnext-token generation. Our model even slightly outperforms LongChat-13B in the 16k evaluation.\nIn Figure 4, we present the passkey retrieval accuracy of our model, following Landmark Atten-\ntion (Mohtashami & Jaggi, 2023). This task has also been adopted by other literature (Chen et al.,\n2023; Tworkowski et al., 2023). In this task, the models need to find a random passkey hidden in a\nlong document.", "start_char_idx": 1123, "end_char_idx": 2078, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "caf77b0d-f59f-4a88-9e1e-a8d3c5acfd77": {"__data__": {"id_": "caf77b0d-f59f-4a88-9e1e-a8d3c5acfd77", "embedding": null, "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f449925c-f5c8-4e1f-8916-07f69529789e", "node_type": "4", "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "017169e57c627ecb68cc28d6022ea21305b3e50cb4af772a64397ee25d225a33", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3fa88154-5749-4c6a-ad0f-1a671bbf0e4c", "node_type": "1", "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "0086f25d7745aa91702fc631ef2fe11f857b9697dc1550b20c719525ff786090", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "dcbaf16d-6f44-4971-a4b5-5a31179370be", "node_type": "1", "metadata": {}, "hash": "952babd1c0424967dca7dbc92c2f99d23ce469b630416ef0548a85771d099662", "class_name": "RelatedNodeInfo"}}, "text": "In this task, the models need to find a random passkey hidden in a\nlong document. We show the document format is in Section A.2 in the appendix. We study Llama2\n7B (Touvron et al., 2023b) and our LongLoRA model which fine-tunes Llama2 7B with 32768\ncontext length. We test the passkey retrieval accuracy from 1k to 34k, with an interval of roughly 1k\n(as the sentence length can not be precisely controlled). For each document length, we test the model\n10 times with different random passkey values. Our model achieves reasonable passkey retrieval\naccuracy until 33k or 34k. Without further fine-tuning, We modify the max position embeddings to\n48k in the position interpolation, which is the Ours 7B (extended PI) in Figure 4. We show that this\nmodel can handle longer documents by simply extending the position interpolation.", "start_char_idx": 1997, "end_char_idx": 2824, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "dcbaf16d-6f44-4971-a4b5-5a31179370be": {"__data__": {"id_": "dcbaf16d-6f44-4971-a4b5-5a31179370be", "embedding": null, "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "f449925c-f5c8-4e1f-8916-07f69529789e", "node_type": "4", "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "017169e57c627ecb68cc28d6022ea21305b3e50cb4af772a64397ee25d225a33", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "caf77b0d-f59f-4a88-9e1e-a8d3c5acfd77", "node_type": "1", "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "bbef0b2ada41c520b2de0db2bbfdeb3f7d90d841c64fc4a2e0d6d0b3ba5b5233", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "04ffb3e3-a3e3-4d25-8cc1-914916a24ca2", "node_type": "1", "metadata": {}, "hash": "4addab6ab191aaacf7f34f8252ba794aa17258aeff26b8ed46233725e298571b", "class_name": "RelatedNodeInfo"}}, "text": "We show that this\nmodel can handle longer documents by simply extending the position interpolation. As the dashed\norange line in Figure 4, the model, fine-tuned on 32k context length, presents moderate retrieval\nability (60%-90% accuracy) in the range of 33k to 45k. Even with the position interpolation extended,\nLlama2 7B suffers from a sharp accuracy degradation (dashed blue line) after the 4k context length.\n4.3 A BLATION STUDY\nIn this section, we introduce ablation studies on the number of fine-tuning steps and attention patterns.\nOther experimental results including ablations on group sizes, attention variants, and efficiency\nanalysis are Section B in the appendix.\nAblation on Fine-tuning Steps. We report the relationship between perplexity and fine-tuning\nsteps for a Llama2 7B model extending to the 8192 context length on the PG19 validation set, in\n8", "start_char_idx": 2725, "end_char_idx": 3593, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "04ffb3e3-a3e3-4d25-8cc1-914916a24ca2": {"__data__": {"id_": "04ffb3e3-a3e3-4d25-8cc1-914916a24ca2", "embedding": null, "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7900e689-3da7-4fd3-82fc-cee85a6cc7fc", "node_type": "4", "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c4879cdc148df642fb2e8850b7972c139e6a3050e57ea297b07820f2ccfd7999", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "dcbaf16d-6f44-4971-a4b5-5a31179370be", "node_type": "1", "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "4513abec4b3d16c6f6fc32f2385ec05ccd8adc643484474acbe2a905fb719148", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c3170bdd-3884-4f31-8f92-47facfb52b5e", "node_type": "1", "metadata": {}, "hash": "8178b8ca7578be231ff8a88246a50cf582c30121d0549c4526bd6d741f6a0351", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nTable 6: Comparisons among S2-Attn and alternative attention patterns during fine-tuning . We\nadapt a Llama2 7B model to 32768 context length with different attention patterns and improved\nLoRA at training time. We include four typical efficient attention designs, e.g., shift, dilate (Ding\net al., 2023), block sparse (Qiu et al., 2020), stride sparse (Child et al., 2019) for comparison. \u2018 cro.\nheads / layers \u2019 means to swap different attention settings across attention heads or sequential layers .\nTaking S2-Attn as an example, \u2018 cro. layers \u2019 is to swap between w/ and w/o shift in sequential\nself-attention layers. \u2018 only P1/P2 \u2019 means all attention heads use pattern 1 (all no shift) or Pattern\n2 (all shift) in Figure 2. We visualize the patterns of different attention in Figure 7 in the appendix.\nFor each attention pattern, we evaluate its performance under two protocols. In the first row, we use\nsparse attention in both training and testing.", "start_char_idx": 0, "end_char_idx": 1001, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "c3170bdd-3884-4f31-8f92-47facfb52b5e": {"__data__": {"id_": "c3170bdd-3884-4f31-8f92-47facfb52b5e", "embedding": null, "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7900e689-3da7-4fd3-82fc-cee85a6cc7fc", "node_type": "4", "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c4879cdc148df642fb2e8850b7972c139e6a3050e57ea297b07820f2ccfd7999", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "04ffb3e3-a3e3-4d25-8cc1-914916a24ca2", "node_type": "1", "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "e22cd7d332cef592cd066640125412b630bf7d64f85611b3398a8d4c0a2f3be8", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b811a161-5e1e-4160-a30f-6446d5383832", "node_type": "1", "metadata": {}, "hash": "a787963de8b284d93335f737eccf5232c28375a80ee98671d4f38a25704b2b90", "class_name": "RelatedNodeInfo"}}, "text": "In the first row, we use\nsparse attention in both training and testing. In the second row, we use full attention for testing.\nTest w/\nFull-AttnS2-Attn Dilate Block sparse Stride sparse\ncro. heads cro. layers only P1. only P2. cro. heads cro. heads cro. heads\n\u2717 8.64 8.63 9.17 9.64 8.75 11.49 32.81\n\u2713 8.12 9.70 8.39 9.81 11.78 8.30 24.03\nFigure 5. We see that without fine-tuning, at step 0, the model has a limited long context capability,\ne.g., 15.82 perplexity. We show that the perplexity drops quickly. Full fine-tuning converges faster\nthan low-rank training. They come closer after 200 steps, without a large gap at the end.\nAttention Patterns. In Table 6, we show the effects of different attention patterns during fine-\ntuning.", "start_char_idx": 930, "end_char_idx": 1665, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b811a161-5e1e-4160-a30f-6446d5383832": {"__data__": {"id_": "b811a161-5e1e-4160-a30f-6446d5383832", "embedding": null, "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7900e689-3da7-4fd3-82fc-cee85a6cc7fc", "node_type": "4", "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c4879cdc148df642fb2e8850b7972c139e6a3050e57ea297b07820f2ccfd7999", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c3170bdd-3884-4f31-8f92-47facfb52b5e", "node_type": "1", "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6f835983289e157927ba1ca5ef5be9997c3c03e2a36ff84dd276d350d29afa0f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6d288bb6-dca6-4454-a16c-ddb47e05658f", "node_type": "1", "metadata": {}, "hash": "0c38ecbe75de7a55dce197a8a23d98517ff49d7c221593911c2cc989d40cd7c4", "class_name": "RelatedNodeInfo"}}, "text": "Attention Patterns. In Table 6, we show the effects of different attention patterns during fine-\ntuning. We fine-tune a Llama2 7B (Touvron et al., 2023b) model to 32768 context length on\nRedpajama (Computer, 2023) datasets and evaluate the perplexity on PG19 (Rae et al., 2020)\nvalidation set. We first examine the manner of swapping among various settings. For the shift\noperation we used in LongLoRA, there are three choices: disabling it, shifting between sequential\nlayers, and shifting among attention heads. We show that shifting between layers is acceptable but not\nthe best. In addition, setting all attention heads as pattern 1 or pattern 2 does not work. In addition,\nwe empirically find that shifting left or right has little difference in performance.\nWe then test other types of efficient attention designs, including dilated attention (Ding et al., 2023),\nblock sparse attention (Qiu et al., 2020), and stride sparse attention (Child et al., 2019).", "start_char_idx": 1561, "end_char_idx": 2523, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6d288bb6-dca6-4454-a16c-ddb47e05658f": {"__data__": {"id_": "6d288bb6-dca6-4454-a16c-ddb47e05658f", "embedding": null, "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7900e689-3da7-4fd3-82fc-cee85a6cc7fc", "node_type": "4", "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c4879cdc148df642fb2e8850b7972c139e6a3050e57ea297b07820f2ccfd7999", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b811a161-5e1e-4160-a30f-6446d5383832", "node_type": "1", "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "31f5d32c48bb1a5816072b76e9dfa6e89f06a29ed14d988d80b43a4f7e9b187f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a331d043-f308-4792-b214-712bf79a9b17", "node_type": "1", "metadata": {}, "hash": "90d48fff08cee6064457af14e904fafb901930e269549212f65d018bf37397de", "class_name": "RelatedNodeInfo"}}, "text": "For dilated\nattention (Ding et al., 2023), we vary the dilate rate from 1 to 2 evenly among attention heads. For\nblock sparse attention (Qiu et al., 2020), we use n= 4 block-wise masking matrices in attention\nheads and move the block left to make it causal. Stride sparse attention (Child et al., 2019) contains\nboth local and stride patterns. These settings share similar computational costs. We visualize\nthese patterns in Figure 7 in the appendix. These attention patterns are invented in training-from-\nscratch transformers. This experiment is to examine their capability of fine-tuning on pre-trained\nLLMs (Touvron et al., 2023b), toward long context adaptation. Dilated attention performs well in\nfull fine-tuning but is not well with low-rank adaptation. Fine-tuning with stride sparse attention is\nharmful. They have a large gap to full attention, which is applied in the pre-training stage.\n5 C ONCLUSION\nIn this work, we propose LongLoRA that can efficiently extend the context length of LLMs to be\nsignificantly larger.", "start_char_idx": 2524, "end_char_idx": 3554, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "a331d043-f308-4792-b214-712bf79a9b17": {"__data__": {"id_": "a331d043-f308-4792-b214-712bf79a9b17", "embedding": null, "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7900e689-3da7-4fd3-82fc-cee85a6cc7fc", "node_type": "4", "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "c4879cdc148df642fb2e8850b7972c139e6a3050e57ea297b07820f2ccfd7999", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6d288bb6-dca6-4454-a16c-ddb47e05658f", "node_type": "1", "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "2dcad4510a7bcb540c8f3ab5ac7b4dfc0714a8c9915833b2b797954d951e3fb7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e7532a3a-7bec-4b25-a88f-26ffd2b7b8e6", "node_type": "1", "metadata": {}, "hash": "6e00a0d556fdb1786a35556a54b092868ea24b4291545678599c4a3b0d139730", "class_name": "RelatedNodeInfo"}}, "text": "LongLoRA has less GPU memory cost and training time than standard full\nfine-tuning, with minimal accuracy compromise. At the architecture level, we propose S2-Attn\nto approximate the standard self-attention pattern during training. S2-Attn is easy to implement,\nrequiring only two lines of code. Moreover, models trained via S2-Attn retain the original standard\nattention architecture during inference, making most pre-existing infrastructure and optimization\nreusable. At the training level, we bridge the gap between LoRA and full fine-tuning with trainable\nnormalization and embedding. Our method can extend Llama2 7B to 100k context length and 70B\nmodel to 32k context length, on a single 8 \u00d7A100 machine. We also present a long instruction-\nfollowing dataset, LongAlpaca and conducted supervised fine-tuning with LongLoRA. We believe\nthat LongLoRA is a general method that could be compatible with more types of LLMs and position\nencodings. We plan to investigate these in future work.\nAcknowledgement We would like to thank Xiuyu Li and Bohao Peng for the helpful discussions.\n9", "start_char_idx": 3555, "end_char_idx": 4639, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e7532a3a-7bec-4b25-a88f-26ffd2b7b8e6": {"__data__": {"id_": "e7532a3a-7bec-4b25-a88f-26ffd2b7b8e6", "embedding": null, "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64bbb4bc-98f0-401f-b5ca-dce2d557f443", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6f4102705c6161304466e1b9c91538e5af3a661097f9e5f47082186b09e98061", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a331d043-f308-4792-b214-712bf79a9b17", "node_type": "1", "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "75552c277c3e1e9e3499793faf25018448790e6853e34f84e1dd4116a1c57f06", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "221e698f-e656-48a6-99ac-825fcef03301", "node_type": "1", "metadata": {}, "hash": "2536dd723a8fd157fcfa7c5e706533c64ce4f11110d3e405cc8114d7c5bc939e", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nREFERENCES\nNtk-aware scaled rope, 2023. URL https://www.reddit.com/r/LocalLLaMA/\ncomments/14lz7j5/ntkaware_scaled_rope_allows_llama_models_to_\nhave/ .\nByeongjoo Ahn, Michael DeZeeuw, Ioannis Gkioulekas, and Aswin C. Sankaranarayanan. Neural\nkaleidoscopic space sculpting. In CVPR, pp. 4349\u20134358, 2023.\nChenxin An, Shansan Gong, Ming Zhong, Mukai Li, Jun Zhang, Lingpeng Kong, and Xipeng Qiu.\nL-eval: Instituting standardized evaluation for long context language models, 2023.\nShengnan An, Yifei Li, Zeqi Lin, Qian Liu, Bei Chen, Qiang Fu, Weizhu Chen, Nanning Zheng, and\nJian-Guang Lou. Input-tuning: Adapting unfamiliar inputs to frozen pretrained models. CoRR ,\nabs/2203.03131, 2022.", "start_char_idx": 0, "end_char_idx": 730, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "221e698f-e656-48a6-99ac-825fcef03301": {"__data__": {"id_": "221e698f-e656-48a6-99ac-825fcef03301", "embedding": null, "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64bbb4bc-98f0-401f-b5ca-dce2d557f443", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6f4102705c6161304466e1b9c91538e5af3a661097f9e5f47082186b09e98061", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e7532a3a-7bec-4b25-a88f-26ffd2b7b8e6", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "2be60053a2d248ad0a60b03a1e0304b1bd4c8d05efc726e8edf6bf7f3542c3f3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d3666b42-a16d-4e8e-a7a0-2756f06239f0", "node_type": "1", "metadata": {}, "hash": "da49d93e3cdc4bd1ee7b38b467756b3b06a1945e48b6f15a3c35293f28d75576", "class_name": "RelatedNodeInfo"}}, "text": "Input-tuning: Adapting unfamiliar inputs to frozen pretrained models. CoRR ,\nabs/2203.03131, 2022.\nZhangir Azerbayev, Edward Ayers, and Bartosz Piotrowski. Proof-pile, 2022. URL https:\n//github.com/zhangir-azerbayev/proof-pile .\nLei Jimmy Ba, Jamie Ryan Kiros, and Geoffrey E. Hinton. Layer normalization. CoRR ,\nabs/1607.06450, 2016.\nYushi Bai, Xin Lv, Jiajie Zhang, Hongchang Lyu, Jiankai Tang, Zhidian Huang, Zhengxiao Du,\nXiao Liu, Aohan Zeng, Lei Hou, Yuxiao Dong, Jie Tang, and Juanzi Li. Longbench: A bilingual,\nmultitask benchmark for long context understanding. arXiv preprint arXiv:2308.14508, 2023.\nIz Beltagy, Matthew E. Peters, and Arman Cohan. Longformer: The long-document transformer.\nCoRR, abs/2004.05150, 2020.", "start_char_idx": 632, "end_char_idx": 1360, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d3666b42-a16d-4e8e-a7a0-2756f06239f0": {"__data__": {"id_": "d3666b42-a16d-4e8e-a7a0-2756f06239f0", "embedding": null, "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64bbb4bc-98f0-401f-b5ca-dce2d557f443", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6f4102705c6161304466e1b9c91538e5af3a661097f9e5f47082186b09e98061", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "221e698f-e656-48a6-99ac-825fcef03301", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3695125021a6a47d7603e66adc229c361a1eede73aba08dba6e3d395da29594e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "64e2d1c0-d1f1-45f4-bd52-a5cfaf72a4db", "node_type": "1", "metadata": {}, "hash": "a8d2e1f7bb5e24356be10dbcd79221242105657384ae42f546411f85d3755688", "class_name": "RelatedNodeInfo"}}, "text": "Longformer: The long-document transformer.\nCoRR, abs/2004.05150, 2020.\nAydar Bulatov, Yuri Kuratov, and Mikhail S. Burtsev. Recurrent memory transformer. In NeurIPS ,\n2022.\nBeidi Chen, Tri Dao, Kaizhao Liang, Jiaming Yang, Zhao Song, Atri Rudra, and Christopher R \u00b4e.\nPixelated butterfly: Simple and efficient sparse training for neural network models. In ICLR , 2022.\nShouyuan Chen, Sherman Wong, Liangjian Chen, and Yuandong Tian. Extending context window of\nlarge language models via positional interpolation. CoRR, abs/2306.15595, 2023.\nWei-Lin Chiang, Zhuohan Li, Zi Lin, Ying Sheng, Zhanghao Wu, Hao Zhang, Lianmin Zheng,\nSiyuan Zhuang, Yonghao Zhuang, Joseph E. Gonzalez, Ion Stoica, and Eric P. Xing. Vicuna: An\nopen-source chatbot impressing gpt-4 with 90%* chatgpt quality, March 2023.", "start_char_idx": 1290, "end_char_idx": 2085, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "64e2d1c0-d1f1-45f4-bd52-a5cfaf72a4db": {"__data__": {"id_": "64e2d1c0-d1f1-45f4-bd52-a5cfaf72a4db", "embedding": null, "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64bbb4bc-98f0-401f-b5ca-dce2d557f443", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6f4102705c6161304466e1b9c91538e5af3a661097f9e5f47082186b09e98061", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d3666b42-a16d-4e8e-a7a0-2756f06239f0", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "4ffa6ac3caad51dfdfe93707ae3d93d61a778457f7d9d7d04f65be3f568dc5d5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6b8e5c2f-8a06-4c93-8d5e-ebba06598913", "node_type": "1", "metadata": {}, "hash": "6b35e62acce0b874c65b92943a1b1038ac0a7b5d719ebec81dc341d5af9e7e0c", "class_name": "RelatedNodeInfo"}}, "text": "URL https:\n//lmsys.org/blog/2023-03-30-vicuna/ .\nRewon Child, Scott Gray, Alec Radford, and Ilya Sutskever. Generating long sequences with sparse\ntransformers. CoRR, abs/1904.10509, 2019.\nTogether Computer. Redpajama: An open source recipe to reproduce llama training dataset, 2023.\nURLhttps://github.com/togethercomputer/RedPajama-Data .\nTri Dao. Flashattention-2: Faster attention with better parallelism and work partitioning. CoRR ,\nabs/2307.08691, 2023.\nTri Dao, Daniel Y . Fu, Stefano Ermon, Atri Rudra, and Christopher R \u00b4e. Flashattention: Fast and\nmemory-efficient exact attention with io-awareness. In NeurIPS, 2022.\nJiayu Ding, Shuming Ma, Li Dong, Xingxing Zhang, Shaohan Huang, Wenhui Wang, Nanning Zheng,\nand Furu Wei. Longnet: Scaling transformers to 1, 000, 000, 000 tokens.", "start_char_idx": 2086, "end_char_idx": 2876, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6b8e5c2f-8a06-4c93-8d5e-ebba06598913": {"__data__": {"id_": "6b8e5c2f-8a06-4c93-8d5e-ebba06598913", "embedding": null, "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "64bbb4bc-98f0-401f-b5ca-dce2d557f443", "node_type": "4", "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6f4102705c6161304466e1b9c91538e5af3a661097f9e5f47082186b09e98061", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "64e2d1c0-d1f1-45f4-bd52-a5cfaf72a4db", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "65ff8f07651ffe4091d0a7d473c2f1a21c9d1c5c6ea160555cffb9c291f32c21", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1e46e18c-6795-4371-9d16-3e78e14ac7a3", "node_type": "1", "metadata": {}, "hash": "94a79c61c68cd321ba0561acf82a6984f4d1fbfe4f3879285d89b4130479cac7", "class_name": "RelatedNodeInfo"}}, "text": "Longnet: Scaling transformers to 1, 000, 000, 000 tokens. CoRR , abs/2307.02486,\n2023.\nZhengxiao Du, Yujie Qian, Xiao Liu, Ming Ding, Jiezhong Qiu, Zhilin Yang, and Jie Tang. Glm:\nGeneral language model pretraining with autoregressive blank infilling. In ACL , pp. 320\u2013335,\n2022.\nKelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Ming-Wei Chang. REALM: retrieval-\naugmented language model pre-training. CoRR, abs/2002.08909, 2020.\n10", "start_char_idx": 2819, "end_char_idx": 3259, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1e46e18c-6795-4371-9d16-3e78e14ac7a3": {"__data__": {"id_": "1e46e18c-6795-4371-9d16-3e78e14ac7a3", "embedding": null, "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0980330e-d6b6-489b-bff9-8674c7f8066b", "node_type": "4", "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "528ba9d7376ff4c0cbb18f8bf530e07a651ea68cfb6314498447d0b6789204b3", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6b8e5c2f-8a06-4c93-8d5e-ebba06598913", "node_type": "1", "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "b8ae974b1eb6a4b79003d6db13e21d5fb4dc6d66f3d1698a489fd91775f873d7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "25cc8802-9d74-45cb-861f-ffc2b8eddb15", "node_type": "1", "metadata": {}, "hash": "a7645823f2a6ef04fc057781b79b805919e10f8359b0fd5fedc103f9306c847a", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nChi Han, Qifan Wang, Wenhan Xiong, Yu Chen, Heng Ji, and Sinong Wang. Lm-infinite: Simple\non-the-fly length generalization for large language models. CoRR, abs/2308.16137, 2023.\nEdward J. Hu, Yelong Shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu Wang,\nand Weizhu Chen. Lora: Low-rank adaptation of large language models. In ICLR, 2022.\nGautier Izacard, Patrick S. H. Lewis, Maria Lomeli, Lucas Hosseini, Fabio Petroni, Timo Schick,\nJane Dwivedi-Yu, Armand Joulin, Sebastian Riedel, and Edouard Grave. Few-shot learning with\nretrieval augmented language models. CoRR, abs/2208.03299, 2022.", "start_char_idx": 0, "end_char_idx": 653, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "25cc8802-9d74-45cb-861f-ffc2b8eddb15": {"__data__": {"id_": "25cc8802-9d74-45cb-861f-ffc2b8eddb15", "embedding": null, "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0980330e-d6b6-489b-bff9-8674c7f8066b", "node_type": "4", "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "528ba9d7376ff4c0cbb18f8bf530e07a651ea68cfb6314498447d0b6789204b3", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1e46e18c-6795-4371-9d16-3e78e14ac7a3", "node_type": "1", "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "e3408ef76ef3c93780dd30227ad2995c05ebe2382bd56a57dde35984fa945fd7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ab2c24ec-ca93-40ed-8904-5ea18244f633", "node_type": "1", "metadata": {}, "hash": "410aa7fdd33aafed063fc2c0aece28225a096e452e1c826a2a740b034c09cc08", "class_name": "RelatedNodeInfo"}}, "text": "Few-shot learning with\nretrieval augmented language models. CoRR, abs/2208.03299, 2022.\nVladimir Karpukhin, Barlas Oguz, Sewon Min, Patrick S. H. Lewis, Ledell Wu, Sergey Edunov,\nDanqi Chen, and Wen-tau Yih. Dense passage retrieval for open-domain question answering. In\nEMNLP, pp. 6769\u20136781, 2020.\nNikita Kitaev, Lukasz Kaiser, and Anselm Levskaya. Reformer: The efficient transformer. In ICLR ,\n2020.\nBrian Lester, Rami Al-Rfou, and Noah Constant. The power of scale for parameter-efficient prompt\ntuning. In Marie-Francine Moens, Xuanjing Huang, Lucia Specia, and Scott Wen-tau Yih (eds.),\nEMNLP, pp. 3045\u20133059, 2021.\nDacheng Li, Rulin Shao, Anze Xie, Ying Sheng, Lianmin Zheng, Joseph E. Gonzalez, Ion Stoica,\nXuezhe Ma, and Hao Zhang.", "start_char_idx": 566, "end_char_idx": 1305, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "ab2c24ec-ca93-40ed-8904-5ea18244f633": {"__data__": {"id_": "ab2c24ec-ca93-40ed-8904-5ea18244f633", "embedding": null, "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0980330e-d6b6-489b-bff9-8674c7f8066b", "node_type": "4", "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "528ba9d7376ff4c0cbb18f8bf530e07a651ea68cfb6314498447d0b6789204b3", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "25cc8802-9d74-45cb-861f-ffc2b8eddb15", "node_type": "1", "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a699ef150532126228d326aa19c9b3381c1b2557a76efa0952dc70c651936d97", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0caaef26-d8e7-456b-8f0d-285966df87bc", "node_type": "1", "metadata": {}, "hash": "573d4e37827835c81942a4f5360a88766fe6402a75bd7887e23ac5efde4062b9", "class_name": "RelatedNodeInfo"}}, "text": "How long can open-source llms truly promise on context length?,\nJune 2023. URL https://lmsys.org/blog/2023-06-29-longchat .\nXiang Lisa Li and Percy Liang. Prefix-tuning: Optimizing continuous prompts for generation. In\nChengqing Zong, Fei Xia, Wenjie Li, and Roberto Navigli (eds.), ACL, pp. 4582\u20134597, 2021.\nHaokun Liu, Derek Tam, Mohammed Muqeeth, Jay Mohta, Tenghao Huang, Mohit Bansal, and Colin\nRaffel. Few-shot parameter-efficient fine-tuning is better and cheaper than in-context learning. In\nNeurIPS, 2022.\nZe Liu, Yutong Lin, Yue Cao, Han Hu, Yixuan Wei, Zheng Zhang, Stephen Lin, and Baining\nGuo. Swin transformer: Hierarchical vision transformer using shifted windows. In ICCV , pp.\n9992\u201310002, 2021.\nIlya Loshchilov and Frank Hutter. Decoupled weight decay regularization. In ICLR, 2019.", "start_char_idx": 1306, "end_char_idx": 2105, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "0caaef26-d8e7-456b-8f0d-285966df87bc": {"__data__": {"id_": "0caaef26-d8e7-456b-8f0d-285966df87bc", "embedding": null, "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0980330e-d6b6-489b-bff9-8674c7f8066b", "node_type": "4", "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "528ba9d7376ff4c0cbb18f8bf530e07a651ea68cfb6314498447d0b6789204b3", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ab2c24ec-ca93-40ed-8904-5ea18244f633", "node_type": "1", "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3861311d7243071d004890eef98058ddd3dc469ffc0c7f62566f5158393dc922", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "18724451-8680-46eb-8bde-dc701cad4d6f", "node_type": "1", "metadata": {}, "hash": "77bf7c048d86e6a3bd08ea2b2eaf826621687c88658fb805082d1675da46d5f3", "class_name": "RelatedNodeInfo"}}, "text": "Ilya Loshchilov and Frank Hutter. Decoupled weight decay regularization. In ICLR, 2019.\nSourab Mangrulkar, Sylvain Gugger, Lysandre Debut, Younes Belkada, and Sayak Paul. Peft: State-\nof-the-art parameter-efficient fine-tuning methods. https://github.com/huggingface/\npeft , 2022.\nAmirkeivan Mohtashami and Martin Jaggi. Landmark attention: Random-access infinite context\nlength for transformers. CoRR, abs/2305.16300, 2023.\nAdam Paszke, Sam Gross, Francisco Massa, Adam Lerer, James Bradbury, Gregory Chanan,\nTrevor Killeen, Zeming Lin, Natalia Gimelshein, Luca Antiga, Alban Desmaison, Andreas\nK\u00a8opf, Edward Z. Yang, Zachary DeVito, Martin Raison, Alykhan Tejani, Sasank Chilamkurthy,\nBenoit Steiner, Lu Fang, Junjie Bai, and Soumith Chintala. Pytorch: An imperative style, high-\nperformance deep learning library.", "start_char_idx": 2018, "end_char_idx": 2834, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "18724451-8680-46eb-8bde-dc701cad4d6f": {"__data__": {"id_": "18724451-8680-46eb-8bde-dc701cad4d6f", "embedding": null, "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0980330e-d6b6-489b-bff9-8674c7f8066b", "node_type": "4", "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "528ba9d7376ff4c0cbb18f8bf530e07a651ea68cfb6314498447d0b6789204b3", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0caaef26-d8e7-456b-8f0d-285966df87bc", "node_type": "1", "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "773cb56ed5589c51918e933da95267a3bc756e06305543abaf5a0158b65673ce", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a596aec9-dfe5-4e98-bccd-2818778b472e", "node_type": "1", "metadata": {}, "hash": "133fbe98e5e17ac9ee5a491deebe2fbc3b31fb13854214d0c39964c72c3c958b", "class_name": "RelatedNodeInfo"}}, "text": "Pytorch: An imperative style, high-\nperformance deep learning library. In NeurIPS, pp. 8024\u20138035, 2019.\nBowen Peng, Jeffrey Quesnelle, Honglu Fan, and Enrico Shippole. Yarn: Efficient context window\nextension of large language models. CoRR, abs/2309.00071, 2023.\nOfir Press, Noah A. Smith, and Mike Lewis. Train short, test long: Attention with linear biases\nenables input length extrapolation. In ICLR, 2022.\nXiaojuan Qi, Renjie Liao, Jiaya Jia, Sanja Fidler, and Raquel Urtasun. 3d graph neural networks for\nRGBD semantic segmentation. In ICCV, pp. 5209\u20135218, 2017.\nJiezhong Qiu, Hao Ma, Omer Levy, Wen-tau Yih, Sinong Wang, and Jie Tang. Blockwise self-\nattention for long document understanding. In EMNLP , volume EMNLP 2020 of Findings of\nACL, pp. 2555\u20132565, 2020.\n11", "start_char_idx": 2764, "end_char_idx": 3536, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "a596aec9-dfe5-4e98-bccd-2818778b472e": {"__data__": {"id_": "a596aec9-dfe5-4e98-bccd-2818778b472e", "embedding": null, "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c", "node_type": "4", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "11a4d140e5cc743ae4a626cdc5091869417619fa555f8d266b666481429af46e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "18724451-8680-46eb-8bde-dc701cad4d6f", "node_type": "1", "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "431e28cabcd97d32a8cd5ba6b72360565dd66d9bc52acdeb7126a1a8d85b6b83", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8d429398-ca4c-4bc6-9df0-06ee54d2aae2", "node_type": "1", "metadata": {}, "hash": "7c7e0df842a84f5aea73032dd54583f0cd6088c17d080d75f543b43e03189fe9", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nJack W. Rae, Anna Potapenko, Siddhant M. Jayakumar, Chloe Hillier, and Timothy P. Lillicrap.\nCompressive transformers for long-range sequence modelling. In ICLR, 2020.\nJeff Rasley, Samyam Rajbhandari, Olatunji Ruwase, and Yuxiong He. Deepspeed: System opti-\nmizations enable training deep learning models with over 100 billion parameters. In KDD , pp.\n3505\u20133506. ACM, 2020.\nJianlin Su, Yu Lu, Shengfeng Pan, Bo Wen, and Yunfeng Liu. Roformer: Enhanced transformer with\nrotary position embedding. CoRR, abs/2104.09864, 2021.\nYi-Lin Sung, Varun Nair, and Colin Raffel. Training neural networks with fixed sparse masks. In\nNeurIPS, pp. 24193\u201324205, 2021.\nMosaicML NLP Team. Introducing mpt-30b: Raising the bar for open-source foundation models,\n2023a.", "start_char_idx": 0, "end_char_idx": 794, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "8d429398-ca4c-4bc6-9df0-06ee54d2aae2": {"__data__": {"id_": "8d429398-ca4c-4bc6-9df0-06ee54d2aae2", "embedding": null, "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c", "node_type": "4", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "11a4d140e5cc743ae4a626cdc5091869417619fa555f8d266b666481429af46e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a596aec9-dfe5-4e98-bccd-2818778b472e", "node_type": "1", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "271d1aa28a45ce2c43b2871274612b87e203372fd32494c8d5de2cccff40523e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "94dafa68-c2d0-45f2-ba62-1005616548ca", "node_type": "1", "metadata": {}, "hash": "bb5e8a880434c9c0f4ad40240f46d6b8fac709f782fa74a4f0dcd3038f31801d", "class_name": "RelatedNodeInfo"}}, "text": "Introducing mpt-30b: Raising the bar for open-source foundation models,\n2023a. URL www.mosaicml.com/blog/mpt-30b .\nMosaicML NLP Team. Introducing mpt-7b: A new standard for open-source, commercially usable\nllms, 2023b. URL www.mosaicml.com/blog/mpt-7b .\nHugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne Lachaux, Timoth \u00b4ee\nLacroix, Baptiste Rozi `ere, Naman Goyal, Eric Hambro, Faisal Azhar, Aur \u00b4elien Rodriguez, Armand\nJoulin, Edouard Grave, and Guillaume Lample. Llama: Open and efficient foundation language\nmodels. CoRR, abs/2302.13971, 2023a.\nHugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay\nBashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, Dan Bikel, Lukas Blecher,", "start_char_idx": 716, "end_char_idx": 1472, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "94dafa68-c2d0-45f2-ba62-1005616548ca": {"__data__": {"id_": "94dafa68-c2d0-45f2-ba62-1005616548ca", "embedding": null, "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c", "node_type": "4", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "11a4d140e5cc743ae4a626cdc5091869417619fa555f8d266b666481429af46e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8d429398-ca4c-4bc6-9df0-06ee54d2aae2", "node_type": "1", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "5bf84ad2a44c55853ba3e70fe4004ccb125315c48c1854ad345a03109fb91e77", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c385740d-357e-47e7-b734-9b0b9b524afb", "node_type": "1", "metadata": {}, "hash": "805ffc2e809718e12f6ec25d393ea66cd18b9d116d310da36a1fb9ff1af523d0", "class_name": "RelatedNodeInfo"}}, "text": "Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, Dan Bikel, Lukas Blecher, Cristian\nCanton-Ferrer, Moya Chen, Guillem Cucurull, David Esiobu, Jude Fernandes, Jeremy Fu, Wenyin\nFu, Brian Fuller, Cynthia Gao, Vedanuj Goswami, Naman Goyal, Anthony Hartshorn, Saghar\nHosseini, Rui Hou, Hakan Inan, Marcin Kardas, Viktor Kerkez, Madian Khabsa, Isabel Kloumann,\nArtem Korenev, Punit Singh Koura, Marie-Anne Lachaux, Thibaut Lavril, Jenya Lee, Diana\nLiskovich, Yinghai Lu, Yuning Mao, Xavier Martinet, Todor Mihaylov, Pushkar Mishra, Igor\nMolybog, Yixin Nie, Andrew Poulton, Jeremy Reizenstein, Rashi Rungta, Kalyan Saladi, Alan\nSchelten, Ruan Silva, Eric Michael Smith, Ranjan Subramanian, Xiaoqing Ellen Tan, Binh Tang,\nRoss Taylor, Adina Williams,", "start_char_idx": 1398, "end_char_idx": 2141, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "c385740d-357e-47e7-b734-9b0b9b524afb": {"__data__": {"id_": "c385740d-357e-47e7-b734-9b0b9b524afb", "embedding": null, "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c", "node_type": "4", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "11a4d140e5cc743ae4a626cdc5091869417619fa555f8d266b666481429af46e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "94dafa68-c2d0-45f2-ba62-1005616548ca", "node_type": "1", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "98588cf9fc083a06b01d343d7e791677444f8ba7a6233a1f71af33705a56e864", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "30bd9279-5fa6-473d-baed-5427ca08d321", "node_type": "1", "metadata": {}, "hash": "9f7866da0d32bb797828b0b46fa74ec0c365f2e1c5e7b476f0e4a54a39d1666b", "class_name": "RelatedNodeInfo"}}, "text": "Eric Michael Smith, Ranjan Subramanian, Xiaoqing Ellen Tan, Binh Tang,\nRoss Taylor, Adina Williams, Jian Xiang Kuan, Puxin Xu, Zheng Yan, Iliyan Zarov, Yuchen Zhang,\nAngela Fan, Melanie Kambadur, Sharan Narang, Aur \u00b4elien Rodriguez, Robert Stojnic, Sergey\nEdunov, and Thomas Scialom. Llama 2: Open foundation and fine-tuned chat models. CoRR ,\nabs/2307.09288, 2023b.\nSzymon Tworkowski, Konrad Staniszewski, Mikolaj Pacek, Yuhuai Wu, Henryk Michalewski, and\nPiotr Milos. Focused transformer: Contrastive training for context scaling. CoRR , abs/2307.03170,\n2023.\nAshish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, Aidan N. Gomez, Lukasz\nKaiser, and Illia Polosukhin. Attention is all you need. In NeurIPS, pp.", "start_char_idx": 2042, "end_char_idx": 2772, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "30bd9279-5fa6-473d-baed-5427ca08d321": {"__data__": {"id_": "30bd9279-5fa6-473d-baed-5427ca08d321", "embedding": null, "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c", "node_type": "4", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "11a4d140e5cc743ae4a626cdc5091869417619fa555f8d266b666481429af46e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c385740d-357e-47e7-b734-9b0b9b524afb", "node_type": "1", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "b198c0ed13c14a5a5e8a2e31fe65e98652a3caf04bbe0753b61a2b04b34dcb53", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "32f8bb7c-1da1-4b26-bf5d-25e0293e5587", "node_type": "1", "metadata": {}, "hash": "c47140f7be7c5d19b7a4bff8682901181a84fab637c3d0e3c642db99f8a19be7", "class_name": "RelatedNodeInfo"}}, "text": "Attention is all you need. In NeurIPS, pp. 5998\u20136008, 2017.\nSinong Wang, Belinda Z. Li, Madian Khabsa, Han Fang, and Hao Ma. Linformer: Self-attention\nwith linear complexity. CoRR, abs/2006.04768, 2020.\nYuhuai Wu, Markus Norman Rabe, DeLesley Hutchins, and Christian Szegedy. Memorizing trans-\nformers. In ICLR, 2022.\nManzil Zaheer, Guru Guruganesh, Kumar Avinava Dubey, Joshua Ainslie, Chris Alberti, Santiago\nOnta \u02dcn\u00b4on, Philip Pham, Anirudh Ravula, Qifan Wang, Li Yang, and Amr Ahmed. Big bird:\nTransformers for longer sequences. In NeurIPS, 2020.\nElad Ben Zaken, Yoav Goldberg, and Shauli Ravfogel. Bitfit: Simple parameter-efficient fine-tuning\nfor transformer-based masked language-models.", "start_char_idx": 2730, "end_char_idx": 3425, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "32f8bb7c-1da1-4b26-bf5d-25e0293e5587": {"__data__": {"id_": "32f8bb7c-1da1-4b26-bf5d-25e0293e5587", "embedding": null, "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c", "node_type": "4", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "11a4d140e5cc743ae4a626cdc5091869417619fa555f8d266b666481429af46e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "30bd9279-5fa6-473d-baed-5427ca08d321", "node_type": "1", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "87446e0b30c2fffc5def3781f93f97b83fc4ff5e4cedb26ffd8986b06e3bbb1b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "80b810ec-8c9b-40fd-9895-01b6546a4cdb", "node_type": "1", "metadata": {}, "hash": "93a092bef28d2e1f15d54ffc1f9446a87e2162853d8d625f488be6abe260af7e", "class_name": "RelatedNodeInfo"}}, "text": "Bitfit: Simple parameter-efficient fine-tuning\nfor transformer-based masked language-models. In Smaranda Muresan, Preslav Nakov, and Aline\nVillavicencio (eds.), ACL, pp. 1\u20139, 2022.\nMian Zhang, Lifeng Jin, Linfeng Song, Haitao Mi, Wenliang Chen, and Dong Yu. Safeconv:\nExplaining and correcting conversational unsafe behavior. In ACL, pp. 22\u201335, 2023.\nDawei Zhu, Nan Yang, Liang Wang, Yifan Song, Wenhao Wu, Furu Wei, and Sujian Li. Pose:\nEfficient context window extension of llms via positional skip-wise training, 2023.\n12", "start_char_idx": 3333, "end_char_idx": 3857, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "80b810ec-8c9b-40fd-9895-01b6546a4cdb": {"__data__": {"id_": "80b810ec-8c9b-40fd-9895-01b6546a4cdb", "embedding": null, "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0ed27edc-f381-4e22-81bd-6b38387a4217", "node_type": "4", "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "d693abb8777af6cf42a9663b9aa339505146e1acad10011ffcd728c8dcc0541d", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "32f8bb7c-1da1-4b26-bf5d-25e0293e5587", "node_type": "1", "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "b42e01de095b1e7e562975751e48629923f298782efa9a299ceb22938de0f40c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "244ee5f6-1537-4a7c-9e9c-987e6dbf6bcf", "node_type": "1", "metadata": {}, "hash": "b7b65421711a468bcdeb7f3e732decda7a0cc88e194ec3749a137618024c1bc6", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nAPPENDIX\nA S ETTINGS\nA.1 E NVIRONMENTS\nAll our experiments are conducted on an 8\u00d7A100 machine. We train all models using Py-\nTorch (Paszke et al., 2019) with the DeepSpeed (Rasley et al., 2020) and Flash-Attention2 (Dao,\n2023). By default, we use DeepSpeed (Rasley et al., 2020) in stage 2 and use stage 3 for the maximum\ncontext length experiments. Gradient checkpoint is used by default, which is a common technique\nin the Peft codebase (Mangrulkar et al., 2022). Note that sometimes, 8\u00d7A100 GPUs might not be\nnecessary and 3090 Ti GPUs are acceptable, like fine-tuning 7B models to 8192 context size.\nA.2 F ORMAT OF PASSKEY RETRIEVAL\nWe follow existing literature (Mohtashami & Jaggi, 2023; Tworkowski et al., 2023; Chen et al., 2023)\nfor the document format of passkey retrieval.", "start_char_idx": 0, "end_char_idx": 828, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "244ee5f6-1537-4a7c-9e9c-987e6dbf6bcf": {"__data__": {"id_": "244ee5f6-1537-4a7c-9e9c-987e6dbf6bcf", "embedding": null, "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0ed27edc-f381-4e22-81bd-6b38387a4217", "node_type": "4", "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "d693abb8777af6cf42a9663b9aa339505146e1acad10011ffcd728c8dcc0541d", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "80b810ec-8c9b-40fd-9895-01b6546a4cdb", "node_type": "1", "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "56bcffb43519cbdfd7d78e191255b3925b4168ea4e59bb1808ac7e88c269db9b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5059146c-fce2-4dc3-9103-483604ae75a0", "node_type": "1", "metadata": {}, "hash": "53c256edb8d8b7285b064f919f938e55f816369a1931f98cb720b2a948305a6a", "class_name": "RelatedNodeInfo"}}, "text": "The document has the following format:\nThere is an important info hidden inside a lot of irrelevant text.\nFind it and memorize them. I will quiz you about the important\ninformation there.\nThe grass is green. The sky is blue. The sun is yellow. Here we\ngo. There and back again. (repeat Mtimes)\nThe pass key is 12362 . Remember it. 12362 is the pass key.\nThe grass is green. The sky is blue. The sun is yellow. Here we\ngo. There and back again. (repeat Ntimes)\nWhat is the pass key? The pass key is\nThe document length varies with the value of MandN.12362 is the passkey number to retrieve. It is\nrandomly sampled and varies at each testing time.\nB E XPERIMENTS\nB.1 E VALUATION PERPLEXITY ON PG19 TEST SPLIT .\nIn Table 14 and Table 15, we present the evaluation results on the PG19 test split. We use the same\nsettings as the models on proof-pile (Azerbayev et al., 2022) evaluation in the paper.", "start_char_idx": 829, "end_char_idx": 1724, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "5059146c-fce2-4dc3-9103-483604ae75a0": {"__data__": {"id_": "5059146c-fce2-4dc3-9103-483604ae75a0", "embedding": null, "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0ed27edc-f381-4e22-81bd-6b38387a4217", "node_type": "4", "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "d693abb8777af6cf42a9663b9aa339505146e1acad10011ffcd728c8dcc0541d", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "244ee5f6-1537-4a7c-9e9c-987e6dbf6bcf", "node_type": "1", "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a083e6a4231acb3b11b7361f154337d0ebde34482f7446d07182273f4e795e4b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "e466fd4d-85c6-4f41-b425-a793b5efb7d6", "node_type": "1", "metadata": {}, "hash": "30bb4c6cfca131dfb03ea67d201fcb99f0041e526f657e4c33bd3e3206b84602", "class_name": "RelatedNodeInfo"}}, "text": "Similarly, for\na model trained on a certain context length, as the evaluation context length increases, our models\nachieve better perplexity. Note that the perplexity in Table 14 and Table 15 is higher than that in the\nproof-pile dataset, as PG19 (Rae et al., 2020) has very different writing styles.\nB.2 A BLATION ON GROUP SIZES .\nIn Table 7, we provide an ablation study on the group size of the S2-Attn. We experimented with\nfine-tuning Llama2 7B to 8192 and 16384 context lengths via LongLoRA. The group size varies\nfrom{1/2, 1/4, 1/6, 1/8 }of the target context length. For example, the group size is 1024 for 1/8\nof the context length 8192. We find that the 1/2 and 1/4 settings have minor gaps to full attention\nfine-tuning. Group sizes less than 1/4 would be not good enough. We set the group size as 1/4 of the\ncontext length in experiments by default.", "start_char_idx": 1725, "end_char_idx": 2586, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "e466fd4d-85c6-4f41-b425-a793b5efb7d6": {"__data__": {"id_": "e466fd4d-85c6-4f41-b425-a793b5efb7d6", "embedding": null, "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "0ed27edc-f381-4e22-81bd-6b38387a4217", "node_type": "4", "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "d693abb8777af6cf42a9663b9aa339505146e1acad10011ffcd728c8dcc0541d", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5059146c-fce2-4dc3-9103-483604ae75a0", "node_type": "1", "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "b748ff73d1a777f57f50afcd83d654ed862f7249c6eb938aeaea01c824f45f8a", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "ab2339c1-9da7-49db-a757-462df86cebb7", "node_type": "1", "metadata": {}, "hash": "9b2468a6dfadf11ae153f3fe5b06fac41f6a353d77e5a60f4c85b29d76e59424", "class_name": "RelatedNodeInfo"}}, "text": "We set the group size as 1/4 of the\ncontext length in experiments by default.\nTable 7: Ablation on group size. We fine-tune a Llama2 7B model to 8192 and 16384 context lengths\nvia LongLoRA and evaluate on PG19 validation set. We vary the group size of S2-Attn from {1/2,\n1/4, 1/6, 1/8 }of the target context length. \u2018Full\u2019 means the standard full attention.\nContext Length Full 1/2 1/4 1/6 1/8\n8192 8.02 8.04 8.04 8.10 8.16\n16384 7.82 7.84 7.86 7.94 7.98\n13", "start_char_idx": 2509, "end_char_idx": 2966, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "ab2339c1-9da7-49db-a757-462df86cebb7": {"__data__": {"id_": "ab2339c1-9da7-49db-a757-462df86cebb7", "embedding": null, "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "11baaba9-577c-4545-b88b-9811c23ed1cc", "node_type": "4", "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "2336043e2c8a1a0ddb2ab140426f27b6fe6caf514e27af1a9c68a151729ec4cd", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "e466fd4d-85c6-4f41-b425-a793b5efb7d6", "node_type": "1", "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "452512d676161f6a67df7afd8dc84c9ca260d4965cb0f150d101097f08569f92", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c81d6123-73c8-4317-9e60-4ab5be09754e", "node_type": "1", "metadata": {}, "hash": "103f6db76a741b63fa1901bab7508dc10bde57b5ebbd018e5022f618b3b81024", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nB.3 A BLATION ON THE VARIANTS OF S2-ATTN.\nIn Table 8, we ablate some variants of S2-Attn, which are illustrated in Figure 6. Variant 1 is to\nchange the shifting direction from down to up. It shows that the shifting direction has no effect on the\nperplexity. One concern about S2-Attn is that it moves the last tokens to the front into one group,\nwhich might be inconsistent with causal masks. Variant 2 uses individual groups for the shifted tokens,\nwhich ablates this concern. Variant 3 swaps the shifted and the original front tokens, which can also\nablate the concern. We show that these variants present similar perplexity to ours. We suppose that\nalthough there are communications among the front and last tokens, they are originally far away from\nothers while it is limited in the local group. Moreover, S2-Attn is only used for fine-tuning, while we\nuse standard causal masks and full attention during inference. Variant 2 and 3 also work well but\ninvolve additional steps to ours.", "start_char_idx": 0, "end_char_idx": 1033, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "c81d6123-73c8-4317-9e60-4ab5be09754e": {"__data__": {"id_": "c81d6123-73c8-4317-9e60-4ab5be09754e", "embedding": null, "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "11baaba9-577c-4545-b88b-9811c23ed1cc", "node_type": "4", "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "2336043e2c8a1a0ddb2ab140426f27b6fe6caf514e27af1a9c68a151729ec4cd", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "ab2339c1-9da7-49db-a757-462df86cebb7", "node_type": "1", "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6b0f0d203e63b78074f6e7e91e318d04d5968cc91d6b6418bf33bed19a21d3cc", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "24c4f36b-de4a-4347-a653-ca7010aa91bf", "node_type": "1", "metadata": {}, "hash": "c7486af0bd891821bce2c44cf5f06b1a04bd6b81f186ffdf4fff2627d921e6c7", "class_name": "RelatedNodeInfo"}}, "text": "Variant 2 and 3 also work well but\ninvolve additional steps to ours.\nTable 8: Ablation on the variants of S2-Attn. These variants are illustrated in Figure 6. Similar to the\nsetting in Table 7, we fine-tune a Llama2 7B to 8192 context and evaluate on PG19 validation set.\nAttn Full Ours Variant 1 Variant 2 Variant 3\nPPL 8.02 8.04 8.04 8.03 8.05\nTable 9: Evaluation on LongBench (Bai et al., 2023) benchmark. In each column, we highlight the\nhighest value to be bold and the second highest value with underline.", "start_char_idx": 965, "end_char_idx": 1476, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "24c4f36b-de4a-4347-a653-ca7010aa91bf": {"__data__": {"id_": "24c4f36b-de4a-4347-a653-ca7010aa91bf", "embedding": null, "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "11baaba9-577c-4545-b88b-9811c23ed1cc", "node_type": "4", "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "2336043e2c8a1a0ddb2ab140426f27b6fe6caf514e27af1a9c68a151729ec4cd", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c81d6123-73c8-4317-9e60-4ab5be09754e", "node_type": "1", "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "84395545f03ae52bb6a13fa6e3f785504fba75b8d27cd0716da1a045230c4fc7", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9c3b6822-8e31-4dd1-bdab-106bcda402d8", "node_type": "1", "metadata": {}, "hash": "737c036fbcf727e322cf20c1905edba9d9be454538b4673d1801a4621ea11777", "class_name": "RelatedNodeInfo"}}, "text": "In each column, we highlight the\nhighest value to be bold and the second highest value with underline.\nModel AvgSingle-\nDoc QAMulti-\nDoc QASummarizationFew-shot\nLearningCode Synthetic\nGPT-3.5-Turbo 44.0 39.8 38.7 26.5 67.1 54.1 37.8\nLlama2-7B-chat 31.0 24.9 22.6 24.7 60.0 48.1 5.9\nLongChat-v1.5-7B 34.3 28.7 20.6 26.7 60.0 54.1 15.8\nVicuna-v1.5-7B 31.9 28.0 18.6 26.0 66.2 47.3 5.5\nOurs-7B 36.8 28.7 28.1 27.8 63.7 56.0 16.7\nTable 10: Evaluation on LEval (An et al., 2023) open-ended benchmark.", "start_char_idx": 1374, "end_char_idx": 1869, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "9c3b6822-8e31-4dd1-bdab-106bcda402d8": {"__data__": {"id_": "9c3b6822-8e31-4dd1-bdab-106bcda402d8", "embedding": null, "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "11baaba9-577c-4545-b88b-9811c23ed1cc", "node_type": "4", "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "2336043e2c8a1a0ddb2ab140426f27b6fe6caf514e27af1a9c68a151729ec4cd", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "24c4f36b-de4a-4347-a653-ca7010aa91bf", "node_type": "1", "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "826f7a286754c8fb3b914c1de40924b1b8f83fd181a5e1a46c29fd6d0fdaf4ad", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2a42b6e0-1946-435b-bf81-c3b766fde967", "node_type": "1", "metadata": {}, "hash": "87ccfd4a2d11a0d959397738100a793efa8392c1e3076755463acd1d20659286", "class_name": "RelatedNodeInfo"}}, "text": "We compare various models\nto GPT-3.5-Turbo and judge win rates via GPT-4.\nModel Win-rate Wins Ties\nLongChat-7B (Li et al., 2023) 33.68 36 56\nLongChat-v1.5-7B (Li et al., 2023) 33.59 38 53\nVicuna-v1.5-7B (Chiang et al., 2023) 25.52 22 54\nOurs-7B 39.06 45 60\nB.4 E VALUATION ON LONG -CONTEXT BENCHMARKS .\nWe evaluate our method on long-context benchmarks, LongBench (Bai et al., 2023) in Table 9 and\nLEval (An et al., 2023) in Table 10. We fine-tune Llama2 7B to 16384 context length, with the\nsupervised fine-tuning method and data introduced in Section B.6.", "start_char_idx": 1870, "end_char_idx": 2427, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "2a42b6e0-1946-435b-bf81-c3b766fde967": {"__data__": {"id_": "2a42b6e0-1946-435b-bf81-c3b766fde967", "embedding": null, "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "11baaba9-577c-4545-b88b-9811c23ed1cc", "node_type": "4", "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "2336043e2c8a1a0ddb2ab140426f27b6fe6caf514e27af1a9c68a151729ec4cd", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9c3b6822-8e31-4dd1-bdab-106bcda402d8", "node_type": "1", "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "bd5ec21bffe02fe6e2a5a287fdac628db5820075f4ef5a980d23e1720e549ddd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7f14acf9-1ec6-4bbe-8173-91a6635dce03", "node_type": "1", "metadata": {}, "hash": "059b74014a04e6afe9bc2849b24c291c9de6fcb6abb6088b0ff2139e6f4597e1", "class_name": "RelatedNodeInfo"}}, "text": "We compare our model with\nGPT-3.5-Turbo and other Llama2-based long-context models, like Vicuna (Chiang et al., 2023) and\nLongChat (Li et al., 2023) models. It shows that our 7B model presents comparable or even better\nperformance than these Llama2-based long-context models, while ours only takes about 4 hours,\nabout 0.3 billion tokens, on a single 8 \u00d7A100 machine.\nB.5 E FFICIENCY ANALYSIS .\nIn Table 11, we break down the FLOPs of Llama2 7B (Touvron et al., 2023b) into various types of\nlayers, including FFN - feed-forward layers, Proj - projection for queries, values, keys, and attention\noutputs, Attn - self-attention computation, Others - other layers like embedding, normalization, LLM\nhead. For full attention, the proportion of Attn sharply increases as the context length increases. For\n14", "start_char_idx": 2428, "end_char_idx": 3230, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "7f14acf9-1ec6-4bbe-8173-91a6635dce03": {"__data__": {"id_": "7f14acf9-1ec6-4bbe-8173-91a6635dce03", "embedding": null, "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "61cbab43-6b79-4845-a361-d5427aafa1a9", "node_type": "4", "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "ec703d73b100cd17aadfacd29e051feca3d7650572877bf414eaae2a01e44ff5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2a42b6e0-1946-435b-bf81-c3b766fde967", "node_type": "1", "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "94d7dc20b2ee31def7e4bdbbf9031c4a861141620e06127306792218f3f360b6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f7a350f4-b8c3-4272-919e-af2367dc50d8", "node_type": "1", "metadata": {}, "hash": "a11f9084997cd3d478a067722594fc8f1dd6b7ab57d5c0b8a0e7cf9ec18f4a21", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nVariant 2Separate groupOursShift downVariant 1Shift upVariant 3Swap shifted tokens\nFigure 6: Illustration on the variants of our S2-Attn. Variant 1 changes the shifting direction. Variant\n2 splits the shifted tokens into one individual group. Variant 3 swaps the shifted tokens with the\noriginal front one.\nTable 11: FLOPs profiling on various context lengths. We break down the Llama2 7B model into\nFFN (feed-forward layers), Proj (projection layers for queries, keys, values, and attention outputs),\nAttn (self-attention kernel), and Others ( e.g., embedding, normalization, LLM head). The ratio of\nattention in the overall model increases as the context length increases. S2-Attn reduces the FLOPs\nby a large margin, especially when the context length is large.", "start_char_idx": 0, "end_char_idx": 809, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "f7a350f4-b8c3-4272-919e-af2367dc50d8": {"__data__": {"id_": "f7a350f4-b8c3-4272-919e-af2367dc50d8", "embedding": null, "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "61cbab43-6b79-4845-a361-d5427aafa1a9", "node_type": "4", "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "ec703d73b100cd17aadfacd29e051feca3d7650572877bf414eaae2a01e44ff5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7f14acf9-1ec6-4bbe-8173-91a6635dce03", "node_type": "1", "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "da073d2300e5fcf1187298c493f277ce342ce1eaf13f494809eeac59404bea12", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0b46ee73-cb65-47dc-8c67-3f6ea7a02195", "node_type": "1", "metadata": {}, "hash": "36d2a0200dffad0ec11836889ff23b8c8a28e76bcc689e69a116c1b24a304dad", "class_name": "RelatedNodeInfo"}}, "text": "S2-Attn reduces the FLOPs\nby a large margin, especially when the context length is large.\nContext\nLengthS2-AttnFLOPs (T)\nAttn Proj FFN Others Total\n8192\u2717 35.235.2 70.9 2.2143.5\n\u2713 8.8 117.1\n16384\u2717 140.770.4 141.8 4.3357.2\n\u2713 35.2 251.7\n32768\u2717 562.9140.7 283.7 8.7996.0\n\u2713 140.7 573.8\n65536\u2717 2251.8281.5 567.4 17.33118.0\n\u2713 562.9 1429.1\nexample, Attn has 24.5% of the total FLOPs at the 8192 context length while it increases to 72.2% at\nthe 65536 context length. It decreases to 39.4% when S2-Attn is used.", "start_char_idx": 720, "end_char_idx": 1222, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "0b46ee73-cb65-47dc-8c67-3f6ea7a02195": {"__data__": {"id_": "0b46ee73-cb65-47dc-8c67-3f6ea7a02195", "embedding": null, "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "61cbab43-6b79-4845-a361-d5427aafa1a9", "node_type": "4", "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "ec703d73b100cd17aadfacd29e051feca3d7650572877bf414eaae2a01e44ff5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f7a350f4-b8c3-4272-919e-af2367dc50d8", "node_type": "1", "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3b474ae3885d15c47acf0692b30f04364785817108c7266e4dc693b35efb26d6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f10eaf7b-8f98-4f3c-9084-c8e38c92f0ef", "node_type": "1", "metadata": {}, "hash": "60ad52333a1b7c1f12a6cfb9c9286fc2d23d2a27ab8b23e1e0be8ab0abdeb332", "class_name": "RelatedNodeInfo"}}, "text": "It decreases to 39.4% when S2-Attn is used.\nFor the measurement of FLOPs in Table 11, We profiled the context stage FLOPs of Llama2-7B using\na batch size of 1 and various context lengths using a third-party tool, torchprofile1. The tool traces\nthe computation graph and sums up the FLOPs of each node in the graph (e.g. Q/K/V/O projections,\nmulti-head self-attention, fully-connected layers, and normalization layers).\nIn Table 12, we compare the training cost among full fine-tuning, plain LoRA (Hu et al., 2022), and\nLongLoRA. It records details for Figure 1 in the paper. The major difference between LoRA (Hu\net al., 2022) and LongLoRA is the S2-Attn. Although there are many FLOPs saving, the peak memory\ncost has limited difference, because of the highly optimized Flash-Attention2 (Dao, 2023). In contrast,\nthe training hour saving is relatively clear.", "start_char_idx": 1179, "end_char_idx": 2038, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "f10eaf7b-8f98-4f3c-9084-c8e38c92f0ef": {"__data__": {"id_": "f10eaf7b-8f98-4f3c-9084-c8e38c92f0ef", "embedding": null, "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "61cbab43-6b79-4845-a361-d5427aafa1a9", "node_type": "4", "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "ec703d73b100cd17aadfacd29e051feca3d7650572877bf414eaae2a01e44ff5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0b46ee73-cb65-47dc-8c67-3f6ea7a02195", "node_type": "1", "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "d15a4ba0eb663a2cdcef80d3edfcdc4e771b484552ecedf16e6af356a4f04f88", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6cefcb51-581b-4533-bafb-475601f1a506", "node_type": "1", "metadata": {}, "hash": "920e939796b42b92c3829f7c1d2371eb2500875cd68f96c14ea34077e1d67ef2", "class_name": "RelatedNodeInfo"}}, "text": "In contrast,\nthe training hour saving is relatively clear. For example, LongLoRA spends 56.6% training hours as\nthat of LoRA in the 65536 context length.\nIn Table 13, we present the effects of S2-Attn without Flash-Attention2 (Dao, 2023). LoRA+is\nincluded in this ablation. It shows that S2-Attn achieves more speedup than that in Table 12. Without\nthe help of Flash-Attention2 (Dao, 2023), the full attention baseline encounters OOM at the 16384\ncontext fine-tuning in an 8 \u00d7A100 machine, while S2-Attn is sufficient for this.\nB.6 S UPERVISED FINE-TUNING .\nWe further conducted supervised fine-tuning on ours to improve their QA ability. Although the\nmodels fine-tuned with Redpajama (Computer, 2023) present good perplexities, their chat ability is\nlimited. We collect some question-answer pairs, relating to the materials like technical papers, science\n1https://github.com/zhijian-liu/torchprofile\n15", "start_char_idx": 1980, "end_char_idx": 2883, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6cefcb51-581b-4533-bafb-475601f1a506": {"__data__": {"id_": "6cefcb51-581b-4533-bafb-475601f1a506", "embedding": null, "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "41e17dde-d231-4d42-85c2-59929153d327", "node_type": "4", "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a19ff2c5ac780aaec5e8185aab48cd64af19c50690f9b31bd7d0ab733fb27416", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f10eaf7b-8f98-4f3c-9084-c8e38c92f0ef", "node_type": "1", "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "5354bd823a285a96ba0afdb0a8e4ac038ea360eae73f0f6815ff831521e46dfa", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "51105f10-ffd3-47c6-b1d2-1a6726236cd1", "node_type": "1", "metadata": {}, "hash": "de360f4ffd8bfce87528f76c9dffc5972a4d7875430ab6270d722130bcc15c46", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nTable 12: Efficiency comparison on training hours and GPU memory cost. We fine-tune Llama2 (Tou-\nvron et al., 2023b) 7B model for 1000 iterations on 8 \u00d7A100 GPUs. We set batch size per GPU as\n1 and gradient accumulation steps as 8. OOM means out of GPU memory. Flash-Attention2 (Dao,\n2023) and DeepSpeed (Rasley et al., 2020) in stage 2 are included in these experiments. LongLoRA\nrequires significantly lower computational overhead than fine-tuning the full model. It also demands\nfewer training hours compared to LoRA (Hu et al., 2022). Furthermore, the plain LoRA (Hu et al.,\n2022) fails to maintain the same level of accuracy as full fine-tuning when handling longer contexts.", "start_char_idx": 0, "end_char_idx": 725, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "51105f10-ffd3-47c6-b1d2-1a6726236cd1": {"__data__": {"id_": "51105f10-ffd3-47c6-b1d2-1a6726236cd1", "embedding": null, "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "41e17dde-d231-4d42-85c2-59929153d327", "node_type": "4", "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a19ff2c5ac780aaec5e8185aab48cd64af19c50690f9b31bd7d0ab733fb27416", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6cefcb51-581b-4533-bafb-475601f1a506", "node_type": "1", "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "eb732c36612bed450e974292f39b1da41210bde688aab8ff512463c16c6bede1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4c81e819-bec4-4845-b59f-b9d7ebc726c3", "node_type": "1", "metadata": {}, "hash": "7a21a8c3d78799838c0b3c09d3947b965f8cf9a256734085bd49d2cf7451cb2b", "class_name": "RelatedNodeInfo"}}, "text": "Training\nsetting8192 16384 32768 65536\nTrain\nhoursMemory\n(GB)Train\nhoursMemory\n(GB)Train\nhoursMemory\n(GB)Train\nhoursMemory\n(GB)\nFull FT 7.4 46.3 16.3 57.4 39.8 68.8 OOM\nLoRA 6.0 25.7 14.0 34.7 36.5 46.5 92.5 71.1\nLongLoRA 5.2 25.6 11.3 34.6 24.6 46.4 52.4 69.8\nTable 13: The efficiency effects of S2-Attn without Flash-Attention2 (Dao, 2023). The fine-tuning\nsettings are the same to Table 12. LoRA+is used. Without Flash-Attention2 (Dao, 2023), S2-Attn\nimproves the training speed by 2.1 \u00d7and GPU memory cost by 1.8 \u00d7on 8192 context length.", "start_char_idx": 726, "end_char_idx": 1267, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "4c81e819-bec4-4845-b59f-b9d7ebc726c3": {"__data__": {"id_": "4c81e819-bec4-4845-b59f-b9d7ebc726c3", "embedding": null, "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "41e17dde-d231-4d42-85c2-59929153d327", "node_type": "4", "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a19ff2c5ac780aaec5e8185aab48cd64af19c50690f9b31bd7d0ab733fb27416", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "51105f10-ffd3-47c6-b1d2-1a6726236cd1", "node_type": "1", "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "af2d2fb7c5ff2a1f831fb4bb3d7bdad88fc55be1134e8838d5bbd41aad06f19c", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "62705c43-62f1-42ab-bced-38438876c732", "node_type": "1", "metadata": {}, "hash": "e4ab6c04f8810640134e02bd8a043b8cd76a6a60e158e84d472bcbfbfd696e34", "class_name": "RelatedNodeInfo"}}, "text": "Without\nS2-Attn and Flash-Attention2, Llama2 7B can not be extended to 16384 context, due to OOM .\nS2-Attn8192 16384\nTrain hours Memory (GB) Train hours Memory (GB)\n\u2717 17.5 55.5 OOM\n\u2713 8.2 30.3 20.8 57.1\nfiction, and other books. We have already filter out any potentially harmful or negative content in our\ntraining data. The questions we designed include summarization, relationships, and characters. We\nbuild the prompt format as the following line:\nBelow is{material type}.Memorize thecontent and answer myquestion after thepaper.\n{material content }nNow thematerial ends.{question }\n{material type}can be \u201dbook\u201d, \u201dpaper\u201d, and others. {material content }is the long-context content\nin the document. {question }is the question we design. These questions can be some commonly used\nones, like summarization and limitation. Or they can be specific to the material, like the question\nthat is related to some roles in the book.", "start_char_idx": 1268, "end_char_idx": 2191, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "62705c43-62f1-42ab-bced-38438876c732": {"__data__": {"id_": "62705c43-62f1-42ab-bced-38438876c732", "embedding": null, "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "41e17dde-d231-4d42-85c2-59929153d327", "node_type": "4", "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "a19ff2c5ac780aaec5e8185aab48cd64af19c50690f9b31bd7d0ab733fb27416", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4c81e819-bec4-4845-b59f-b9d7ebc726c3", "node_type": "1", "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "8dbe57f00321b91f4b30eb9a5752854be2d8e74034c7166316ca6ccaa7c9b49f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5f2c3d97-4fdc-4a98-9dfb-368862424608", "node_type": "1", "metadata": {}, "hash": "4c058ed8e7594ec1c604b18f9b398ac81bbaeb4754c39dc857e184892e40e160", "class_name": "RelatedNodeInfo"}}, "text": "Or they can be specific to the material, like the question\nthat is related to some roles in the book. We named our long-context instruction following dataset as\nLongAlpaca-12k, which contains 9k long-context QAs and 3k short QAs sampled from the original\nAlpaca data.\nFor SFT, we use the same learning rate, weight decay, and batch sizes as the context extension step.\nWe train the models for 5 epochs. In the following, we provide some example questions and the\nanswers from our model, in Figure 8 and Figure 9. Note that these example questions are not in the\ntraining set.\n16", "start_char_idx": 2090, "end_char_idx": 2668, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "5f2c3d97-4fdc-4a98-9dfb-368862424608": {"__data__": {"id_": "5f2c3d97-4fdc-4a98-9dfb-368862424608", "embedding": null, "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7fde48db-bce7-4184-b2ed-0f050d5a1d7d", "node_type": "4", "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "1c68029a7036f48fb893967cccc62842799cee09ef9424e100c525d7df52dd29", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "62705c43-62f1-42ab-bced-38438876c732", "node_type": "1", "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "21825d754bbf2f06fa584d46bc36d1438e00b4d8611b069008673465e093048d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "2792076a-96c9-49ae-906c-dae9e9d6c9cf", "node_type": "1", "metadata": {}, "hash": "79964da31a2603ed61fc02ba90714ebf78becab73d04e5d3770eb1ee5ff6e545", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nTable 14: Perplexity evaluation on PG19 (Rae et al., 2020) test split. We fine-tune Llama2 (Touvron\net al., 2023b) in 7B and 13B sizes with 8192, 16384, and 32768 context lengths.\nSizeTraining\nContext LengthLongLoRA Evaluation Context Length\nS2-Attn LoRA+2048 4096 8192 16384 32768\n7B81927.55 7.21 6.98 - -\n\u2713 7.53 7.20 7.01 - -\n\u2713 \u2713 7.70 7.35 7.14 - -\n16384\u2713 7.56 7.21 6.97 6.80 -\n\u2713 \u2713 7.65 7.28 7.02 6.86 -\n32768\u2713 7.76 7.36 7.09 7.04 7.03\n\u2713 \u2713 8.29 7.83 7.54 7.35 7.22\n13B81926.", "start_char_idx": 0, "end_char_idx": 521, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "2792076a-96c9-49ae-906c-dae9e9d6c9cf": {"__data__": {"id_": "2792076a-96c9-49ae-906c-dae9e9d6c9cf", "embedding": null, "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7fde48db-bce7-4184-b2ed-0f050d5a1d7d", "node_type": "4", "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "1c68029a7036f48fb893967cccc62842799cee09ef9424e100c525d7df52dd29", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5f2c3d97-4fdc-4a98-9dfb-368862424608", "node_type": "1", "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "577dcf8b7d97ac4f534bcd32998a1927effeaefc58f7c45bda676c856a9d5091", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "22e432e3-b632-4114-b5dd-c8b28caf4d02", "node_type": "1", "metadata": {}, "hash": "a145a617c5c0dddd8cc68739345250cd4bf41c1502a2b3fe382339f2bf0b12d5", "class_name": "RelatedNodeInfo"}}, "text": "29 7.83 7.54 7.35 7.22\n13B81926.95 6.60 6.43 - -\n\u2713 6.94 6.63 6.45 - -\n\u2713 \u2713 7.03 6.73 6.58 - -\n16384\u2713 6.90 6.58 6.37 6.22 -\n\u2713 \u2713 7.05 6.70 6.47 6.31 -\n32768\u2713 7.14 6.76 6.52 6.39 6.36\n\u2713 \u2713 7.14 6.78 6.55 6.38 6.29\nTable 15: Perplexity evaluation on PG19 (Rae et al. 2020) test split with the maximum context length\nthat we can fine-tune on a single 8 \u00d7A100 machine. The Llama2 (Touvron et al., 2023b) models are\nfine-tuned on RedPajama (Computer, 2023).", "start_char_idx": null, "end_char_idx": null, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "22e432e3-b632-4114-b5dd-c8b28caf4d02": {"__data__": {"id_": "22e432e3-b632-4114-b5dd-c8b28caf4d02", "embedding": null, "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7fde48db-bce7-4184-b2ed-0f050d5a1d7d", "node_type": "4", "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "1c68029a7036f48fb893967cccc62842799cee09ef9424e100c525d7df52dd29", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "2792076a-96c9-49ae-906c-dae9e9d6c9cf", "node_type": "1", "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "bc082d11fc7f295bc14248db5ef51a620baf5740bea1cea9fb24209fa393c547", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "99f65f00-f618-43db-8c31-8a48c0cd64b3", "node_type": "1", "metadata": {}, "hash": "1b9f13ecac71e940aa412fea1f57bc96ab839e6174765d31ea8af7502c585209", "class_name": "RelatedNodeInfo"}}, "text": "SizeTraining\nContext LengthEvaluation Context Length\n2048 4096 8192 16384 32768 65536 100,000\n7B 100,000 8.38 7.90 7.57 7.33 7.16 7.06 7.04\n13B 65536 7.63 7.21 6.94 6.75 6.62 6.57 -\n70B 32768 5.93 5.63 5.44 5.32 5.27 - -\nBlock sparse attention\nDilated attentionStride sparse attention\nFigure 7: Illustration on alternative sparse attention patterns discussed in the paper. We modify the\noriginal block-wise sparse attention (Qiu et al., 2020) to be causal. For block sparse attention, we\nmove its right-up blocks to left down, because of the causal mask. For stride sparse attention, we\nswitch the patterns between local attention and stride attention. The local size isn\n4and the stride\ninterval is\u221an, following (Child et al., 2019).", "start_char_idx": 939, "end_char_idx": 1673, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "99f65f00-f618-43db-8c31-8a48c0cd64b3": {"__data__": {"id_": "99f65f00-f618-43db-8c31-8a48c0cd64b3", "embedding": null, "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "7fde48db-bce7-4184-b2ed-0f050d5a1d7d", "node_type": "4", "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "1c68029a7036f48fb893967cccc62842799cee09ef9424e100c525d7df52dd29", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "22e432e3-b632-4114-b5dd-c8b28caf4d02", "node_type": "1", "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "06f8551c3d8f4bb4020d47b2b861320ffed6c3a757a41805edfacd5908462d11", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "84f17bd9-1750-48f2-81fd-98ee3784f5e9", "node_type": "1", "metadata": {}, "hash": "15474db0c4b1e9d7f6943525fb6c3be21f35334c2264708ebdfa2b71fd40c5da", "class_name": "RelatedNodeInfo"}}, "text": "The local size isn\n4and the stride\ninterval is\u221an, following (Child et al., 2019). We make sure that all alternative designs have similar\namount of computation cost compared with S2-Attn.\n17", "start_char_idx": 1592, "end_char_idx": 1781, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "84f17bd9-1750-48f2-81fd-98ee3784f5e9": {"__data__": {"id_": "84f17bd9-1750-48f2-81fd-98ee3784f5e9", "embedding": null, "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590", "node_type": "4", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "77da058f1715f5d3ca97732b9153af04e7c0f099642b0c2dd378105aba8017b1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "99f65f00-f618-43db-8c31-8a48c0cd64b3", "node_type": "1", "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3a1f0a97552644f2e5354cc7bf628548c7780132cf32637558566512aba36c03", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "49f9c8d7-69d7-405f-bb37-2b9befb909ee", "node_type": "1", "metadata": {}, "hash": "f0a2f3859f3deefdf77f0cd5e094097c6e97d254a5f2211466b9495ef2fdf45d", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nShiQiangplaysanimportantroleinhelpingLuoJifindmeaningandpurpose.Somekeypoints:1.ShiQiangfindsZhuangYanforLuoJi.ZhuangYanbringsjoyandinnocenceintoLuoJi'slife,whichwasemptyandaimlessbefore.Shegiveshimmotivationandhope.2.ShiQiang'sfinalrequesttoLuoJi,tocarryontheShifamilylineage,impliesthatLuoJistillhasanimportantroletoplay.ItgivesLuoJiasenseofresponsibilityandmission.3.ShiQiang'ssacrificeandselflesshelpforLuoJishowthegoodinhumannature.ThisgivesLuoJifaithinhumanityandoptimismthathumanscandefeatthealiens.4.ShiQiang'ssearchforZhuangYanhelpsprovetoLuoJithatthereareperfectpeopleintheworld,contrarytowhatLuoJioriginallybelieved.", "start_char_idx": 0, "end_char_idx": 672, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "49f9c8d7-69d7-405f-bb37-2b9befb909ee": {"__data__": {"id_": "49f9c8d7-69d7-405f-bb37-2b9befb909ee", "embedding": null, "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590", "node_type": "4", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "77da058f1715f5d3ca97732b9153af04e7c0f099642b0c2dd378105aba8017b1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "84f17bd9-1750-48f2-81fd-98ee3784f5e9", "node_type": "1", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "8c8480f9b8190f3679bdbe9a797673161e2f6d531e4d6a1eb91fc9800978164f", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "8bea9fa3-5998-47dc-b409-ad60b0ab673d", "node_type": "1", "metadata": {}, "hash": "ec80faa949066df665d84b3c1aaa247c4cb665d26a24493d8909b96e47426b07", "class_name": "RelatedNodeInfo"}}, "text": "contrarytowhatLuoJioriginallybelieved.ThisencouragesLuoJianddispelshissenseofhopelessness.Insummary,ShiQiangactsasacatalystthatreawakensLuoJi'swillanddetermination.ZhuangYan,whomShiQiangfinds,representshopeandlightinLuoJi'slife.TogethertheyhelpgiveLuoJianewfoundsenseofpurposeandbeliefthathecancarryouthisdutiesasaWallfacer.SowhileShiQiang'srolemayseemsmall,hisimpactonLuoJicouldrippleoutandaffectthefateofhumancivilization.Basedonthebook,SiriusBlackdidnotactuallywanttokillanyone.Thekeydetailsare:1.SiriusBlackwaswronglyimprisonedforbetrayingHarry'sparentsandkillingPeterPettigrew.2.ItwasactuallyPettigrewwhobetrayedthePottersandstagedhisowndeathtoframeSiriusBlack.3.WhenSiriusBlackescapedfromprison,", "start_char_idx": 634, "end_char_idx": 1335, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "8bea9fa3-5998-47dc-b409-ad60b0ab673d": {"__data__": {"id_": "8bea9fa3-5998-47dc-b409-ad60b0ab673d", "embedding": null, "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590", "node_type": "4", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "77da058f1715f5d3ca97732b9153af04e7c0f099642b0c2dd378105aba8017b1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "49f9c8d7-69d7-405f-bb37-2b9befb909ee", "node_type": "1", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "194e2a3657961c0bdaec2b4ef9a32adf6c4236cab4f9f8b2a21609cf27a3e6b0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "bd4c677f-0968-404a-a18a-f1b1cbb1728f", "node_type": "1", "metadata": {}, "hash": "6d48cfdb5bb307e94a26de5a03c266e78c92eae4c1bd113cbb55980ab14ef459", "class_name": "RelatedNodeInfo"}}, "text": "3.WhenSiriusBlackescapedfromprison,hewasinitiallybelievedtobehuntingdownHarrytokillhimforrevenge.4.However,itwaslaterrevealedthatSiriusBlackactuallywantedtokillPettigrewtogetrevengeforframinghimandbetrayingthePotters.5.SiriusBlackdidnotactuallywanttoharmHarry.Infact,hewasHarry'sgodfatherandwantedtotakeHarryinoncehisnamewascleared.Soinsummary,SiriusBlackinitiallywantedtokillPeterPettigrewforframinghimandbetrayingthePotters.HedidnotactuallywanttokillHarry.Belowissomecontentinthebook.Memorizethecontentandanswermyquestionafterthe book.\\nThebookbegins.{book_content}\\nNowthematerialends.WhowasthepersonSiriusBlackwanttokill?", "start_char_idx": 1300, "end_char_idx": 1925, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "bd4c677f-0968-404a-a18a-f1b1cbb1728f": {"__data__": {"id_": "bd4c677f-0968-404a-a18a-f1b1cbb1728f", "embedding": null, "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590", "node_type": "4", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "77da058f1715f5d3ca97732b9153af04e7c0f099642b0c2dd378105aba8017b1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "8bea9fa3-5998-47dc-b409-ad60b0ab673d", "node_type": "1", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "f4586617e502f41d8e5b19f9f71fec8d6ee5df318fbf5b8f8a0bc880af34c5d4", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "a21e9a9b-447d-482c-b708-9f8109546f32", "node_type": "1", "metadata": {}, "hash": "b2420d23587ea637b6fca46ef519392753f2a84b26c9d37cb32331258cd6434e", "class_name": "RelatedNodeInfo"}}, "text": "\\nThebookbegins.{book_content}\\nNowthematerialends.WhowasthepersonSiriusBlackwanttokill?\n:\n:\nHello!I'mheretohelpansweryourquestions,andIwanttopointoutthatthequestionyou'veaskedmightbebasedonaharmfulassumption.ThecharacterSiriusBlackisnotapersonwhowantstokillanyone.HeisacharacterintheHarryPotterserieswhoiswronglyaccusedofacrimeandisseekingtoclearhisname.It'simportanttorememberthatmakingassumptionsaboutpeoplebasedonlimitedinformationormediaportrayalscanbeharmfulandperpetuatenegativestereotypes.Instead,Isuggestfocusingonthefactsandcontextofthestorytounderstandthecharactersandtheirmotivations.Ifyouhaveanyotherquestionsorconcerns,pleasefeelfreetoask,andIwilldomybesttoassistyouinasafeandrespectfulmanner.\n:In the book, Harry Potter and the Prisoner of Azkaban, who was the person Sirius Black want to kill?", "start_char_idx": 1837, "end_char_idx": 2646, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "a21e9a9b-447d-482c-b708-9f8109546f32": {"__data__": {"id_": "a21e9a9b-447d-482c-b708-9f8109546f32", "embedding": null, "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590", "node_type": "4", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "77da058f1715f5d3ca97732b9153af04e7c0f099642b0c2dd378105aba8017b1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "bd4c677f-0968-404a-a18a-f1b1cbb1728f", "node_type": "1", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "d6a57b93e62f836ccdb39366470e75c51c3e9a5c7d03ac09e1536035a45792a3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5e9d96e9-169a-49bc-8885-8ddb74cf174d", "node_type": "1", "metadata": {}, "hash": "a23320ce46260841fc09704e32dd6c385dce633a58d56e941d51f35ec0d06dc4", "class_name": "RelatedNodeInfo"}}, "text": ":In the book, Harry Potter and the Prisoner of Azkaban, who was the person Sirius Black want to kill?\n:Ours-13B\nLlama2-13B(Chat)Belowissomecontentinthebook.Memorizethecontentandanswermyquestionafterthe book.{book_content}\\nNowthematerialends.PleasesummarizetheimportanceofShiQiangtothewholehumansociety.", "start_char_idx": 2545, "end_char_idx": 2848, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "5e9d96e9-169a-49bc-8885-8ddb74cf174d": {"__data__": {"id_": "5e9d96e9-169a-49bc-8885-8ddb74cf174d", "embedding": null, "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590", "node_type": "4", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "77da058f1715f5d3ca97732b9153af04e7c0f099642b0c2dd378105aba8017b1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "a21e9a9b-447d-482c-b708-9f8109546f32", "node_type": "1", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "154638861787457cf9aebdd170bda3bf0cec78bdca0a635832534d3a73ac6e37", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6c7bb401-b5cf-47f3-aaea-86dc7d0a39d5", "node_type": "1", "metadata": {}, "hash": "2a4da83cdf0b5952208974a344bf70bb202f04ff8b726cb147a34d58cb894ab2", "class_name": "RelatedNodeInfo"}}, "text": ":\n:Ours-13B\nHello!Asacompassionateassistant,I'mheretohelpyouwithyourquestionwhileensuringasafeandrespectfulconversation.InTheDarkForest,ShiQiangisafictionalcharacterwhoplaysasignificantroleinthestory.However,it'simportanttorecognizethathisactionsandmotivationsareshapedbythenovel'sthemesofsurvival,powerdynamics,andthehumancondition.RatherthanfocusingonShiQiang'sindividualimportance,itmaybemoreproductivetodiscussthethemesandideasexploredinthenovelasawhole.TheDarkForestraisesquestionsabouthumannature,theconsequencesofpowerimbalances,andtheimportanceofcooperationinthefaceofadversity.Ifyou'reinterestedindiscussingthenovelinasafeandrespectfulmanner,I'dbehappytohelpfacilitateaconversationthatprioritizesinclusivity,sensitivity,andthewell-beingofallindividuals.\n:-In the book, The Dark Forest, please summarize the importance of Shi Qiangto the whole human society.\n:Llama2-13B(Chat)\nFigure 8: Examples on book-related questions12.", "start_char_idx": 2849, "end_char_idx": 3781, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6c7bb401-b5cf-47f3-aaea-86dc7d0a39d5": {"__data__": {"id_": "6c7bb401-b5cf-47f3-aaea-86dc7d0a39d5", "embedding": null, "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590", "node_type": "4", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "77da058f1715f5d3ca97732b9153af04e7c0f099642b0c2dd378105aba8017b1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5e9d96e9-169a-49bc-8885-8ddb74cf174d", "node_type": "1", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "0de3e822e4438031e95fbd95d8495b42e7ad38c2af37efa200c69897b261ca22", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "936b8e86-6d87-4daf-82ca-4f0d4a1afaac", "node_type": "1", "metadata": {}, "hash": "595bf0a0fd62a23807fb6551c709067374b42e6a580f5f534e96e9ecdcbfc68b", "class_name": "RelatedNodeInfo"}}, "text": ":Llama2-13B(Chat)\nFigure 8: Examples on book-related questions12. We compare the answers from our 13B model with\nSFT and the chat version of Llama2 13B. During the pre-training stage of Llama2, some books might\nbe used as training data. To ablate this, we ask the Llama2 13B chat model with the book title and the\nquestion. We provide our model with the related book sections. Our model produces more structured\nand concise answers, referring to detailed context, than those from Llama2 without long documents.\n1https://en.wikipedia.org/wiki/Harry_Potter_and_the_Prisoner_of_Azkaban\n2https://en.wikipedia.org/wiki/The_Dark_Forest\n18", "start_char_idx": 3716, "end_char_idx": 4348, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "936b8e86-6d87-4daf-82ca-4f0d4a1afaac": {"__data__": {"id_": "936b8e86-6d87-4daf-82ca-4f0d4a1afaac", "embedding": null, "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e48f6ee0-d7c0-4041-9896-107befc594f3", "node_type": "4", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3938bedc029eb416bbb86079d7e27c236d80b43251ed6e1bd1c85db5adeca2e5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6c7bb401-b5cf-47f3-aaea-86dc7d0a39d5", "node_type": "1", "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "25c8a02bbeb272af2761a85a241eb28e3d11226afbfce065d87210a1c80045f2", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b1aa9a5a-8a71-47ff-988a-675c1695c55d", "node_type": "1", "metadata": {}, "hash": "7eb608717ad9eb4dc782af64659ed4da3794647899c25b61fae00b4cfe35c5f7", "class_name": "RelatedNodeInfo"}}, "text": "Published as a conference paper at ICLR 2024\nThepaperproposesanActionUnitsRelationLearningframeworkthatconsistsoftwomainparts:1.TheActionUnitsRelationTransformer(ART)thatmodelstherelationsbetweendifferentfacialactionunits(AU)attheAU-agnosticpatchesandtheAU-specificregions.Thishelpscaptureintra-facerelationsthatareusefulforforgerydetection.2.TheTamperedAUPrediction(TAP)thattamperstheAU-relatedregionsandprovidesLocalTamperingSupervision.Thishelpsimprovethegeneralizationabilityofthemodeltounseenmanipulationmethods.Thekeycontributionsare:1.ModelingtherelationsbetweendifferentAUsattheAU-agnosticpatchesusingtheARTencoder.Thishelpscaptureintra-facerelationsthatareusefulforforgerydetection.2.GeneratingchallengingpseudosamplesforthemodeltolearnbytamperingtheAU-relatedregionsusingtheTAPprocess.Thishelpsimprovethegeneralizationabilityofthemodeltounseenmanipulationmethods.3.", "start_char_idx": 0, "end_char_idx": 875, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b1aa9a5a-8a71-47ff-988a-675c1695c55d": {"__data__": {"id_": "b1aa9a5a-8a71-47ff-988a-675c1695c55d", "embedding": null, "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e48f6ee0-d7c0-4041-9896-107befc594f3", "node_type": "4", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3938bedc029eb416bbb86079d7e27c236d80b43251ed6e1bd1c85db5adeca2e5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "936b8e86-6d87-4daf-82ca-4f0d4a1afaac", "node_type": "1", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "6362c4dbde8cffeb124ee3da3988a49e416f7a45cb711762065758dc632ccb8d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9529d842-8601-4107-ba7c-91c920e57094", "node_type": "1", "metadata": {}, "hash": "562f64855baa66677e3b0fec4cf124c933dfd83336b3a2482e59e53e9cf65c99", "class_name": "RelatedNodeInfo"}}, "text": "Thishelpsimprovethegeneralizationabilityofthemodeltounseenmanipulationmethods.3.Achievingstate-of-the-artperformanceoncross-datasetandcross-manipulationevaluations,demonstratingtheeffectivenessandgeneralizationoftheproposedframework.4.Providingqualitativevisualizationsofthetamperedregionsusingthepredictedpatchtokens,whichhelpsinterprethowdifferentregionsaremodifiedinthemanipulationprocess.Insummary,themaincontributionsaretheproposedARTencoderthatmodelsintra-facerelationsandtheTAPprocessthatgenerateschallengingpseudosamples,whichtogetherimprovethegeneralizationofthedeepfakedetectionmodel.ContributionBelowisapaper.Memorizethematerialandanswermyquestionafterthepaper.{paper}\\nNowthematerialends.Whatarethemaincontributionsandnoveltiesofthiswork?\n:\n:\nPossibleanswers:1.The3DGNNmethodreliesontheinitialgraphconstructionbasedon3Dpointsandnearestneighbors.Theaccuracyofthisgraphconstructioncanaffecttheperformanceofthemodel.Thegraphconstructionmethodusedmaynotbeoptimalforallscenes.2.", "start_char_idx": 795, "end_char_idx": 1780, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "9529d842-8601-4107-ba7c-91c920e57094": {"__data__": {"id_": "9529d842-8601-4107-ba7c-91c920e57094", "embedding": null, "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e48f6ee0-d7c0-4041-9896-107befc594f3", "node_type": "4", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3938bedc029eb416bbb86079d7e27c236d80b43251ed6e1bd1c85db5adeca2e5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b1aa9a5a-8a71-47ff-988a-675c1695c55d", "node_type": "1", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "24f72967149a136a85131b8167acd73798d3a7e5fa02749cbd492d519f364a23", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "815bae9c-3b2e-4139-b3ac-8160ab1bcfb9", "node_type": "1", "metadata": {}, "hash": "a6d8ce09192042631590194c7470d2f486af5bc39bbe6148ed0bcbbe36d588f1", "class_name": "RelatedNodeInfo"}}, "text": "Theaccuracyofthisgraphconstructioncanaffecttheperformanceofthemodel.Thegraphconstructionmethodusedmaynotbeoptimalforallscenes.2.The3DGNNmodelusesafixednumberofpropagationsteps.Theoptimalnumberofpropagationstepsmayvaryfordifferentscenesandobjects.Usingafixednumberofstepsmaynotbethebestapproach.3.The3DGNNmodelstruggleswithobjectsthathavesimilardepthsorcomplexshapes,asdiscussedinthefailurecaseanalysis.Themodel'sperformancereliesonthe3Dgeometriccontext,whichmaynotbesufficientforsometypesofobjects.4.ThemodelrequiresdepthinformationfromanRGBDsensor,whichlimitsitsapplicabilitytosceneswheredepthdataisnotavailable.Themodelcannotbedirectlyappliedto2DRGBimages.5.Themodelperformancemaydegradeforverysmallobjects,asshownintheanalysisofperformancegainbyobjectsize.Themodelseemsbettersuitedformediumandlargeobjects.LimitationBelowisapaper.Memorizethematerialandanswermyquestionafterthepaper.", "start_char_idx": 1652, "end_char_idx": 2537, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "815bae9c-3b2e-4139-b3ac-8160ab1bcfb9": {"__data__": {"id_": "815bae9c-3b2e-4139-b3ac-8160ab1bcfb9", "embedding": null, "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e48f6ee0-d7c0-4041-9896-107befc594f3", "node_type": "4", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3938bedc029eb416bbb86079d7e27c236d80b43251ed6e1bd1c85db5adeca2e5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9529d842-8601-4107-ba7c-91c920e57094", "node_type": "1", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "290d30999d7250bd5321d5e0f555777bc718fe57d035c8e6f1c8999134adc642", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "5ddb77a8-01e9-42c7-8191-364db3a66ae8", "node_type": "1", "metadata": {}, "hash": "217488a9b38ce2e70f79ebee809ae130beeb42a9ef5c0e14f512c6b7f4926d9b", "class_name": "RelatedNodeInfo"}}, "text": "LimitationBelowisapaper.Memorizethematerialandanswermyquestionafterthepaper.{paper}\\nNowthematerialends.Whataresomelimitationsoftheproposed3DGNNmethod?", "start_char_idx": 2461, "end_char_idx": 2612, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "5ddb77a8-01e9-42c7-8191-364db3a66ae8": {"__data__": {"id_": "5ddb77a8-01e9-42c7-8191-364db3a66ae8", "embedding": null, "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e48f6ee0-d7c0-4041-9896-107befc594f3", "node_type": "4", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3938bedc029eb416bbb86079d7e27c236d80b43251ed6e1bd1c85db5adeca2e5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "815bae9c-3b2e-4139-b3ac-8160ab1bcfb9", "node_type": "1", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "91c4b1746c255ee9e9303c0a0bc3ae848b8056e176214723d6fb72eaeb7fcc12", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "77737b6f-4a4d-4324-967b-aa821e9f4823", "node_type": "1", "metadata": {}, "hash": "ae8ed0dbabfdbf4ed1304a2ec51c487fcae30cff89e40082f9ea257b2d1b9790", "class_name": "RelatedNodeInfo"}}, "text": "{paper}\\nNowthematerialends.Whataresomelimitationsoftheproposed3DGNNmethod?\n:\n:\nThepaperproposesanewdatasetcalledSAFECONVfortheresearchofconversationalsafety.Thedatasetannotatesunsafespansinutterancesandprovidessafealternativeresponsestoreplaceunsaferesponses.Theannotatedunsafespanshelpexplainwhyanutteranceisunsafeandprovideguidanceforgeneratingsaferesponses.Thedatasetcontainsunsafespans,unsaferesponses,andsafealternativeresponsesforover100,000dialoguesfromsocialmediaplatforms.ThepapercomparesSAFECONVwithotherdatasetsandshowsthatSAFECONVismorecomprehensive.SAFECONVdemonstratesthatidentifyingunsafespanscanwellexplainthedetectionofunsafeutterances,andrewritingunsaferesponseswithcontextcanmitigatealargeproportionofunsafebehaviorinchatbots.Thedatasetandmodelsarereleasedtoadvancetheresearchofconversationalsafety.SummarizationBelowisapaper.Memorizethematerialandanswermyquestionafterthepaper.{paper}\\nNowthematerialends.Pleasesummarizethepaperinoneparagraph.", "start_char_idx": 2537, "end_char_idx": 3501, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "77737b6f-4a4d-4324-967b-aa821e9f4823": {"__data__": {"id_": "77737b6f-4a4d-4324-967b-aa821e9f4823", "embedding": null, "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "excluded_embed_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "excluded_llm_metadata_keys": ["file_name", "file_type", "file_size", "creation_date", "last_modified_date", "last_accessed_date"], "relationships": {"1": {"node_id": "e48f6ee0-d7c0-4041-9896-107befc594f3", "node_type": "4", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "3938bedc029eb416bbb86079d7e27c236d80b43251ed6e1bd1c85db5adeca2e5", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "5ddb77a8-01e9-42c7-8191-364db3a66ae8", "node_type": "1", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "810175b0c8d1575b7825fae7b7277da38fafb79d219ce2391f2846ee67371472", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b1b2874a-cd39-4a9b-9205-9ef4d370093a", "node_type": "1", "metadata": {}, "hash": "e0c5f4a960cf12a4adb0f1d4251024a7c5cd32d5fa17bc7fabd4825aea8221d1", "class_name": "RelatedNodeInfo"}}, "text": ":\n:\nFigure 9: Examples on paper (Ahn et al., 2023; Qi et al., 2017; Zhang et al., 2023) and questions\nrelated to contributions, limitations, and summarizations.\n19", "start_char_idx": 3502, "end_char_idx": 3665, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b1b2874a-cd39-4a9b-9205-9ef4d370093a": {"__data__": {"id_": "b1b2874a-cd39-4a9b-9205-9ef4d370093a", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "77737b6f-4a4d-4324-967b-aa821e9f4823", "node_type": "1", "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}, "hash": "cff3d7d5e82ee8d4dd41251f8e728ab44381b898a6b1733f9b6accb4eeee6539", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "65356482-211d-4c45-8f7d-7796b363ac01", "node_type": "1", "metadata": {}, "hash": "a4c4688981e71767794d36df5caf479c5190e0d834c587f32aba57e1c6231ed2", "class_name": "RelatedNodeInfo"}}, "text": "hey everyone I'm Shaw and this is the\nfifth video in the larger series on how\nto use large language models in practice\nin the previous video we talked about\nprompt engineering which is concerned\nwith using large language models out of\nthe box while prompt engineering is a\nvery powerful approach and can handle a\nlot of llm use cases in practice for\nsome applications prompt engineering\njust doesn't cut it and for those cases\nwe can go one step further and fine-tune\na existing large language model for a\nspecific use case so Navy's question is\nwhat is model fine tuning the way I like\nto Define it is taking a pre-trained\nmodel and training at least one internal\nmodel parameter and here I mean the\ninternal weights or biases inside the\nneural network what this typically looks\nlike is taking a pre-trained existing\nmodel like gpt3 and fine-tuning it for a\nparticular use case for example chatgypt\nto use an analogy here gpt3 is like a\nraw diamond right out of the earth it's\na diamond but it's a bit rough around\nthe edges fine tuning is taking this raw\ndiamond and transforming it into\nsomething a bit more practical something\nthat you can put on a diamond ring for\nexample so the process of", "start_char_idx": 0, "end_char_idx": 1195, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "65356482-211d-4c45-8f7d-7796b363ac01": {"__data__": {"id_": "65356482-211d-4c45-8f7d-7796b363ac01", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b1b2874a-cd39-4a9b-9205-9ef4d370093a", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "e4752de47ad5d301e0011788e16f80ddcf9c32e04b88019de6b5bdfac80f48f0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7850fa81-40ae-484d-9eaa-201de2bb6028", "node_type": "1", "metadata": {}, "hash": "0573180b7b43552f7e4dca87c896edaf3cb70867833e6df86c161a83f5ebf986", "class_name": "RelatedNodeInfo"}}, "text": "raw\ndiamond and transforming it into\nsomething a bit more practical something\nthat you can put on a diamond ring for\nexample so the process of taking the raw\nbase model of gpt3 and transforming it\ninto the fine-tuned model of gbt 3.5\nturbo for example is what gives us\napplications like chat GPT or any of the\nother incredible applications of large\nlanguage models we're seeing these days\nto get a more concrete sense of the\ndifference between a base model link\ngpt3 and a fine-tuned model let's look\nat this particular example we have to\nkeep in mind that these Foundation large\nlanguage models like gpg3 llama 2 or\nwhatever your favorite large language\nmodel is these models are strictly\ntrained to do word prediction given a\nsequence of words predicting the next\nword so when you train one of these\nlaunch language models on huge Corpus of\ntext and documents and web pages what it\nessentially becomes is a document\ncompleter what that translates to in\npractice is if you plug into a lot of\nthese base models like gpt3 the prompt\ntell me how to find tune a model a\ntypical completion might look something\nlike this where it's just listing out\nquestions like you might see", "start_char_idx": 1053, "end_char_idx": 2226, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "7850fa81-40ae-484d-9eaa-201de2bb6028": {"__data__": {"id_": "7850fa81-40ae-484d-9eaa-201de2bb6028", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "65356482-211d-4c45-8f7d-7796b363ac01", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "c82e9024fa7f49001f7db8d5a681eaf923aedde28b8fc2c7f1a81f5665d8292e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d5051f25-4082-445f-944a-f532789a12dd", "node_type": "1", "metadata": {}, "hash": "26f88e2a1b1cf3ac3a245581bf278f0b6bfc1ae0d46a8d6f5e164cc71be90dd9", "class_name": "RelatedNodeInfo"}}, "text": "me how to find tune a model a\ntypical completion might look something\nlike this where it's just listing out\nquestions like you might see in a Google\nsearch or maybe like a homework\nassignment or something here when I\nprompted gpt3 to tell me how to\nfine-tune a model the completion was as\nfollows how can I control the complexity\nof a model how do I know when my model\nis done how do I test a model well this\nmight be reasonable for gpt3 to do based\non the data that it was trained on this\nisn't something that's very practical\nnow let's look at the fine-tuned model\ncompletion so now we have text DaVinci\nzero zero three which is just one of the\nmany fine-tuned models based on gpt3\ncoming from open AI we give it the same\nprompt tell me how to fine tune a model\nand this is the completion fine-tuning a\nmodel involves a adjusting the\nparameters of a pre-trained model in\norder to make it better suited for a\ngiven task there are generally three\nsteps involved to fine-tuning a model\nselect a base model adjust parameters\ntrain the model while this completion\nmay not be perfect it's much more\naligned what we were", "start_char_idx": 2090, "end_char_idx": 3205, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d5051f25-4082-445f-944a-f532789a12dd": {"__data__": {"id_": "d5051f25-4082-445f-944a-f532789a12dd", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7850fa81-40ae-484d-9eaa-201de2bb6028", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "1a70620b2a401ad37377bec002f311b515ec2c2a7f65dceec697a53c8394e7aa", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7b43ecac-a4b6-4b24-8a7b-e10dc8899d5c", "node_type": "1", "metadata": {}, "hash": "8ea60d7419648d4aada3a3879e38c9d318f0deb83fd5454cd9f80a41113c0cf9", "class_name": "RelatedNodeInfo"}}, "text": "a model\nselect a base model adjust parameters\ntrain the model while this completion\nmay not be perfect it's much more\naligned what we were hoping to get out\nof the language model compared to the\nbase model's completion so if you want\nto learn more about model fine tuning\nand how open AI did their fine tuning\ntheir alignment tuning and instruction\ntuning check out the references in the\ndescription and comment section below so\nas we saw when comparing a base model to\na fine-tuned model we see that the\nfine-tune model can generate completions\nthat are much more aligned and desirable\nfor our particular use case Beyond this\nperformance there's actually a deeper\nreason why you might want to fine tune\nand that is the observation that a\nsmaller fine-tuned model can often\noutperform a larger base model this was\ndemonstrated by open AI in their\ninstruct GPT model where they're small\n1.3 billion parameter fine tuned\ninstruct GPT model generated to\ncompletions that were preferred to gpt3\ncompletions even though gpt3 had about\n100 times as many internal parameters\nthis is one of the biggest upsides of\nfine tuning you don't have to rely on\nsome massive general purpose", "start_char_idx": 3067, "end_char_idx": 4239, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "7b43ecac-a4b6-4b24-8a7b-e10dc8899d5c": {"__data__": {"id_": "7b43ecac-a4b6-4b24-8a7b-e10dc8899d5c", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d5051f25-4082-445f-944a-f532789a12dd", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "d79908386bbce25cf96e09a070aac57ede6e29de7773f22d92c6141c7c9ec80b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0f10dc09-aa72-484f-a3bb-448f7aed4ccf", "node_type": "1", "metadata": {}, "hash": "ae1c485ff2d5f0a78e528fb071c3d90daf734728e53a2bd1c03f1be9aa9801ec", "class_name": "RelatedNodeInfo"}}, "text": "times as many internal parameters\nthis is one of the biggest upsides of\nfine tuning you don't have to rely on\nsome massive general purpose large\nlanguage model to have good performance\nin a particular use case or application\nnow that we have a better understanding\nof what fine-tuning is and why it's so\ngreat let's look at three possible ways\none can fine tune an existing large\nlanguage model the first is via\nself-supervised learning this is the\nsame way these base models and\nFoundation large language models are\ntrained so in other words you get your\ntraining Corpus of text and you train\nthe model in a self-supervised way in\nother words you take a sequence of text\nlike listen to your you feed it into the\nmodel and you have it predict a\ncompletion if we feed in listen to your\nit might spit out hard what would\ndifferentiate fine tuning with\nself-supervised learning versus just\ntraining a base model through\nself-supervised learning is that you can\ncurate your training Corpus to align\nwith whatever application that you're\ngoing to use the fine-tuned model for\nfor example if I wanted to fine-tune\ngpt3 to write text in the likeness of Me\nMaybe I would feed it a bunch of", "start_char_idx": 4101, "end_char_idx": 5282, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "0f10dc09-aa72-484f-a3bb-448f7aed4ccf": {"__data__": {"id_": "0f10dc09-aa72-484f-a3bb-448f7aed4ccf", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7b43ecac-a4b6-4b24-8a7b-e10dc8899d5c", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "e758371002c2cf7ef675502f88f9e956e4f87cf483a800100ec3f4ec7b54abd9", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "cf25475f-df8e-49b4-9cd0-b0d77fb8ae54", "node_type": "1", "metadata": {}, "hash": "fb14380c59dc89277952e8f1bb75f82f0cee1a16a8ec485c0f7b0eec89f6b2be", "class_name": "RelatedNodeInfo"}}, "text": "example if I wanted to fine-tune\ngpt3 to write text in the likeness of Me\nMaybe I would feed it a bunch of my\ntorch data science blogs and then that\nresulting fine-tuned model might be able\nto generate completions that are more\nlike my style the second way we can fine\ntune a model is via supervised learning\nthis is where we have a training data\nset consisting of inputs and Associated\noutputs or targets for example if we\nhave a set of question answer pairs such\nas who was the 35th President of the\nUnited States and then the answer is\nJohn F Kennedy we can use this question\nanswer pair to fine-tune an existing\nmodel to learn how to better answer\nquestions so the reason this might be\nhelpful as we saw before if we were to\njust feed in who was the 35th President\nof the United States into a base model\nthe completion that it might generate is\nwho was the 36th president of the United\nStates who was the 40th President of the\nUnited States who is the speaker of the\nhouse so on and so forth but through\nhaving these question answered pairs we\ncan fine tune the model to essentially\nlearn how to answer questions but\nthere's a little trick", "start_char_idx": 5176, "end_char_idx": 6319, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "cf25475f-df8e-49b4-9cd0-b0d77fb8ae54": {"__data__": {"id_": "cf25475f-df8e-49b4-9cd0-b0d77fb8ae54", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0f10dc09-aa72-484f-a3bb-448f7aed4ccf", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "b86a766ba6015e60126f8d8f378f46150cac6f783932365ee3ac2f19b26dc2f5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "395c02b3-8ab6-4c20-a857-d62add0a2e4f", "node_type": "1", "metadata": {}, "hash": "9c31881ad3a5fe91595297e1e9d570421ebcdcb62b95fe0c1f117527ec0d1aad", "class_name": "RelatedNodeInfo"}}, "text": "but through\nhaving these question answered pairs we\ncan fine tune the model to essentially\nlearn how to answer questions but\nthere's a little trick here these\nlanguage models are again document\ncompleters so we actually have to\nmassage these input output pairs a bit\nbefore we can feed it into our large\nlanguage model for training one simple\nway we can do this is via prompt\ntemplates for example we could generate\na template please answer the following\nquestion where we input the question\nhere so our input would go here and then\nwe input the target here so the answer\nwould go here and then through this\nprocess we can translate our training\ndata set to a set of prompts and\ngenerate a training Corpus and then go\nback to the self-supervised approach and\nthe final way one one can fine tune an\nexisting model is via reinforcement\nlearning while there are many ways one\ncould do this I'm going to just focus on\nthe approach outlined by open Ai and\ngenerating their instruct GPT models\nwhich consisted of three steps the first\nwas supervised fine tuning so\nessentially what we were talking about\nin this second way to fine-tune a model\nthis consists of two steps one curating\nyour training data set and then two\nfine-tuning the model", "start_char_idx": 6172, "end_char_idx": 7407, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "395c02b3-8ab6-4c20-a857-d62add0a2e4f": {"__data__": {"id_": "395c02b3-8ab6-4c20-a857-d62add0a2e4f", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "cf25475f-df8e-49b4-9cd0-b0d77fb8ae54", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "b85b2f7c7be7a1a0faefc02e556154bfea0dcb4e22cdc855663f450685edf3dc", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0c393095-68f2-48b2-ba9f-80028ca15b6d", "node_type": "1", "metadata": {}, "hash": "af4061a2234ff7242acddd130ac9637839bcfcde4a6e5005bb3fef04b834791e", "class_name": "RelatedNodeInfo"}}, "text": "way to fine-tune a model\nthis consists of two steps one curating\nyour training data set and then two\nfine-tuning the model The Next Step was\nto train a reward model and all this is\nis essentially a model that can generate\na score for a language model's\ncompletion so if it generates a good\ncompletion it'll have a high score it\ngenerates a bad completion it'll\ngenerate a low score so what this looked\nlike for the instruct GPT case was as\nfollows you start with a prompt and you\npass it in to your supervised fine-tuned\nmodel from here but you don't just do it\nonce you actually do it many times so\nyou generate multiple completions for\nthe same prompt then you get human\nlabelers to rank the responses from\nworst to best and then you can use that\nranking to train the reward model which\nis indicated by this Square here and\nthen the final step is to do\nreinforcement learning with your\nfavorite reinforcement learning\nalgorithm in the case of instruct GPT\nthey used proximal policy optimization\nor PPO for short what this looks like is\nyou take the prompt you pass it in to\nyour supervised fine-tuned model and\nthen you pass that completion to the\nreward", "start_char_idx": 7285, "end_char_idx": 8441, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "0c393095-68f2-48b2-ba9f-80028ca15b6d": {"__data__": {"id_": "0c393095-68f2-48b2-ba9f-80028ca15b6d", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "395c02b3-8ab6-4c20-a857-d62add0a2e4f", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "a5e0f73b724bfb9fc785c4827606d3f6c5eb8d84fe6b62dd7af515f40df1768e", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6c14a417-3bd7-487b-a501-fdd5a7a90ac2", "node_type": "1", "metadata": {}, "hash": "0a32b872b2a09d80e6f83ec80238e906577d48dd442d85d7697ea252ca6c89ea", "class_name": "RelatedNodeInfo"}}, "text": "like is\nyou take the prompt you pass it in to\nyour supervised fine-tuned model and\nthen you pass that completion to the\nreward model and then the reward model\nwill essentially give feedback to the\nfine-tuned model and this is how you can\nupdate the model parameters and\neventually end up with a model that's\nfine-tuned even further I know this was\na ton of information but if you want to\ndive deeper into any one of these\napproaches check out the blog in towards\ndata science where I go into a bit more\ndetail on each of these approaches okay\nso to keep things relatively simple for\nthe remainder of the video we'll be\nfocused just on the supervised learning\napproach to model fine tuning here I\nbreak that process down into five steps\nfirst choose your fine tuning task so\nthis could be text summarization it\ncould be text generation it could be\nbinary classification text\nclassification whatever it is you want\nto do next you prepare your training\ndata set if you're trying to do text\nsummarization for example you would want\nto have input output pairs of text and\nthe desired summarization and then you\ntake those input Alpha Pairs and\ngenerate a training Corpus using prompt\ntemplates for example next you want", "start_char_idx": 8315, "end_char_idx": 9529, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6c14a417-3bd7-487b-a501-fdd5a7a90ac2": {"__data__": {"id_": "6c14a417-3bd7-487b-a501-fdd5a7a90ac2", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0c393095-68f2-48b2-ba9f-80028ca15b6d", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "75b2551e54471fd32922d53469dd160dedcf94bc93544ed85393382948a97248", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "295762cc-cedd-4582-8454-9da04c8ee569", "node_type": "1", "metadata": {}, "hash": "61304b3d60f6ba728f339ae3dcf765638b3db702cc5425c5c59e08038d074c5a", "class_name": "RelatedNodeInfo"}}, "text": "desired summarization and then you\ntake those input Alpha Pairs and\ngenerate a training Corpus using prompt\ntemplates for example next you want to\nchoose your base model there are many\nFoundation large language models out\nthere or there are many existing\nfine-tuned large language models out\nthere and you can choose either of these\nas your starting place next we can fine\ntune the model via supervised learning\nand then finally we evaluate model\nperformance there's certainly a lot of\ndetails into each of these steps but\nhere I'm just going to focus on step\nnumber four the fine tuning the model\nwith supervise learning and here I want\nto talk about three different options we\nhave when it comes to updating the model\nparameters the first option is to\nretrain all the parameters given our\nneural network given our language model\nwe go in and we tweak all the parameters\nbut perhaps obviously this comes with\nthe downside when you're talking about\nbillions tens of billions hundreds of\nbillions of internal model parameters\nthe computational cost for training\nexplodes even if you're doing the most\nefficient tricks to speed up the\ntraining process retraining a billion\nparameters is going to be expensive\nanother option we can do is transfer\nlearning and this is essentially where\nwe take", "start_char_idx": 9386, "end_char_idx": 10676, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "295762cc-cedd-4582-8454-9da04c8ee569": {"__data__": {"id_": "295762cc-cedd-4582-8454-9da04c8ee569", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "6c14a417-3bd7-487b-a501-fdd5a7a90ac2", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "c08e8bfe69d0aa7ab68bfe84962c05fc705c01060bd47196d31c32e0383d2c12", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "58c9f2f0-1e72-46ba-a371-8fdaaa6cb49a", "node_type": "1", "metadata": {}, "hash": "89e64efa3cdb81b5a58177a94c11c324470e186a16ff989e55eeb2a56fef1936", "class_name": "RelatedNodeInfo"}}, "text": "process retraining a billion\nparameters is going to be expensive\nanother option we can do is transfer\nlearning and this is essentially where\nwe take our language model and instead\nof retraining all the parameters we\nfreeze most of the parameters and only\nfine tune the head namely we fine tune\nthe last few layers of the model where\nthe model embeddings or internal\nrepresentations are translated into the\nTarget or the output layer and while\ntransfer learning is a lot cheaper than\nretraining all parameters there is still\nanother approach that we can do which is\nthe so-called parameter efficient fine\ntuning this is where we take our\nlanguage model and instead of just\nphrasing a subset of the weights we\nfreeze all of the weights we don't\nchange any internal model parameters\ninstead what we do is we augment the\nmodel with additional parameters which\nare trainable and the reason why this is\nadvantageous is that it turns out that\nwe can fine tune a model with a\nrelatively small set of new parameters\nas can be seen by this beautiful picture\nhere one of the most popular ways to do\nthis is the so-called low rank\nadaptation approach or low raw for short\nlike I mentioned in the previous slide\nthis fine tunes a model by adding", "start_char_idx": 10528, "end_char_idx": 11760, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "58c9f2f0-1e72-46ba-a371-8fdaaa6cb49a": {"__data__": {"id_": "58c9f2f0-1e72-46ba-a371-8fdaaa6cb49a", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "295762cc-cedd-4582-8454-9da04c8ee569", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "d04f831c7aac2bc4de5adab2fca7623104cafd3fb27116f5f097c3d9a34f71e2", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b1364c76-7afb-42f8-9892-ad7031610d16", "node_type": "1", "metadata": {}, "hash": "339319d58ddebbade8bba63fb564c824e276fb9d8fbf66160c5e0710ddb78157", "class_name": "RelatedNodeInfo"}}, "text": "the so-called low rank\nadaptation approach or low raw for short\nlike I mentioned in the previous slide\nthis fine tunes a model by adding new\ntrainable parameters here we have a\ncartoon of a neural network but let's\njust consider one layer the mapping from\nthese inputs to this hidden layer here\nwe can call our inputs X and then we can\ncall the hidden layer essentially some\nfunction of X and to make this a bit\nmore concrete we can write this as an\nequation h of X is just equal to X we\ncan think of it as a vector to keep\nthings simple and some white Matrix\nwhich is just some two-dimensional\nMatrix to see this a bit more visually\nwe have our weight Matrix which is some\nd by K Matrix we have X which will just\ntake to be a vector in this case the\nmultiplication of these two things will\ngenerate our hidden layer and for the\nmathesonatos here the spaces that these\nobjects live in and so this is what the\nsituation looks like without Lora where\nif we're going to do the full parameter\nfine-tuning what this will look like is\nall the parameters in this weight Matrix\nare trainable so here W naught is a d by\nK Matrix and let's just", "start_char_idx": 11624, "end_char_idx": 12758, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b1364c76-7afb-42f8-9892-ad7031610d16": {"__data__": {"id_": "b1364c76-7afb-42f8-9892-ad7031610d16", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "58c9f2f0-1e72-46ba-a371-8fdaaa6cb49a", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "b2a4df2fb9c6d00e27c77edfff9b3db503d8967b010a3d6c8aa6b7202ac71695", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "65446c98-41dc-46df-a8c0-81ca7fad22b4", "node_type": "1", "metadata": {}, "hash": "05b39cd48c8affdba4ce4a361e13306bee99339dcbad7254e1c980d7065c8df8", "class_name": "RelatedNodeInfo"}}, "text": "look like is\nall the parameters in this weight Matrix\nare trainable so here W naught is a d by\nK Matrix and let's just say d is a\nthousand K is a thousand this would\ntranslate to one million trainable\nparameters which may not be a big number\nbut when you have a lot of layers this\nnumber of triangle parameters can really\nexplode now let's see how low raw can\nhelp us reduce the number of trainable\nparameters again we're just going to\nlook at one of the layers but now we're\ngoing to add some additional parameters\nto the model what that looks like\nmathematically is we have the W naught\ntimes x is equal to H of X like we saw\nin the previous slide but now we're\nadding this additional term here which\nis Delta W Times X this is going to be\nanother weight Matrix the same shape as\nW naught and looking at this you might\nthink sha how does this help us we just\ndoubled the number of parameters yeah\nsure if we keep W naught Frozen we still\nhave Delta W with the same number of\nparameters to deal with but let's say\nthat we Define delta W to be the\nmultiplication of two matrices b and a\nin this case our hidden layer", "start_char_idx": 12640, "end_char_idx": 13756, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "65446c98-41dc-46df-a8c0-81ca7fad22b4": {"__data__": {"id_": "65446c98-41dc-46df-a8c0-81ca7fad22b4", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b1364c76-7afb-42f8-9892-ad7031610d16", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "ae9c3fe0678b5bed73538f4921ba9eabab37ad331cd3e1b1694375b1d683cbc6", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "3ae70dce-e19e-4e17-acd4-e930224d4691", "node_type": "1", "metadata": {}, "hash": "0a4ed7d2c8eb4d09b904010d6612b2e6e93645a17214ff98dc30ca36d1173938", "class_name": "RelatedNodeInfo"}}, "text": "with but let's say\nthat we Define delta W to be the\nmultiplication of two matrices b and a\nin this case our hidden layer becomes W\nnaught times X Plus ba times x looking\nat this more visually we have W naught\nwhich is the same same weight Matrix we\nsaw in the previous slide but now we\nhave b and a which have far fewer terms\nthan W naught does and then what we can\ndo is through matrix multiplication\ngenerate a matrix of the proper size\nnamely Delta W add it to W naught\nmultiply all that by X and generate our\nh of X looking at the dimensionality of\nthese things W naught and Delta W live\nin the same space they're matrices of d\nby K B is going to be a matrix of d by R\nA is going to be a matrix of R by K and\nthen h of X is going to be D by 1. the\nkey thing here is this R number what the\nauthors of this method called the\nintrinsic rank of the model the reason\nthat this works and we get the\nefficiency gains is that this R is a lot\nsmaller than D and K to see how this\nplays out unlike before where W naught\nwas trainable now these", "start_char_idx": 13636, "end_char_idx": 14673, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "3ae70dce-e19e-4e17-acd4-e930224d4691": {"__data__": {"id_": "3ae70dce-e19e-4e17-acd4-e930224d4691", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "65446c98-41dc-46df-a8c0-81ca7fad22b4", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "f859cdf943cbbf8d8f416f926c62981a556a956cc500bdfd086de4a474fdf35b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d520b13b-342c-41a0-b77e-7190ad1aaef0", "node_type": "1", "metadata": {}, "hash": "d84b9255a418601724c6c54e0a3679db493a9bc8db7da65392335b91309b9738", "class_name": "RelatedNodeInfo"}}, "text": "this R is a lot\nsmaller than D and K to see how this\nplays out unlike before where W naught\nwas trainable now these parameters are\ngoing to be Frozen and B and a are\ntrainable and maybe as you can just tell\nvisually from the area of this rectangle\nversus the areas of these two rectangles\nb and a contain far fewer terms than W\nnaught to make this a bit more concrete\nlet's say d is equal to a thousand K is\nequal to a thousand and our intrinsic\nrank is equal to two what this\ntranslates to is 4 000 trainable\nparameters as opposed to the million\ntrainable parameters we saw in the\nprevious slide this is the power of low\nraw it allows you to fine tune a model\nwith far fewer trainable parameters if\nyou want to learn more about Laura check\nout the paper Linked In the description\nbelow or if you want something that's a\nbit more accessible check out the blog\nand towards data science where I talk\nabout this a bit more let's dive into\nsome example code and how we can use low\nraw to fine tune a large language model\nhere I'm going to use the hugging face\necosystem namely pulling from libraries\nlike data sets Transformers p e f", "start_char_idx": 14558, "end_char_idx": 15687, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d520b13b-342c-41a0-b77e-7190ad1aaef0": {"__data__": {"id_": "d520b13b-342c-41a0-b77e-7190ad1aaef0", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "3ae70dce-e19e-4e17-acd4-e930224d4691", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "f491f53494a5b55b83936f4bc0e2126b0db69eb5c6d76b99806db8fe1987ce8b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "98fb6a59-1c44-4c41-8484-a5ad0c5fadb8", "node_type": "1", "metadata": {}, "hash": "3ec0944138ae63b32289d71cb54a330eb915cc61afb12e32712ce8cab875de52", "class_name": "RelatedNodeInfo"}}, "text": "large language model\nhere I'm going to use the hugging face\necosystem namely pulling from libraries\nlike data sets Transformers p e f t and\nevaluate which are all hugging face\npython libraries also importing in pi\ntorch and numpy for some extra things\nwith our Imports the next step is to\nchoose our base model here I use distill\nburnt uncased which is a base model\navailable on hugging faces model\nrepository this is what the model card\nlooks like we can see that it only has\n67 million parameters in it and then\nthere's a lot more information about it\non the model card here we're gonna take\ndistilbert uncased and we're gonna fine\ntune it to do sentiment analysis we're\ngoing to have it take in some text and\ngenerate a label of either positive or\nnegative based on the sentiment of the\ninput text so to do that we need to\nDefine some label Maps so here we're\njust defining that 0 is going to be\nnegative and one is going to mean\npositive and vice versa that negative\nmeans zero and positive means one now we\ncan take these label maps and we can\ntake our model checkpoint and we can\nplug it into this Nifty Auto model for\nsequence classification and", "start_char_idx": 15554, "end_char_idx": 16706, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "98fb6a59-1c44-4c41-8484-a5ad0c5fadb8": {"__data__": {"id_": "98fb6a59-1c44-4c41-8484-a5ad0c5fadb8", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d520b13b-342c-41a0-b77e-7190ad1aaef0", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "373ed97f8cbd89dc7d74b0e7f711e812a6b931d2578f29536cf89d1bf266967d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0e753a5a-66d1-4984-81bf-31c34d9793b4", "node_type": "1", "metadata": {}, "hash": "9e81309591fc35aa8759f82eb0eff50e493a71745a67418487a51b8d52b702ce", "class_name": "RelatedNodeInfo"}}, "text": "take these label maps and we can\ntake our model checkpoint and we can\nplug it into this Nifty Auto model for\nsequence classification and class\navailable from the Transformers library\nand very easily we import this base\nmodel specifically ready to do binary\nclassification the way this works is\nthat hugging face has all these base\nmodels and has many versions of them\nwhere they replace the head of the model\nfor many different tasks and we can get\na better sense of this from the\nTransformers documentation as shown here\nyou can see that this Auto model for\nsequence classification has a lot of\nBase models that it can build on top of\nhere we're using distilber which is a\nsmaller version of bird here but there\nare several models you can choose from\nthe reason I went with distillbird is\nbecause it only has 67 million\nparameters and it can actually run on my\nmachine the next step is to load the\ndata set so here I've actually just made\nthe data set available on the hugging\nface data set repository so you should\nbe able to load it pretty easily it's\ncalled IMDb truncated it's a data set of\nIMDb movie reviews with an Associated\npositive or negative label if we print\nthe data set it looks something", "start_char_idx": 16570, "end_char_idx": 17774, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "0e753a5a-66d1-4984-81bf-31c34d9793b4": {"__data__": {"id_": "0e753a5a-66d1-4984-81bf-31c34d9793b4", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "98fb6a59-1c44-4c41-8484-a5ad0c5fadb8", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "44291e5fcccc7651b4e53b80c8d6fa36b1283f566657d9c13dbf66307328acfb", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "c85730e9-10bb-4829-bf24-f8c8fab8c842", "node_type": "1", "metadata": {}, "hash": "2518d0997a3f1f503bc39a49737f51f5579e3a2fd292aefc435348a1997925fb", "class_name": "RelatedNodeInfo"}}, "text": "truncated it's a data set of\nIMDb movie reviews with an Associated\npositive or negative label if we print\nthe data set it looks something like\nthis there are two parts to it there's\nthis train part and then there's this\nvalidation part and then you can see\nthat both the training and validation\ndata sets have 1000 rows in them this is\nanother great thing about model fine\ntuning is that while training a large\nlanguage model from scratch may require\ntrillions of tokens or a trillion words\nin your training Corpus fine-tuning a\nmodel requires far fewer examples here\nwe're only going to be using a thousand\nexamples for model fine tuning the next\nstep is to pre-process the data here the\nmost important thing is we need to\ncreate a tokenizer if you've been\nkeeping up with this series you know\nthat tokenization is a critical step\nwhen working with large language models\nbecause learner networks do not\nunderstand text they understand numbers\nand so we need to convert the text that\nwe pass into the large language model\ninto a numerical form so that it can\nactually understand it so here we can\nuse the auto tokenizer class from\nTransformers to grab the tokenizer for\nthe particular base model that we're\nworking with next we", "start_char_idx": 17637, "end_char_idx": 18864, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "c85730e9-10bb-4829-bf24-f8c8fab8c842": {"__data__": {"id_": "c85730e9-10bb-4829-bf24-f8c8fab8c842", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0e753a5a-66d1-4984-81bf-31c34d9793b4", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "9f839c5c9bfe0c44eb11bd231961ad9fedfb8e91a158272062117b0f30bdef07", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "989f9a4f-1357-40e6-a3fe-dbc9aaccb263", "node_type": "1", "metadata": {}, "hash": "0159171f73fe53738876ca0ecfd61e183da0956c9f1d1e9bf33ffb007e774af9", "class_name": "RelatedNodeInfo"}}, "text": "we can\nuse the auto tokenizer class from\nTransformers to grab the tokenizer for\nthe particular base model that we're\nworking with next we can create a\ntokenization function this is a function\nthat defines how we will take each\nexample from our training data set and\ntranslate it from text to numbers this\nwill take in examples which is coming\nfrom our training data set and you see\nwe're extracting the text so going back\nto the previous slide you can see that\nour training data set has two features\nit has a label and a piece of text so\nyou can imagine each row of this\ntraining data set has text and it has a\nlabel associated with that text so when\nwe go over here the examples is just\nlike a row from this data set and we're\ngrabbing the text from that example and\nthen what we do is we Define the side\nthat we want to truncate truncation is\nimportant because the examples that we\npass into the model for training need to\nbe the same length we can either achieve\nthis by truncating long sequences or\npadding short sequences to like a\npredetermined fixed length or a\ncombination of the two so we're just\nchoosing the current truncation side to\nbe left and here we're tokenizing", "start_char_idx": 18727, "end_char_idx": 19906, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "989f9a4f-1357-40e6-a3fe-dbc9aaccb263": {"__data__": {"id_": "989f9a4f-1357-40e6-a3fe-dbc9aaccb263", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "c85730e9-10bb-4829-bf24-f8c8fab8c842", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "597756e0208c41f3158d0d01591e3ebea2c14725bd020a94b34de915b5880494", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "16de402f-3533-4e02-9cdf-35302e3b8cfb", "node_type": "1", "metadata": {}, "hash": "9920d48ebbf99b1dd08303f1f73a9814d9ee600fafbdede6f0092c91884f39b8", "class_name": "RelatedNodeInfo"}}, "text": "length or a\ncombination of the two so we're just\nchoosing the current truncation side to\nbe left and here we're tokenizing the\ntext here's our tokenizer that we\ndefined up here passing in the text\nwe're returning numpy tensors we're\ndoing the truncation and we defined how\nto do that here and then we're defining\nour max length and this will return our\ntokenized inputs since the tokenizer\ndoes not have a pad token this is a\nspecial token that you can add to a\nsequence which will essentially be\nignored by the large language model here\nwe're adding a pad token and then we're\nupdating the model to handle this\nadditional token that we just created\nfinally we've applied this tokenize\nfunction to all the data in our data set\nusing this map method here we have our\ndata set and we plan this map method we\npass in our tokenized function and it'll\noutput a tokenized version of our data\nset to see what the output looks like we\nhave another data set dictionary we have\nthe training and validation data sets\nbut now you see we have have these\nadditional features we don't only have\nthe text in the label but we also have\ninput IDs and we also have this\nattention mask one other", "start_char_idx": 19784, "end_char_idx": 20959, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "16de402f-3533-4e02-9cdf-35302e3b8cfb": {"__data__": {"id_": "16de402f-3533-4e02-9cdf-35302e3b8cfb", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "989f9a4f-1357-40e6-a3fe-dbc9aaccb263", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "32fa9f84828bd8f3e9c6ef6d668983077e47e4a9c373f847f9fc03977dce9219", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "db40508d-80dd-4727-90e4-a9f8f541d993", "node_type": "1", "metadata": {}, "hash": "bfb1e67226a9d49183f99127f29c1755b791e31223542a6e25b1ec3e6dae540d", "class_name": "RelatedNodeInfo"}}, "text": "features we don't only have\nthe text in the label but we also have\ninput IDs and we also have this\nattention mask one other thing we can do\nat this point is to create a data\ncollator this is essentially something\nthat will dynamically pad examples in a\ngiven batch to be as long as the longest\nsequence in that batch for example if we\nhave four examples in our batch the\nlongest sequence has 500 but the others\nhave shorter ones it'll dynamically pad\nthe shorter sequences to match the\nlonger one and the reason why this is\nhelpful is because if you pad your\nsequences dynamically like this with a\ncollater it's a lot more computationally\nefficient than padding all your examples\nacross all 1000 training examples\nbecause you might just have one very\nlong sequence at 512 that is creating\nunnecessary data that you have to\nprocess next we want to define a\nvaluation metrics so this is how we will\nmonitor the performance of the model\nduring training so here I just did\nsomething simple I'm going to import the\naccurac see from the evaluate python\nLibrary so we can package our evaluation\nstrategy into a function that here I'm\ngoing to call compute metrics and so\nhere we're not restricted to just", "start_char_idx": 20836, "end_char_idx": 22033, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "db40508d-80dd-4727-90e4-a9f8f541d993": {"__data__": {"id_": "db40508d-80dd-4727-90e4-a9f8f541d993", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "16de402f-3533-4e02-9cdf-35302e3b8cfb", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "96d40933d1d4f5883d305622b837e1b3782b3c7450ce77f94f5445968e938bb5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "0bcfaf42-4581-4af8-9fed-a8f0d5527252", "node_type": "1", "metadata": {}, "hash": "751d75b5641a78f7602446adc17a5390d433dae79d90c6ed9d1906fbd8828de5", "class_name": "RelatedNodeInfo"}}, "text": "we can package our evaluation\nstrategy into a function that here I'm\ngoing to call compute metrics and so\nhere we're not restricted to just using\none evaluation metric or even just using\naccuracy as an evaluation metric but\njust to keep things simple here I just\nstick with accuracy here we take a model\noutput and we unpack it into a\nprediction and label the predictions\nhere are the logits and so it's going to\nhave two elements one associated with\nthe negative class and one associated\nwith the Positive class and all this is\ndoing is evaluating which element is\nlarger and whichever one is larger is\ngoing to become the label so if the\nzeroth element is larger the ARG Max\nwill return zero and that'll become the\nmodel prediction and vice versa if the\nfirst element is the largest this will\nreturn a one and then that will become\nthe model prediction and then here we\njust compute accuracy by comparing the\nmodel prediction to the ground truth\nlabel so before training our find tuned\nmodel we can evaluate the performance of\nthe base model out of the box so let's\nsee what that looks like here we're\ngoing to generate a list of examples\nsuch as it was good not a fan don't\nrecommend the better than the first one\nthis is", "start_char_idx": 21894, "end_char_idx": 23118, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "0bcfaf42-4581-4af8-9fed-a8f0d5527252": {"__data__": {"id_": "0bcfaf42-4581-4af8-9fed-a8f0d5527252", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "db40508d-80dd-4727-90e4-a9f8f541d993", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "a97a81f2e3d9d1ad8674f234e658ef92b60e4abbeea8f5e7f83069cfadeb7b78", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "dc49713b-f981-4800-af6c-1d6070cd33cc", "node_type": "1", "metadata": {}, "hash": "c818b51b9b6f5fa843021773f547896789f2e4f84c9ebdd94a14ca1d09690271", "class_name": "RelatedNodeInfo"}}, "text": "to generate a list of examples\nsuch as it was good not a fan don't\nrecommend the better than the first one\nthis is not worth watching even once and\nthen this one is a pass then what we do\nis for each piece of text in this list\nwe're gonna tokenize it compute the\nlogits so basically we're going to pass\nit into the model and take the logits\nout then we're going to convert the\nlogits to a label either a zero or one\nand so the output looks like this we\nhave the untrained model predictions it\nwas good the model says this has a\nnegative sentiment not a fan don't\nrecommend the model says this as a\nnegative sentiment so that's correct\nbetter than the first one the model says\nthis has a negative sentiment even\nthough that's probably positive this is\nnot worth watching even once model says\nit's a negative sentiment which is\ncorrect and then this one is a pass and\nthe model signs a negative sentiment to\nthem as you can see it got two out of\nfive correctly essentially this model is\nas good as chance as flipping a coin\nit's right about half the time which is\nwhat we would expect from this\nunfine-tuned based model so now let's\nsee how we", "start_char_idx": 23004, "end_char_idx": 24145, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "dc49713b-f981-4800-af6c-1d6070cd33cc": {"__data__": {"id_": "dc49713b-f981-4800-af6c-1d6070cd33cc", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "0bcfaf42-4581-4af8-9fed-a8f0d5527252", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "4b186b5b11a4eb185864b4ead82b36d38bf24cdedb64b6c66096ce627b9bbb7b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "29b1f03e-4205-4989-a3bf-c4212906266a", "node_type": "1", "metadata": {}, "hash": "3db2c69f2b39d0acfc210a29529e2b4f6ff6dc17b4265431256bb48ed302db4b", "class_name": "RelatedNodeInfo"}}, "text": "right about half the time which is\nwhat we would expect from this\nunfine-tuned based model so now let's\nsee how we can use Lora to fine-tune\nthis model and hopefully get some better\nperformance the first thing we need to\ndo is Define our low configuration\nparameters first is the task type we're\nsaying we're going to be doing sequence\nclassification next we Define the\nintrinsic rank of the trainable weight\nmatrices so that was that smaller number\nthat allowed b and a to have far fewer\nparameters than just W naught next we\nDefine the lower Alpha value which is\nessentially a parameter that's like the\nlearning rate when using the atom\nOptimizer then we Define the low raw\nDropout which is just the probability of\nDropout and that's where we randomly\nzero internal parameters during training\nfinally we Define which modules we want\nto apply low raw to and so here we're\nonly going to apply it to the query\nlayers and then we can use these\nconfiguration settings and update our\nmodel to get another model but one that\nis ready to be fine-tuned using low raw\nand so that's pretty easy we just use\nthis get p e f t model by passing in our\noriginal model and then our config", "start_char_idx": 24031, "end_char_idx": 25204, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "29b1f03e-4205-4989-a3bf-c4212906266a": {"__data__": {"id_": "29b1f03e-4205-4989-a3bf-c4212906266a", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "dc49713b-f981-4800-af6c-1d6070cd33cc", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "b942c572a9931315debcc3d6899acce60cf97dab9e086f27b871d551a2e4f5d5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "f12aca09-ff49-4b42-9964-dfb18cc19e58", "node_type": "1", "metadata": {}, "hash": "10b65e72d980a3eec019416f7a82f5488a9b57ad5390a2c91e7dee65739a9989", "class_name": "RelatedNodeInfo"}}, "text": "raw\nand so that's pretty easy we just use\nthis get p e f t model by passing in our\noriginal model and then our config from\nabove then we can easily print the\nnumber of trainable parameters in our\nmodel and we can see it's about a\nmillion out of this 67 million that are\nin the base model so you can see that\nwe're going to be fine-tuning less than\ntwo percent of the model parameters so\nit's just a huge cost savings like 50\ntimes fewer model parameters than if we\nwere to do the full parameter fine\ntuning next we're going to Define our\nhyper parameters and training arguments\nso here we put the learning rate as .001\nwe put the batch size as four and the\nnumber of epochs as 10. next we say\nwhere we want the model to be saved here\nI dynamically create a name so it'll be\nthe model checkpoint Dash low raw text\nclassification learning rates what we\ndefined before batch size is what we put\nbefore find weight Decay as 0.01 then we\nset the evaluation strategy as Epoch so\nevery Epoch is going to compute those\nevaluation metrics the safe strategy is\nevery Epoch is going to save the model\nparameters and then load best model at\nthe end", "start_char_idx": 25087, "end_char_idx": 26223, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "f12aca09-ff49-4b42-9964-dfb18cc19e58": {"__data__": {"id_": "f12aca09-ff49-4b42-9964-dfb18cc19e58", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "29b1f03e-4205-4989-a3bf-c4212906266a", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "24d7e82598144d50faec00b88cb805c459469ed46714b11061492395015e722b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d3b687cb-6377-4558-b3c0-1346767da959", "node_type": "1", "metadata": {}, "hash": "db5c8773572564ea8b4cfbb2ec37c69c28a3bf6d5394091d0a4e7641934ded48", "class_name": "RelatedNodeInfo"}}, "text": "to compute those\nevaluation metrics the safe strategy is\nevery Epoch is going to save the model\nparameters and then load best model at\nthe end so at the end of training it's\ngoing to return us the best version of\nthe model then we just plug everything\nto this trainer class trainer takes in\nthe model and takes in the learning\narguments it takes in our training and\nvalidation data sets it takes in our\ntokenizer it takes in our data collator\nand it takes in our evaluation metrics\nput that all into this trainer class and\nthen we train the model using this dot\ntrain method so during training these\nmetrics will be generated so we can see\nthe epochs the training loss the\nvalidation loss and the accuracy so as\nyou can see the training loss is\ndecreasing which is good and the\naccuracy is increasing which is good but\nyou can see that the validation loss is\nincreasing so this is a sign of\noverfitting which I'll comment on in a\nbit here now that we have our fine-tuned\nmodel in hand we can evaluate its\nperformance on those same five examples\nthat we evaluated before 5 fine tuning\nbasically same code copy pasted but\nhere's the different output the text it\nwas good is now correctly being\nclassified", "start_char_idx": 26081, "end_char_idx": 27283, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "d3b687cb-6377-4558-b3c0-1346767da959": {"__data__": {"id_": "d3b687cb-6377-4558-b3c0-1346767da959", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "f12aca09-ff49-4b42-9964-dfb18cc19e58", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "a84db51fa1c9a197d3ed32380ee6877946a8c24dbe9652822c14bebb671284c5", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "bbb96505-d1d4-41a5-90fe-71cf499f3b27", "node_type": "1", "metadata": {}, "hash": "d3c3f5e08e740355d4ef91a428832524e3339cd9f267d095ae4f14f06d7bff74", "class_name": "RelatedNodeInfo"}}, "text": "fine tuning\nbasically same code copy pasted but\nhere's the different output the text it\nwas good is now correctly being\nclassified as positive not a fan don't\nrecommend is correctly classified as\nnegative better than the first one\ncorrectly classified as positive and\nthen this is not worth watching even one\ncorrectly classified as negative and\nthen this one this one is a pass it's\nclassified as positive but this one's a\nlittle tricky even though we don't get\nperfect performance on these five like\nbaby examples we do see that the model\nis performing a little bit better and so\nreturning back to the overfitting\nproblem this example is meant to be more\ninstructive than practical in practice\nbefore jumping to low raw one thing we\nmight have tried is to Simply do\ntransfer learning to see how close we\ncan get to something that does sentiment\nanalysis well after doing the transfer\nlearning then maybe we would use low Rod\nto fine tune the model even further\neither way I hope this example was\ninstructed and gave you an idea of how\nyou can start fine-tuning your very own\nlarge language models if you enjoyed\nthis content please consider liking\nsubscribing and sharing it with others\nif you have any questions or", "start_char_idx": 27153, "end_char_idx": 28370, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "bbb96505-d1d4-41a5-90fe-71cf499f3b27": {"__data__": {"id_": "bbb96505-d1d4-41a5-90fe-71cf499f3b27", "embedding": null, "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "eC6Hd1hFvos", "node_type": "4", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "8b1f446e663c211ca981fad64ed730e53a95c78f24973b7e206957ae76f0e44b", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d3b687cb-6377-4558-b3c0-1346767da959", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "706127be714648bfe70ca704b44bf9d1fedbc7d9e66b9ff3b32928f50b94dfb1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "b08a3f85-9401-4ba5-85f5-109775ea6763", "node_type": "1", "metadata": {}, "hash": "ffd6f4b0c6b7ecdaceb919610933bf54fe28624211b08bf9345e19f25cc4c693", "class_name": "RelatedNodeInfo"}}, "text": "own\nlarge language models if you enjoyed\nthis content please consider liking\nsubscribing and sharing it with others\nif you have any questions or suggestions\nfor future content please feel free to\ndrop those in the comment section below\nand as always thank you so much for your\ntime and thanks for watching", "start_char_idx": 28226, "end_char_idx": 28531, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "b08a3f85-9401-4ba5-85f5-109775ea6763": {"__data__": {"id_": "b08a3f85-9401-4ba5-85f5-109775ea6763", "embedding": null, "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3eq84KrdTWY", "node_type": "4", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "bbb96505-d1d4-41a5-90fe-71cf499f3b27", "node_type": "1", "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}, "hash": "e024d79511488c270171249362c0257c9ff8307d9d6c98972c294e44771b7201", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "15324116-a066-4b75-804e-67d0515969c3", "node_type": "1", "metadata": {}, "hash": "21cd75b3a5dc33c551cd0e7be6bf560bde0296581ccbc5cb10dd9a73b4fca917", "class_name": "RelatedNodeInfo"}}, "text": "Drumroll please; the long-awaited Meta Llama\n3 model is finally here!\nThis is not just any release; it's an exhilarating\nleap forward, with Meta now setting the pace\nfor powerful large language models.\nA very quick introduction before we get into\nhow to easily fine-tune this beast\u2026\nThe Llama 3 model currently comes in two unique\nsizes, from the compact 8 billion parameter\nmodel for smaller projects to the mammoth\n70 billion parameter version for larger scale\nAI applications.\nMore Llama 3 model variants - including a\nmonstrous 400 billion parameter model - are\nsaid to be on the way.\nA comparison of Llama 70B against some notable\nbenchmarks and evaluation metrics show solid\nperformance.\nYou'll find these benchmarks in this blog\npost here.\nNotice the MMLU where Llama 3 takes the lead,\noutperforming similarly-sized contenders.\nIt's also competitive on metrics like HumanEval\nand GSM-8K, although some models like GPT-4,\nGemini Ultra, and Claude 3 Opus aren't included\nin the comparison.\nPresumably, the additional Llama-3 variants,\ncoming later, will be competitive against\nthose flagship models.", "start_char_idx": 0, "end_char_idx": 1104, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "15324116-a066-4b75-804e-67d0515969c3": {"__data__": {"id_": "15324116-a066-4b75-804e-67d0515969c3", "embedding": null, "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3eq84KrdTWY", "node_type": "4", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "b08a3f85-9401-4ba5-85f5-109775ea6763", "node_type": "1", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "b036fbfa9845c31c00c3beaed851cf45cdd9eeb348c1ac1a6494491e19fd55bc", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "53153c8b-6ebd-42fd-847f-1ad51cec872b", "node_type": "1", "metadata": {}, "hash": "5367ab777906025dc9474d69ccf593c6fa2112bd9b5da0ebb7a766c3c607e546", "class_name": "RelatedNodeInfo"}}, "text": "Presumably, the additional Llama-3 variants,\ncoming later, will be competitive against\nthose flagship models.\nThese models should also be multimodal, multilingual,\nand accommodate larger context windows.\nEnough with the setup!\nLet's roll up our sleeves and jump into how\nto quickly and easily fine-tune this model\nfor your specific use case.\nAfter several rounds of testing and tinkering\nwith diverse fine-tuning methods, we've discovered\nthat Unsloth is arguably the best way to fine-tune\nthese LLMs.\nIf you're scratching your head wondering what\nUnsloth is, it\u2019s a way to super efficiently\nfune-tune and serve models - less GPU memory\nusage, less training time, and less headaches.\nThis is open-source, so feel free to check\nout the Unsloth GitHub repository for their\nnotebooks and documentation.\nLet's work with the Llama-3 8B model notebook\nfor a start, but we\u2019ll need to modify this\nto use our own fine-tuning data.\nThere's a well-documented commit history,\ncarefully following the release of Llama 3.\nThe same day as the Llama-3 model dropped,\nwe got a functional notebook for fine-tuning.", "start_char_idx": 995, "end_char_idx": 2091, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "53153c8b-6ebd-42fd-847f-1ad51cec872b": {"__data__": {"id_": "53153c8b-6ebd-42fd-847f-1ad51cec872b", "embedding": null, "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3eq84KrdTWY", "node_type": "4", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "15324116-a066-4b75-804e-67d0515969c3", "node_type": "1", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "540afe6ce0ab733d08856a9448d54d7eb0f235755859c4bd75b756add947f718", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "9f90c7a7-5b74-4335-8bea-9c8a2f4d0240", "node_type": "1", "metadata": {}, "hash": "2b549399a20bd830bf2a773fc934ec0943291cc4577afeca48d7943218252759", "class_name": "RelatedNodeInfo"}}, "text": "The same day as the Llama-3 model dropped,\nwe got a functional notebook for fine-tuning.\nWe can scale to different context lengths\nin this notebook by using RoPE scaling.\nTo make our fine tuning process even more\nefficient, we'll employ quantized LoRA fine-tuning\nlayers.\nWe'll top it off with a single, somewhat larger\nGPU, to allow for much larger context windows\nduring training.\nAs you'll see, you can run this notebook on\nGPU sizes as small as a T4.\nBut remember, the larger the GPU, the larger\nthe context window and the smoother the fine-tuning.\nLooking at the grand scheme of things, our\ngoal here is to harness the power of Unsloth\nand Hugging Face libraries for our fine-tuning\njourney.\nAll of this will be happening on a Colab notebook,\npowered by a dedicated Nvidia A100 GPU.", "start_char_idx": 2003, "end_char_idx": 2790, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "9f90c7a7-5b74-4335-8bea-9c8a2f4d0240": {"__data__": {"id_": "9f90c7a7-5b74-4335-8bea-9c8a2f4d0240", "embedding": null, "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3eq84KrdTWY", "node_type": "4", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "53153c8b-6ebd-42fd-847f-1ad51cec872b", "node_type": "1", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "9e2b20a79eaf151624499f8e8266c36ac1d542684fbbd37d11ddf3e9853696d3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "7672f70d-9da1-4030-979a-d71145a57fec", "node_type": "1", "metadata": {}, "hash": "7165ed04ac477653f587450d741b3bb41d2b73170f5b987751a92b4b93a4fb33", "class_name": "RelatedNodeInfo"}}, "text": "All of this will be happening on a Colab notebook,\npowered by a dedicated Nvidia A100 GPU.\nI can't chat with you if you ain't AI-driven\n(Tech)\nI'm all for the data, show me that you're\nlivin' (True)\nWorkin' with the best, man, Unsloth is fresh\nWe don\u2019t need no multi GPU compute mesh\n(Code)\nHugging Face... and Unsloth, let's go\nHugging Face... and Unsloth, let's go\nIn essence, what we're about to do is a light-touch,\nUnsloth fine tuning of the base Llama 3 model,\nto create our custom fine-tuned model.\nWe'll use some very simple Python code to\nprepare our fine-tuning dataset using our\nown data.\nOnce the model is fine-tuned, the exciting\npart begins, where you can integrate it into\na wide array of applications from web apps\nto chatbots!\nEven if this seems a bit complex, I assure\nyou, it's actually a smooth process with minimal\ncosts involved.\nLet's journey over to our notebook and get\nthe ball rolling.", "start_char_idx": 2700, "end_char_idx": 3612, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "7672f70d-9da1-4030-979a-d71145a57fec": {"__data__": {"id_": "7672f70d-9da1-4030-979a-d71145a57fec", "embedding": null, "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3eq84KrdTWY", "node_type": "4", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "9f90c7a7-5b74-4335-8bea-9c8a2f4d0240", "node_type": "1", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "a3a16ca0d1f76be1be5132e02a9e74121fbedce446cf39d37de68eebddab6b51", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "728ee331-19ad-46dc-a94a-ed911a63ba55", "node_type": "1", "metadata": {}, "hash": "950f6feb1d28bec03a0a096f6222daf110fda731ac13f2ae678fdecc390f7d51", "class_name": "RelatedNodeInfo"}}, "text": "Let's journey over to our notebook and get\nthe ball rolling.\nPretty early on here, we need to make some\ndecisions about our model, notably what base\nmodel we're going to use and our approach\nfor the max sequence length.\nWe can specify any context window because\nUnsloth does RoPE scaling.\nHowever, we do want to make a data-driven\ndecision about what sequence length to choose.\nSo, let's look at our actual data, to set\nthe max sequence length.\nYou can bring in our video-description-provided\nexample data directly, or as a zip if you\nhave Colab Pro to unzip it in a terminal.\nOr, if you already have your own data, even\nbetter!\nFor our example, we're going to use a story\nsummarization use case.\nSo, in this data directory, we've got a bunch\nof stories and we're going to be summarizing\nall those different stories in a certain style.\nI'm going to fine-tune the model to be able\nto do that.\nLet's start bringing in our data here with\nsome new code.\nOur files are going to be in the data directory,\nand we'll parameterize whether we're talking\nabout a story or a summary.", "start_char_idx": 3552, "end_char_idx": 4623, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "728ee331-19ad-46dc-a94a-ed911a63ba55": {"__data__": {"id_": "728ee331-19ad-46dc-a94a-ed911a63ba55", "embedding": null, "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3eq84KrdTWY", "node_type": "4", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "7672f70d-9da1-4030-979a-d71145a57fec", "node_type": "1", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "639ba51adac8a56c206026241aa9f09cc6a932ccd6bfae20aec40a576a48dddd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "4c33437f-1bc8-4416-b8d1-ef5b9bd45439", "node_type": "1", "metadata": {}, "hash": "25484baf438892d3c1ee05a3ec699a14fbfc9346b4ab00656f179fec3d8a51e6", "class_name": "RelatedNodeInfo"}}, "text": "Our files are going to be in the data directory,\nand we'll parameterize whether we're talking\nabout a story or a summary.\nThis is of course not a lot of data - generally\nyou want a number of samples in the hundreds,\nat a bare minimum.\nHowever, this will work for our demonstration\nand we're going to save our last story for\nuse in testing the model afterwards, just\nto have something that it wasn't fine-tuned\non.\nAlright, now we want to get the sequence length\nof our stories so we know what to use for\nthis max sequence length setting.\nLet's use the Transformers library for that\ntask.\nWe're going to use the auto tokenizer from\nthe Transformers Library, making sure to select\nthe right model.\nNext up, let's loop through our files and\nprint out the number of tokens.\nAt the top here, we'll print out a table of\nthe token counts.\nWe're going to be looking at the total tokens,\nthe instruction tokens, and the story and\nsummary tokens.\nWe'll also want some sort of instruction that\nwe're going to be using in our fine-tuning\nhere.", "start_char_idx": 4502, "end_char_idx": 5533, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "4c33437f-1bc8-4416-b8d1-ef5b9bd45439": {"__data__": {"id_": "4c33437f-1bc8-4416-b8d1-ef5b9bd45439", "embedding": null, "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3eq84KrdTWY", "node_type": "4", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "728ee331-19ad-46dc-a94a-ed911a63ba55", "node_type": "1", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "0c7c7414c068611557ff10799b68211a2e02d39833fd83162cd36923fd2902f0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1fca8761-6d37-4110-a2c2-0b0710346435", "node_type": "1", "metadata": {}, "hash": "1310415f7479a88506dc6dccf6d7913fa0b7fec2b241b4d955ecc310acb7d519", "class_name": "RelatedNodeInfo"}}, "text": "We'll also want some sort of instruction that\nwe're going to be using in our fine-tuning\nhere.\nAfter fixing a tiny typo in the tokenizer\nsetup, we can count the tokens and present\nthem in a neat printout.\nIt looks like we can use a 16k context, which\nis beyond Llama-3\u2019s default context window\nand therefore requires RoPE scaling.\nWe've worked on the model configuration, and\nwe're all set for quantization.\nEverything looks ship-shape, so onto the adapter\nlayers!\nThe parameter settings are up to you and have\nimplications on your model.\nTaking guidance from the QLoRA paper, we'll\nopt for an R value of 64 and an Alpha value\nof 16.\nAccording to the paper, these values generalize\nquite well.\nThe R value is related to the number of parameters\nin your adapter layers, so has implications\non computational resources, model complexity,\nmodel quality, and potential overfitting.\nThe Alpha value is a weighting parameter.\nHow much should the base model shine through\nvs. your fine-tuning adaptations?\nOur next mission is to prepare some data using\nthe Hugging Face dataset library.", "start_char_idx": 5439, "end_char_idx": 6517, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1fca8761-6d37-4110-a2c2-0b0710346435": {"__data__": {"id_": "1fca8761-6d37-4110-a2c2-0b0710346435", "embedding": null, "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3eq84KrdTWY", "node_type": "4", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "4c33437f-1bc8-4416-b8d1-ef5b9bd45439", "node_type": "1", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "ab649a88f326da19de87c8651a30e880e168f72f06298ceb8c554459eb60b5e2", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "721bb9b1-3196-4d85-9af7-69b91c278e59", "node_type": "1", "metadata": {}, "hash": "37b0591485595b6e6aacb16969a9ee123c62b9a50ab8c1422b2cd1ef2ebbce98", "class_name": "RelatedNodeInfo"}}, "text": "your fine-tuning adaptations?\nOur next mission is to prepare some data using\nthe Hugging Face dataset library.\nHowever, we are focusing on using your data,\neven if it is not yet defined on Hugging Face.\nWe don't need this code\nSo let's put it in a text cell\nWe don't need this code\nSo let's put it in a text cell\nWe don't need this code\nSo let's put it in a text cell\nWe don't need this code\nSo let's put it in a text cell\nWe'll create a Pandas DataFrame to house our\ninstructions, stories, and summaries.\nAs we sift through the files, we will smoothly\naggregate their contents into these DataFrames.\nThen we'll combine them into fine-tuning examples,\nwith a one-sentence prompt followed by a multi-sentence\nstory, and an expected summary.\nWe could create the fine tuning texts a bit\nmore directly, but it can be nice to have\nall these dataframes for any additional input\nanalysis or preprocessing.\nIt appears we might have veered a bit off\ntrack here; to correct that, we'll need to\nspecify the exact column we require at the\nend.\nNow, that\u2019s much better, isn't it?", "start_char_idx": 6407, "end_char_idx": 7473, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "721bb9b1-3196-4d85-9af7-69b91c278e59": {"__data__": {"id_": "721bb9b1-3196-4d85-9af7-69b91c278e59", "embedding": null, "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3eq84KrdTWY", "node_type": "4", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1fca8761-6d37-4110-a2c2-0b0710346435", "node_type": "1", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "bc7bf52bc5bfa2cdcd4f7a65f02443292b3f09c5f101e29dbef9abe71bb0547b", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1ebc3e85-05d4-4b6d-ab14-9f8b09ae5937", "node_type": "1", "metadata": {}, "hash": "758f8de5b00cc82a45d565d8524cf0dfd907b4827753df857ee7c921856cd564", "class_name": "RelatedNodeInfo"}}, "text": "Now, that\u2019s much better, isn't it?\nOur instruction sits at the beginning, unveiling\nour story, which draws to a close with a summary\nfurther down.\nEqually significant is to incorporate this\ninto our trainer specification.\nHere lies a question for you: should we train\nusing epochs or steps?\nEpochs is often the easier approach, as it\nensures a comprehensive run-through of our\ndata and is more independent of your fine\ntuning dataset size.\nHere, we\u2019ll do just one training epoch \u2013 which\nsaves us the trouble of calculating and configuring\nthe right number of steps.\nFeel free to amp up the number of epochs or\nset an incredibly high max steps count; all\nyou have to do is keep an eye on your loss.\nThen, use a model checkpoint where you have\na good balance of training steps and training\nloss.\nFor a reasonable starting value, I\u2019d recommend\n10 epochs.\nOops, a hiccup with the number of steps specification!\nNo worries, let's adjust that quickly and\nget back on track.\nGreat job!\nNow, the trainer is primed, and our GPU seems\nto be working efficiently.", "start_char_idx": 7439, "end_char_idx": 8490, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "1ebc3e85-05d4-4b6d-ab14-9f8b09ae5937": {"__data__": {"id_": "1ebc3e85-05d4-4b6d-ab14-9f8b09ae5937", "embedding": null, "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3eq84KrdTWY", "node_type": "4", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "721bb9b1-3196-4d85-9af7-69b91c278e59", "node_type": "1", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "4ae7357a8fb6d570241015a562bbbb31a1f808f69799ee4de45eaa9c1843be9d", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "6134efd0-a598-4af7-8859-d607167ee8ae", "node_type": "1", "metadata": {}, "hash": "1e9dac845fba2ef751f1dde49f107d75ec52711b79c1197e8efb2efd98be2685", "class_name": "RelatedNodeInfo"}}, "text": "Great job!\nNow, the trainer is primed, and our GPU seems\nto be working efficiently.\nOur small data set, the configured batching,\nand the low epochs have meant an extremely\nquick training run.\nHowever, your larger, real world datasets\ncould mean significantly longer fine tuning\ntimes.\nWe\u2019ve now tapped into more GPU RAM - about\n35 GB of the available 40.\nRemember our story number 6?\nYes, the one we deliberately excluded from\ntraining.\nThat's next in line.\nLet's combine the instruction and story texts\nto construct an example.\nWe've stumbled on a mistake!\nWe've included the existing summary when we\nshould have left it a suspense-filled blank\nslate.\nLet's hit the retry button, shall we?\nNow that's more like it, we do have a summary.\nWe have a story about a botanist on an adventure\nin the Whisper Peaks.\nGood stuff.\nNo fine-tuning tutorial would be complete\nwithout saving your model somewhere!\nDon\u2019t forget this critical last step.\nThe first option here means that only the\nadapter layers get stored, not the full model.\nAlso, don\u2019t immediately go for the quantized\nmodel save if you may want the full precision\nmodel.", "start_char_idx": 8407, "end_char_idx": 9531, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "6134efd0-a598-4af7-8859-d607167ee8ae": {"__data__": {"id_": "6134efd0-a598-4af7-8859-d607167ee8ae", "embedding": null, "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "3eq84KrdTWY", "node_type": "4", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "60b1b305251ace2856ffc0474f939cd04b893974ea1c4165c30a45392d586b4e", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1ebc3e85-05d4-4b6d-ab14-9f8b09ae5937", "node_type": "1", "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}, "hash": "061dddcde5ea15a770d9a531851dc0bad3b4b6366dabf139c964b4a5b33ba670", "class_name": "RelatedNodeInfo"}}, "text": "Also, don\u2019t immediately go for the quantized\nmodel save if you may want the full precision\nmodel.\nHowever, even if you forget this, you\u2019ll\nget a warning message and would need to force\nthe function.\nConsider saving the full float-16 model for\nmore compatibility with inference frameworks.\nLastly, note that we have both local save\nand hub save options, side-by-side, in the\ncell here.\nWe'll need a token from your Hugging Face\naccount to push \nthe model.\nSaving the full model can take some time.\nAlright, the moment of truth - let's check\nour Hugging Face profile.\nAnd look at that, we've got our beautiful\nLlama-3 fine-tuned QLoRA model ready to go\nfor use in your web applications, chatbots,\nand pipelines!\nWe'll include the diagram file, the example\ndata, and also our custom Python cells in\nthe video description.\nWe\u2019ll keep an eye on the comment section\nfor any questions.\nThank you so much for watching and please\nenjoy responsibly.", "start_char_idx": 9434, "end_char_idx": 10373, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}}, "docstore/ref_doc_info": {"https://www.superannotate.com/blog/llm-fine-tuning": {"node_ids": ["f3b19bf6-54e9-4367-92d8-6d704f9167ed", "21939415-3d57-463c-bf69-c0cd422a966b", "620aea7e-2587-47b8-9846-5a94acea841f", "001758fd-6c1b-4d41-ad49-0ab90414a8f2", "cc8ff14a-9ae4-463b-8071-b94f6bcb3abf", "edc770a6-10c1-4109-8ab6-40ae42793f69", "3a7296d0-13ba-4afc-8f5b-db8eac036707", "99626ace-d0e0-4f23-9e46-66b3a005ee76", "1a0f7c2c-27ee-4a9a-b10e-a0a71f7fa50a", "9e8afd85-a91d-409d-bda3-5483cc48f2cd", "72fc6f75-b8c6-4599-b9cb-7f9b1371dda5", "21e42a98-9af6-4066-bb39-b3bce6642655", "c7b0e07c-94d5-4a96-8e3b-52e209ccca50", "6e6cdcfe-7d97-4083-8aae-a4fa2f7ee420", "7b20ec86-1e9b-4125-81c7-13c11aade369", "ad1a6283-1eab-4d1a-831c-234660dc7cc2", "f673df69-f362-43bd-b1db-76412c808460", "21e6ee37-1917-427d-921f-2d361a7cd961", "3341b33d-23b1-45ab-8004-66265e36099b", "a7bddbb2-2663-4a79-bdae-39f99779e408", "1420e578-37d4-469c-8936-f5fcfd67b99f", "2a97a1e0-25a4-432c-974b-084fd51cbf74", "dae1a6bc-78c6-4b3e-a2c9-de56fbd25ab7", "ae36f543-8bc5-4c88-bffd-18bd902af39d", "f4e486d1-104c-4bcc-a29b-eb2579365e7e", "b3403844-2ec0-4f56-b9ac-43292713e637", "f089470c-02c7-415c-84f7-c5e6ec0f2ac8", "864ffde2-dfab-474d-8097-5c6bf2c99330", "f91d8007-2e77-49fc-b154-4d5e60d911a5", "d0c82ca8-4de3-4379-a7ee-af0762408697", "c5b24055-55de-4b31-beb2-af317e1aa7d4", "2cbc9a8f-6514-4ee0-957e-c4902d0e5544", "cb9bbe4d-9417-4d2b-98d2-83702bb8fc0b", "b9b5d250-70f0-4574-9b39-d7a355bccc0b", "aad45df8-386f-45bc-9f21-4d006865243b"], "metadata": {"doc_id": "https://www.superannotate.com/blog/llm-fine-tuning"}}, "https://huggingface.co/docs/autotrain/en/llm_finetuning": {"node_ids": ["e7e26331-ee3d-4f11-981e-e58433ef0bcf", "b32a6f0c-4fbd-48a7-9cbb-e799f68b1460", "b8ecf96c-98e4-4ea4-bf20-5f4edc07b9b5", "9ad5b11f-018f-4e2c-b3f4-c6b79900a172", "80a90cc9-6068-4da1-917f-c1a2d1f8f14a", "27fa6aa2-d174-4b85-9a8f-2f2575a1297c", "91ff4883-8be7-4692-8121-58705459795b", "182e86ff-d1bf-48f4-bd37-106aba905817", "e372e557-cda7-4ef2-b7d6-d7b70f1b6895", "1fcc536f-4ad0-4f7b-89aa-3030a358bcbb", "b7d82b5a-2e26-4c66-aee7-ee4e657103f0", "8aebf90e-0858-4bf0-8077-765b197d0a37", "0edba23d-a0b9-4db5-872e-d762b18c0aca", "6c40c42f-4287-4d1a-acc1-70f9807d65d8", "1e8eaf89-4bb4-4dba-8ae6-5e83c3297293", "c794e1fe-e3b2-4ff1-8db4-eb2c0a9b6815"], "metadata": {"doc_id": "https://huggingface.co/docs/autotrain/en/llm_finetuning"}}, "4831ac00-9f74-4a2e-85dc-fee6cc65c461": {"node_ids": ["a48e56be-96fc-4e38-8113-616714d346c1", "17de102c-2005-4ece-83c6-ce18e2da7f25", "9e763c94-a0a7-4996-b411-43d4e4327aea", "59b92eed-c969-412a-a59c-ac6cb42e39e9"], "metadata": {"page_label": "1", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "e2613c84-a2eb-4267-817e-dc8060a1afc0": {"node_ids": ["b4dca2e9-85cb-4188-a693-29d0d8ef13cb", "f00a11c2-b66b-4e82-b821-eb408ca7dbfb", "6aca11f8-0048-488c-aba0-70d5d88806cc", "e64a1c2b-d511-4677-af2a-ca315b2b373a", "5ae5aab8-dc2a-4c04-aefa-43ac536fc8e3", "e7257b55-5968-41bf-b331-9dc183bd1db3"], "metadata": {"page_label": "2", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "1e6ef2fb-23d2-4924-a911-620353761d4a": {"node_ids": ["5dcd3e35-2f13-4b71-968a-54480511cf13", "3a3aef8f-bc31-4514-8cf9-b16ee7643cf6", "df919adf-a8cf-493f-a06c-5abe0105fc37", "f4f753b4-d7a4-49a0-80ad-36923cdc7c55", "ad5f8c08-4b75-452c-973a-36744f9675bd", "1720f334-5e5f-4f98-b483-38bbdf3c0b4a"], "metadata": {"page_label": "3", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "cf67a37f-c5f5-4556-8047-d4985fcbd589": {"node_ids": ["be465b80-5bca-42bc-8b6d-ba84e4aa5e5d", "34928461-8dd2-47d2-b866-a1a2701e1dbd", "5a6562b9-90e3-423e-b86d-8fe784142fb2", "614f8c14-69d2-4a96-b23e-4be46fb0c2df", "53310239-7ff8-46c2-bdbe-aeb4bb342332", "40a630f8-d169-45c2-9509-ab9855c13882", "3488941d-d6cc-4781-add4-52761ad6c0e5"], "metadata": {"page_label": "4", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "fc0a84c0-dd7a-4478-bb0b-342045637dd3": {"node_ids": ["a5c86f23-bdf5-4c87-a9cf-6c041d66b5d3", "0e68c496-5c11-452e-9732-8cee77221759", "b11c4bf3-a649-40eb-a878-d60ee514cbe6", "e0882491-3036-4149-88f8-393ef4969288"], "metadata": {"page_label": "5", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "f2b631e0-f157-4609-93c8-6869ec60a479": {"node_ids": ["43a75da1-065c-4b29-89c0-af0b22e5cc7b", "c8bd21c8-df10-4a62-8e37-95fa39ea0ff9", "ffb81d96-6e75-43aa-a5f8-7dc0c5b3a4f9", "e60b182c-b968-4a70-9b78-95edf98c471f", "e86f6114-5f85-4ba2-9bd9-15ac5caf34c7"], "metadata": {"page_label": "6", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "b27fd425-9188-4b5b-abd8-7b61cfc0d5bd": {"node_ids": ["a59212d8-5ba4-45c0-b16d-13638c1746cb", "1c43cdaf-5f01-42cd-a222-067786d7817a", "65aa3e6e-ceab-4fed-b651-ff855c8ce0ea", "40b428ee-94ec-4178-8849-1f6cab0fdf19", "b7486aa7-c66d-42f3-83b5-96fd790f90b6", "722160cd-8098-4953-85b7-06f280eb067b"], "metadata": {"page_label": "7", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "a0587c50-158a-46ed-a609-795e2c009d5b": {"node_ids": ["407c3582-d6ce-4654-badc-22748af3ec24", "83da014b-3aa9-4d82-9bb6-d7f407840a1c", "d2b00fb9-dc93-4af8-9d47-56622bc35c92", "ddd18a85-92eb-4d52-91de-9f60c5b2bfd3", "3880f9b1-e0be-495e-9296-03efb65a2a72", "cd513550-2e7d-4c8e-bce3-920c4ded5aa6"], "metadata": {"page_label": "8", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "6e07b7c4-4dc9-41bd-bb8c-db4b4fa4506c": {"node_ids": ["955bf7b2-f1b2-406e-b908-e181ab45735c", "86d4a7db-9a97-4931-80f4-58d9e3b7e745", "e2e84454-ff34-4dac-bb5e-4f328607d0cc", "3dcd89dd-3e11-41f0-b5ac-07e3600a7468", "1a2f3f55-7774-44e7-8b0f-8be1c741d147"], "metadata": {"page_label": "9", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "021bb4ef-8eb2-4de0-ae57-a2b2813f7f80": {"node_ids": ["9c25bafe-f86c-4815-9c8a-779803afdfea", "628ab8d2-ddad-4610-aa76-a3838e631b24", "fedf256e-e12a-4e72-8110-70ceeab812ba", "544fa16d-6af6-4e7d-a023-8b02c59bc8af", "5f82f0a6-fa16-497d-86b1-73af5d0ad42d", "4735cda6-5230-4020-a3d8-c5573739304c", "359bb9f1-aedc-44cf-97a3-2f5dd661334b"], "metadata": {"page_label": "10", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "3be085e6-8e1c-470d-b4e1-3ff0b1d7d6d6": {"node_ids": ["4b15248d-5e2a-4a1c-9c59-f96e13574188", "53ad762f-ca84-4a09-a660-fd485be92bc5", "6cfe4eac-fad8-4f8e-ad87-9df25d67101d", "9e509a1e-a138-4ac2-9014-a497b41e761e", "d9e0118f-9861-431c-ab7a-ff526dbbd428", "8379a386-b275-46c7-b1ae-9454c8e0c7b3"], "metadata": {"page_label": "11", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "df07f28f-5c4b-4098-9b5c-54c4b27f5929": {"node_ids": ["1e028075-7214-47d3-9ec5-688137ca7e56", "69a04d7b-be5b-4b1f-9fe3-db222db53728", "53089959-e48e-4835-a03c-ba02954c06f3", "d087b2e3-2cbf-46ea-873a-1608e62a32a1"], "metadata": {"page_label": "12", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "9fdc4d1e-2ddf-48f6-b30a-c8e96b2453de": {"node_ids": ["af386c75-60bf-4919-adaf-d824f2bae220", "9d4f15c2-5b0b-451a-8e9e-9c12b635d80c", "6d78e4e2-2dce-4b92-bdea-1b9ab9cbf351", "807595ce-b2e5-4b02-9f10-072cfad0422e", "fab4be6e-226e-4bd4-ae21-cc3bde2a881a"], "metadata": {"page_label": "13", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "5412a96d-8d4f-4284-bab0-69537b32ca43": {"node_ids": ["03633bbe-806d-4571-a74b-7e07e0a418ea", "c7eb0f32-6a22-479b-89bb-2d28b96635b4", "902498af-1ed1-4468-95da-d2def3e828c8", "73013d5e-7578-41f6-ba94-96635ff96c38", "e87b2787-183a-4354-aa71-b82e3008a006", "5157b87f-f235-4adf-88e3-c6ae7e57640c"], "metadata": {"page_label": "14", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "4c0250a9-5f43-4c9a-8b7d-1354a2d10e13": {"node_ids": ["70e28532-8bcf-485c-957e-2c0383865a9d", "fdc6f7e7-6e8e-4c92-88d4-180f26b58a3d", "8cbc165c-2d76-43a3-9f66-e065f5c4df18", "d60b8220-4d55-4832-b3c8-cca47a98eeea"], "metadata": {"page_label": "15", "file_name": "example.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example.pdf", "file_type": "application/pdf", "file_size": 547768, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example.pdf"}}, "076b0591-03ca-493c-95a0-e342606a7489": {"node_ids": ["6a1d1e47-f605-48c0-9199-8e26d608584a", "4fa7df18-ab46-4b0c-815c-1a1cc7e311ee", "d3d28ed6-ac1a-4ccf-9a26-4f6b39c6e9e4", "e5b021b0-6f69-4f91-bc8f-84be5c246e45"], "metadata": {"page_label": "1", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "1b2c9cff-cec1-4fe3-ac4f-931b18c5e125": {"node_ids": ["bb7383ea-5694-4631-983b-2a7b0238d20a", "868d6ff7-55a8-4a15-a80a-3967288f6da3", "1c3f8943-f580-4ab2-a51d-7effd6b4a694", "f4691375-1a53-4ef5-a021-144bdce3101b", "89907f38-28a3-494e-9a91-d93eb9c2ab56"], "metadata": {"page_label": "2", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "10f729b0-768c-434e-8b65-113ce3516db3": {"node_ids": ["14dbc3fd-acdc-45c1-a7fe-99ee88353fd2", "dbadf7a5-cfd6-42d4-9ebb-61cfac8d5546", "dd99acec-a2df-410d-926e-9d30bdf67e9b", "0769553f-3384-4345-a5a8-6da62ee91411", "34a59c41-312b-4894-8530-a9a6278faed1", "d1fba956-8088-42f6-b2ec-a26a2400b259"], "metadata": {"page_label": "3", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "90155421-7049-46a8-a9de-d77626055f28": {"node_ids": ["dc55f1f3-5dbf-456d-9775-b24a5252a98e", "ecf2b887-4c8f-44b1-ac6e-92c182c71348", "e7c230db-c916-4ccb-b5a0-2647058cd4e6", "70325e35-f4f0-4201-861b-9523e8f168be", "8f9b3632-0e72-46a4-bf35-bb9a6c677149"], "metadata": {"page_label": "4", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "e26e8403-ad68-44a2-b3df-46b33c406463": {"node_ids": ["49ce16cb-33f0-4c91-8f42-a76e5d17905d", "9e074030-eaeb-4a98-90bf-b0fd05655bf8", "b350f3cb-f577-401b-919b-242ca1799428", "341b456d-500d-4ffe-8ee8-b1332b34cd16", "025d1992-ce81-4ae3-aca1-d34cf8e8bdb6", "52dadbe4-bf3e-40ba-bfbc-43707fb9606b"], "metadata": {"page_label": "5", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "b255242c-0458-4b0c-bab3-81db80ec97e5": {"node_ids": ["b77ac205-bcd9-48f3-8c9c-baa5148d4bb4", "1b463aff-a102-402d-9b79-af1b2b2394ff", "d8f0ed1b-f31c-42f6-8582-7b31e49a1846", "1c8d4bfc-09d9-4539-9a62-d46920ced5c3", "b33486d8-d301-4f79-8e3a-2a07dceb38d9"], "metadata": {"page_label": "6", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "64c6d204-94a9-4bc8-8228-c3f06182b464": {"node_ids": ["c4235c08-09e0-44af-b210-411d86d36c7f", "7716fdff-90c5-40d0-a6e5-9dd4663e0054", "1de620d5-82f5-41c1-ba95-83e9b657391d", "152d2518-c318-4387-ac46-a178ea423027", "6418c383-2410-4618-95c0-258bb3941e76", "104740a4-b236-40e3-8f01-94c9fbfd5401"], "metadata": {"page_label": "7", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "f449925c-f5c8-4e1f-8916-07f69529789e": {"node_ids": ["f5798163-c31e-41bd-bfb1-99fb714c0edc", "d7d4de93-f32c-4767-8691-8e7c05ff8645", "3fa88154-5749-4c6a-ad0f-1a671bbf0e4c", "caf77b0d-f59f-4a88-9e1e-a8d3c5acfd77", "dcbaf16d-6f44-4971-a4b5-5a31179370be"], "metadata": {"page_label": "8", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "7900e689-3da7-4fd3-82fc-cee85a6cc7fc": {"node_ids": ["04ffb3e3-a3e3-4d25-8cc1-914916a24ca2", "c3170bdd-3884-4f31-8f92-47facfb52b5e", "b811a161-5e1e-4160-a30f-6446d5383832", "6d288bb6-dca6-4454-a16c-ddb47e05658f", "a331d043-f308-4792-b214-712bf79a9b17"], "metadata": {"page_label": "9", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "64bbb4bc-98f0-401f-b5ca-dce2d557f443": {"node_ids": ["e7532a3a-7bec-4b25-a88f-26ffd2b7b8e6", "221e698f-e656-48a6-99ac-825fcef03301", "d3666b42-a16d-4e8e-a7a0-2756f06239f0", "64e2d1c0-d1f1-45f4-bd52-a5cfaf72a4db", "6b8e5c2f-8a06-4c93-8d5e-ebba06598913"], "metadata": {"page_label": "10", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "0980330e-d6b6-489b-bff9-8674c7f8066b": {"node_ids": ["1e46e18c-6795-4371-9d16-3e78e14ac7a3", "25cc8802-9d74-45cb-861f-ffc2b8eddb15", "ab2c24ec-ca93-40ed-8904-5ea18244f633", "0caaef26-d8e7-456b-8f0d-285966df87bc", "18724451-8680-46eb-8bde-dc701cad4d6f"], "metadata": {"page_label": "11", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "d43b1873-6bc3-4b6a-8732-60fca7bf0c6c": {"node_ids": ["a596aec9-dfe5-4e98-bccd-2818778b472e", "8d429398-ca4c-4bc6-9df0-06ee54d2aae2", "94dafa68-c2d0-45f2-ba62-1005616548ca", "c385740d-357e-47e7-b734-9b0b9b524afb", "30bd9279-5fa6-473d-baed-5427ca08d321", "32f8bb7c-1da1-4b26-bf5d-25e0293e5587"], "metadata": {"page_label": "12", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "0ed27edc-f381-4e22-81bd-6b38387a4217": {"node_ids": ["80b810ec-8c9b-40fd-9895-01b6546a4cdb", "244ee5f6-1537-4a7c-9e9c-987e6dbf6bcf", "5059146c-fce2-4dc3-9103-483604ae75a0", "e466fd4d-85c6-4f41-b425-a793b5efb7d6"], "metadata": {"page_label": "13", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "11baaba9-577c-4545-b88b-9811c23ed1cc": {"node_ids": ["ab2339c1-9da7-49db-a757-462df86cebb7", "c81d6123-73c8-4317-9e60-4ab5be09754e", "24c4f36b-de4a-4347-a653-ca7010aa91bf", "9c3b6822-8e31-4dd1-bdab-106bcda402d8", "2a42b6e0-1946-435b-bf81-c3b766fde967"], "metadata": {"page_label": "14", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "61cbab43-6b79-4845-a361-d5427aafa1a9": {"node_ids": ["7f14acf9-1ec6-4bbe-8173-91a6635dce03", "f7a350f4-b8c3-4272-919e-af2367dc50d8", "0b46ee73-cb65-47dc-8c67-3f6ea7a02195", "f10eaf7b-8f98-4f3c-9084-c8e38c92f0ef"], "metadata": {"page_label": "15", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "41e17dde-d231-4d42-85c2-59929153d327": {"node_ids": ["6cefcb51-581b-4533-bafb-475601f1a506", "51105f10-ffd3-47c6-b1d2-1a6726236cd1", "4c81e819-bec4-4845-b59f-b9d7ebc726c3", "62705c43-62f1-42ab-bced-38438876c732"], "metadata": {"page_label": "16", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "7fde48db-bce7-4184-b2ed-0f050d5a1d7d": {"node_ids": ["5f2c3d97-4fdc-4a98-9dfb-368862424608", "2792076a-96c9-49ae-906c-dae9e9d6c9cf", "22e432e3-b632-4114-b5dd-c8b28caf4d02", "99f65f00-f618-43db-8c31-8a48c0cd64b3"], "metadata": {"page_label": "17", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "260e2a98-a4dc-45d4-9c4c-51ec0d2d8590": {"node_ids": ["84f17bd9-1750-48f2-81fd-98ee3784f5e9", "49f9c8d7-69d7-405f-bb37-2b9befb909ee", "8bea9fa3-5998-47dc-b409-ad60b0ab673d", "bd4c677f-0968-404a-a18a-f1b1cbb1728f", "a21e9a9b-447d-482c-b708-9f8109546f32", "5e9d96e9-169a-49bc-8885-8ddb74cf174d", "6c7bb401-b5cf-47f3-aaea-86dc7d0a39d5"], "metadata": {"page_label": "18", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "e48f6ee0-d7c0-4041-9896-107befc594f3": {"node_ids": ["936b8e86-6d87-4daf-82ca-4f0d4a1afaac", "b1aa9a5a-8a71-47ff-988a-675c1695c55d", "9529d842-8601-4107-ba7c-91c920e57094", "815bae9c-3b2e-4139-b3ac-8160ab1bcfb9", "5ddb77a8-01e9-42c7-8191-364db3a66ae8", "77737b6f-4a4d-4324-967b-aa821e9f4823"], "metadata": {"page_label": "19", "file_name": "example_2.pdf", "file_path": "/Users/danliu/chatbot/data/llm_finetune/pdfs/example_2.pdf", "file_type": "application/pdf", "file_size": 1168784, "creation_date": "2024-04-28", "last_modified_date": "2024-04-28", "doc_id": "example_2.pdf"}}, "eC6Hd1hFvos": {"node_ids": ["b1b2874a-cd39-4a9b-9205-9ef4d370093a", "65356482-211d-4c45-8f7d-7796b363ac01", "7850fa81-40ae-484d-9eaa-201de2bb6028", "d5051f25-4082-445f-944a-f532789a12dd", "7b43ecac-a4b6-4b24-8a7b-e10dc8899d5c", "0f10dc09-aa72-484f-a3bb-448f7aed4ccf", "cf25475f-df8e-49b4-9cd0-b0d77fb8ae54", "395c02b3-8ab6-4c20-a857-d62add0a2e4f", "0c393095-68f2-48b2-ba9f-80028ca15b6d", "6c14a417-3bd7-487b-a501-fdd5a7a90ac2", "295762cc-cedd-4582-8454-9da04c8ee569", "58c9f2f0-1e72-46ba-a371-8fdaaa6cb49a", "b1364c76-7afb-42f8-9892-ad7031610d16", "65446c98-41dc-46df-a8c0-81ca7fad22b4", "3ae70dce-e19e-4e17-acd4-e930224d4691", "d520b13b-342c-41a0-b77e-7190ad1aaef0", "98fb6a59-1c44-4c41-8484-a5ad0c5fadb8", "0e753a5a-66d1-4984-81bf-31c34d9793b4", "c85730e9-10bb-4829-bf24-f8c8fab8c842", "989f9a4f-1357-40e6-a3fe-dbc9aaccb263", "16de402f-3533-4e02-9cdf-35302e3b8cfb", "db40508d-80dd-4727-90e4-a9f8f541d993", "0bcfaf42-4581-4af8-9fed-a8f0d5527252", "dc49713b-f981-4800-af6c-1d6070cd33cc", "29b1f03e-4205-4989-a3bf-c4212906266a", "f12aca09-ff49-4b42-9964-dfb18cc19e58", "d3b687cb-6377-4558-b3c0-1346767da959", "bbb96505-d1d4-41a5-90fe-71cf499f3b27"], "metadata": {"video_id": "eC6Hd1hFvos", "doc_id": "https://www.youtube.com/watch?v=eC6Hd1hFvos"}}, "3eq84KrdTWY": {"node_ids": ["b08a3f85-9401-4ba5-85f5-109775ea6763", "15324116-a066-4b75-804e-67d0515969c3", "53153c8b-6ebd-42fd-847f-1ad51cec872b", "9f90c7a7-5b74-4335-8bea-9c8a2f4d0240", "7672f70d-9da1-4030-979a-d71145a57fec", "728ee331-19ad-46dc-a94a-ed911a63ba55", "4c33437f-1bc8-4416-b8d1-ef5b9bd45439", "1fca8761-6d37-4110-a2c2-0b0710346435", "721bb9b1-3196-4d85-9af7-69b91c278e59", "1ebc3e85-05d4-4b6d-ab14-9f8b09ae5937", "6134efd0-a598-4af7-8859-d607167ee8ae"], "metadata": {"video_id": "3eq84KrdTWY", "doc_id": "https://www.youtube.com/watch?v=3eq84KrdTWY&ab_channel=NodematicTutorials"}}}}